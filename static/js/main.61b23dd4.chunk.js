(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[0],{106:function(e,t,n){e.exports={container:"DesktopNavigation_container__wBUMo",logo:"DesktopNavigation_logo__HaMwl","icon-holder":"DesktopNavigation_icon-holder__1tF2O",selected:"DesktopNavigation_selected__lxAJS",icon:"DesktopNavigation_icon__MmtJ2",label:"DesktopNavigation_label__1zov9"}},107:function(e,t,n){e.exports={container:"MobileLocationInput_container__19l5c","input-container":"MobileLocationInput_input-container__1ZuzP",preview:"MobileLocationInput_preview__XV_eu",select:"MobileLocationInput_select__3zJyP",back:"MobileLocationInput_back__3jrLq"}},108:function(e,t,n){e.exports={container:"TransactionsByMonth_container__2j3XZ","see-more":"TransactionsByMonth_see-more__38-rC",empty:"TransactionsByMonth_empty__3lZIG",month:"TransactionsByMonth_month__2oKZo","monthly-total":"TransactionsByMonth_monthly-total__1rKPP"}},118:function(e,t,n){e.exports={scrollable:"AutofillManager_scrollable__33oLY",container:"AutofillManager_container__1_u4p",create:"AutofillManager_create__2LZ5o",empty:"AutofillManager_empty__1Z5p5"}},119:function(e,t,n){e.exports={container:"BasicFields_container__e73I7",tag:"BasicFields_tag__1c9XQ",divider:"BasicFields_divider__3US8N",rating:"BasicFields_rating__1cOkJ"}},120:function(e,t,n){e.exports={container:"DescriptionEditor_container__1rN82",editor:"DescriptionEditor_editor__18ygn",preview:"DescriptionEditor_preview__XWFEi"}},121:function(e,t,n){e.exports={container:"PreviousLocationList_container__2gR8D",search:"PreviousLocationList_search__2iTQs","awaiting-location":"PreviousLocationList_awaiting-location__1mm2L",scrollable:"PreviousLocationList_scrollable__1qDj2",list:"PreviousLocationList_list__1_U3b",listing:"PreviousLocationList_listing__3n77t"}},122:function(e,t,n){e.exports={container:"DesktopLocationInput_container__2awLK","input-container":"DesktopLocationInput_input-container__vcyky",preview:"DesktopLocationInput_preview__24z5i",select:"DesktopLocationInput_select__3w6Il"}},123:function(e,t,n){e.exports={container:"BudgetPieChart_container__10gdb",description:"BudgetPieChart_description__2OBml",chart:"BudgetPieChart_chart__1T4nE",full:"BudgetPieChart_full__1P93t"}},124:function(e,t,n){e.exports={container:"DrinkDetails_container__3IMmY",image:"DrinkDetails_image__1kIZ-",map:"DrinkDetails_map__1pbU8",actions:"DrinkDetails_actions__1i1gw"}},156:function(e,t,n){e.exports={container:"MobileLocator_container__3rr6S",map:"MobileLocator_map__2__z_","search-area--btn":"MobileLocator_search-area--btn__EwX6_"}},172:function(e,t,n){e.exports={container:"ToolTip_container__25YZL",show:"ToolTip_show__32Srv"}},173:function(e,t,n){e.exports={container:"LocationTagIndicator_container__3pBJx",globe:"LocationTagIndicator_globe__2L8Mz"}},174:function(e,t,n){e.exports={container:"MarkdownDisplay_container__3mHHS",preview:"MarkdownDisplay_preview__1CTkG"}},176:function(e,t,n){e.exports={container:"Searchbar_container__eQ4Ju",results:"Searchbar_results__bKXcG"}},177:function(e,t,n){e.exports={container:"ImageUpload_container__T-AF-",uploading:"ImageUpload_uploading__2Bb3w",uploaded:"ImageUpload_uploaded__3rzol",preview:"ImageUpload_preview__3PXkV"}},179:function(e,t,n){e.exports={container:"VisitedMap_container__q8KED",popup:"VisitedMap_popup__4sXqG"}},204:function(e,t,n){e.exports={card:"Card_card__2AHiK"}},205:function(e,t,n){e.exports={container:"FirebaseStorageImage_container__2B_ky"}},210:function(e,t,n){e.exports={user:"UserLocationButton_user__G4iya",button:"UserLocationButton_button__zjyku"}},212:function(e,t,n){e.exports={container:"Map_container__2Zv1j"}},223:function(e,t,n){e.exports={avatar:"MobileUserIcon_avatar__1p_Al"}},225:function(e){e.exports=JSON.parse('{"themeName":"Light","themeStyles":{"--bg-primary":"white","--bg-secondary":"white","--bg-border":"#FFDCDC","--bg-blend":"linear-gradient(180deg, #FC8A8A 0%, #FFD3B3 100%)","--dash-blend":"#FFD3B3","--avatar-border":"white","--text-primary":"white","--text-secondary":"black","--text-light":"#FFC9C2","--text-accent":"#F68080","--btn-bg":"#F68080","--btn-text":"white","--nav-bg":"#FFAFA4","--nav-text":"white","--blog-text-primary":"#F68080","--blog-bg-secondary":"#F68080","--blog-accent":"#F68080","--blog-bg-primary":"#FFAFA4","--logout-btn":"#FF0000","--history-summary":"black","--add-header":"#FFF1EF","--dash-bg-secondary":"#F68080","--dash-text-secondary":"#FFFFFF","--editor-background":"#FFFFFF","--table-header--text":"#FFFFFF","--overlay-background":"#44444466","--autofill-title":"#f68080","--autofill-text":"#ffffff"}}')},226:function(e){e.exports=JSON.parse('{"themeName":"Dark","themeStyles":{"--bg-primary":"#161C26","--bg-secondary":"#161C26","--bg-border":"#7F91A8","--bg-blend":"linear-gradient(180deg, #050505 0%, #050505 100%)","--dash-blend":"#151515","--avatar-border":"#151515","--text-primary":"white","--text-secondary":"white","--text-light":"#151515","--text-accent":"#7F91A8","--btn-bg":"#F68080","--btn-text":"#151515","--nav-bg":"#050505","--nav-text":"#7F91A8","--blog-text-primary":"white","--blog-bg-secondary":"#101015","--blog-accent":"#7F91A8","--blog-bg-primary":"#050505","--logout-btn":"#7F91A8","--history-summary":"#7F91A8","--add-header":"#7F91A8","--dash-bg-secondary":"#0b0b0b","--dash-text-secondary":"#FFDCDC","--editor-background":"#101015","--table-header--text":"#F68080","--overlay-background":"#000000aa","--autofill-title":"#ffffff","--autofill-text":"#7F91A8"}}')},228:function(e,t,n){e.exports={container:"Blog_container__1ZKxE"}},233:function(e,t,n){e.exports={button:"SearchAreaButton_button__2rtPN"}},234:function(e,t,n){e.exports={popup:"StoreMarker_popup__wTD9d"}},235:function(e,t,n){e.exports={container:"Filter_container__3NBKK"}},238:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE","EXPLORE":"EXPLORE","PUBLIC":"PUBLIC","FAVES":"FAVES"}}')},278:function(e,t,n){},339:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},354:function(e,t,n){},358:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(24),r=n.n(c),i=n(36),o=n(7),s=n(51),l=n(6),d=n(23),u=function(){var e=Object(a.useState)(window.innerWidth<950?"phone":"desktop"),t=Object(l.a)(e,2),n=t[0],c=t[1],r=function(){c(window.innerWidth<950?"phone":"desktop")};return Object(a.useEffect)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]),n},j=n(464),b=n(149),h=n(31),O=n.n(h),m=n(104),p=n(41),f=n(458),v=n(18),x=n.n(v),g=n(30),_=n(78),N=Object(a.createContext)(),y=n(19),k=n(16),w=(n(410),n(188),n(409),n(411),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";A.logEvent("page_view",{page_title:e,page_path:e})}),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"N/A";A.logEvent("exception",{description:e})},L="ryanqyang@gmail.com",C=function(e){S(e),console.log("Please copy this error and send to ".concat(L),e),O.a.fire(y.a.t("Oops..."),y.a.t("Couldn't delete your drink. Try again later!"),"error")},D=function(e){S(e),console.log("Please copy this error and send to ".concat(L),e),O.a.fire(y.a.t("Oops..."),JSON.stringify(e),"error")},M=function(){O.a.fire(y.a.t("Deleted!"),y.a.t("Drink has been deleted"),"success")},E=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.fire({title:y.a.t("Download Data"),text:y.a.t("Would you like to download all your drink data? (in JSON format)"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:y.a.t("Yes, download ALL of it!")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.fire({title:y.a.t("Are you sure?"),text:y.a.t("Once you delete this you can't get it back!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:y.a.t("Yes, delete it!")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=n(171);n(465),n(446);k.a.initializeApp({apiKey:"AIzaSyBePNJQYVteyh1Ll9fqnXbXc-S8fmJlbTQ",authDomain:"boba-watch-firebase.firebaseapp.com",databaseURL:"https://boba-watch-firebase.firebaseio.com",projectId:"boba-watch-firebase",storageBucket:"boba-watch-firebase.appspot.com",messagingSenderId:"674375234614",appId:"1:674375234614:web:fdaf98c291204b9c",measurementId:"G-C2DYVHCWDR"});var T,A=k.a.analytics(),P=k.a.storage(),B=I.a.AuthUI.getInstance()||new I.a.AuthUI(k.a.auth());T=k.a.firestore();var U=function(){k.a.auth().signOut().then((function(){A.logEvent("logout");var e=localStorage.getItem("theme");localStorage.clear(),localStorage.setItem("theme",e)})).catch(D)},R=function(e){var t={td:e.ctd,tc:e.ctc,ad:e.cad,d:e.d};return e.d=Array(7).fill(Array(24).fill(0)),[Object(o.a)({},e),t]},J=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{ctd:t.td,ctc:t.tc,cad:t.ad,d:t.d})};function H(){for(var e={td:0,tc:0,ad:0,ctd:0,ctc:0,cad:0,d:Array(7)},t=0;t<7;t++)e.d[t]=Array(24).fill(0);return e}function Z(){var e=JSON.parse(localStorage.getItem("drinkids")),t=H(),n=H(),a=new Date,c=a.getMonth(),r=a.getFullYear();e.forEach((function(e){try{var a=JSON.parse(localStorage.getItem(e)),i=new Date(a.date);i.getMonth()===c&&i.getFullYear()===r&&Y(a,t),Y(a,n)}catch(o){console.log("error",o),console.log(e)}}));var i=J(t,n);return localStorage.setItem("metrics",JSON.stringify(i)),i}function V(e){var t=JSON.parse(localStorage.getItem("drinkids")),n=R(JSON.parse(localStorage.getItem("metrics"))),a=Object(l.a)(n,2),c=a[0],r=a[1],i=JSON.parse(localStorage.getItem(e)),o=new Date,s=o.getMonth(),d=o.getFullYear(),u=new Date(i.date);u.getMonth()===s&&u.getFullYear()===d&&Y(i,c,!1),Y(i,r,!1);var j=t.indexOf(e);j>-1&&t.splice(j,1);var b=J(c,r);return localStorage.removeItem(e),localStorage.setItem("drinkids",JSON.stringify(t)),localStorage.setItem("metrics",JSON.stringify(b)),b}function G(e,t,n,a,c){if(c<=a)return n.splice(t<new Date(JSON.parse(localStorage.getItem(n[a])).date)?a+1:a,0,e);var r=parseInt((c-a)/2+a),i=new Date(JSON.parse(localStorage.getItem(n[r])).date);return t.getTime()===i.getTime()?n.splice(r+1,0,e):t<i?G(e,t,n,r+1,c):G(e,t,n,a,r-1)}function W(e,t){var n=JSON.parse(localStorage.getItem("drinkids")),a=R(JSON.parse(localStorage.getItem("metrics"))),c=Object(l.a)(a,2),r=c[0],i=c[1],o=new Date,s=o.getMonth(),d=o.getFullYear(),u=new Date(e.date);n.length?G(t,u,n,0,n.length-1):n.push(t),u.getMonth()===s&&u.getFullYear()===d&&Y(e,r),Y(e,i);var j=J(r,i);return localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem("drinkids",JSON.stringify(n)),localStorage.setItem("metrics",JSON.stringify(j)),j}function Y(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var a=n?1:-1;t.td+=a,t.tc+=parseFloat(e.price)*a,t.ad=parseFloat(t.tc)/parseFloat(t.td);var c=new Date(e.date);t.d[c.getDay()][c.getHours()-1]+=a}catch(r){console.error("BROKE: ",r),console.error(e)}}var z,X,q=function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.collection("users/".concat(n,"/drinks")).add(Object(o.a)({created:k.a.firestore.FieldValue.serverTimestamp(),edited:k.a.firestore.FieldValue.serverTimestamp()},t));case 3:return a=e.sent,e.next=6,a.get();case 6:return c=e.sent,r=Object(o.a)({id:c.id},c.data().drink),e.abrupt("return",Q(r,n));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",D(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(g.a)(x.a.mark((function e(t,n,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.collection("users/".concat(a,"/drinks")).doc(n).set(Object(o.a)({edited:k.a.firestore.FieldValue.serverTimestamp()},t));case 3:return V(n),e.abrupt("return",Q(Object(o.a)({id:n},t.drink),a,!0));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",D(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{T.collection("users/".concat(t,"/user")).doc("autofill").set({data:JSON.stringify(e)}).then((function(){localStorage.setItem("autofill",JSON.stringify(e)),n()})).catch((function(e){D(e)}))}catch(a){return D(a)}},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=W(e,e.id);a.d=JSON.stringify(a.d),T.collection("users/".concat(t,"/user")).doc("stats").set(a).finally((function(){O.a.fire(y.a.t("Done!"),y.a.t(n?"Drink updated":"Drink added"),"success")}))},ee={image:"",price:0,date:(new Date).toISOString()},te=function(){var e=Object(d.f)().state,t=Object(d.g)(),n=Object(d.h)().id,c=Object(a.useContext)(N),r=Object(l.a)(c,1)[0],i=Object(a.useState)(ee),s=Object(l.a)(i,2),u=s[0],j=s[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),O=h[0],m=h[1],p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;if("function"===typeof n){if(!n(t))return}else if(t.length>=n)return;j((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(_.a)({},e,t))}))},f=function(){var e=Object(g.a)(x.a.mark((function e(a){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),m(!0),c=Object(o.a)(Object(o.a)({},u),{},{date:new Date(u.date).toISOString(),price:parseInt(100*parseFloat(u.price))}),n){e.next=8;break}return e.next=6,q({drink:c},r.uid);case 6:e.next=10;break;case 8:return e.next=10,$({drink:c},n,r.uid);case 10:j(ee),m(!1),t("/history");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(n){var e=JSON.parse(localStorage.getItem(n));e.price=e.price/100,j(e)}}),[n]),Object(a.useEffect)((function(){(null===e||void 0===e?void 0:e.address)&&(null===e||void 0===e?void 0:e.location)&&j(Object(o.a)(Object(o.a)({},ee),{},{address:e.address,location:e.location}))}),[e]),{disabled:O,form:u,id:n,setForm:j,editForm:p,handleChange:function(e,t){return function(n){n.preventDefault(),p(e,n.target.value,t)}},submit:f}},ne=n(42),ae=function(){var e,t=Object(a.useContext)(N),n=Object(l.a)(t,1)[0],c=Object(a.useState)(null!==(e=JSON.parse(localStorage.getItem("autofill")))&&void 0!==e?e:[]),r=Object(l.a)(c,2),i=r[0],s=r[1],d=Object(a.useCallback)((function(){var e;s(null!==(e=JSON.parse(localStorage.getItem("autofill")))&&void 0!==e?e:[])}),[]),u=Object(a.useCallback)((function(e){var t=[Object(o.a)(Object(o.a)({},e),{},{value:e.name+(new Date).toISOString()})].concat(Object(ne.a)(i));K(t,n.uid,(function(){O.a.fire(y.a.t("Saved!"),y.a.t("You can now autofill your next purchase with these drink details."),"success"),d()}))}),[i,n.uid,d]),j=Object(a.useCallback)((function(e){var t=Object(ne.a)(i).filter((function(t){return t.value!==e}));K(t,n.uid,(function(){O.a.fire(y.a.t("Deleted!"),y.a.t("Deleted this saved entry."),"success"),d()}))}),[i,n.uid,d]);return{autofill:i,add:u,remove:j}},ce=n(4),re=n(204),ie=n.n(re),oe=n(1),se=["className","children","title"],le=function(e){var t=e.className,n=e.children,a=e.title,c=Object(s.a)(e,se);return Object(oe.jsxs)("div",Object(o.a)(Object(o.a)({className:Object(ce.a)(ie.a.card,t),ref:c.forwardedref},c),{},{children:[a&&Object(oe.jsx)("h2",{children:a}),n]}))},de=Object(a.memo)(le),ue=(n(278),function(e){return e+"_420x420"}),je=function(e){return e+"_1280x1280"},be=function(){var e=Object(g.a)(x.a.mark((function e(t){var n,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:"original",e.t0=n,e.next="thumbnail"===e.t0?4:(e.t0,13);break;case 4:return e.prev=4,e.next=7,P.ref(ue(t)).getDownloadURL();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t1=e.catch(4),S(e.t1);case 13:return e.prev=13,e.next=16,P.ref(je(t)).getDownloadURL();case 16:return e.abrupt("return",e.sent);case 19:return e.prev=19,e.t2=e.catch(13),e.prev=21,e.next=24,P.ref(t).getDownloadURL();case 24:return e.abrupt("return",e.sent);case 27:return e.prev=27,e.t3=e.catch(21),S(e.t3),e.abrupt("return","");case 31:case"end":return e.stop()}}),e,null,[[4,10],[13,19],[21,27]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.ref(t),n=[t,ue(t),je(t)],e.abrupt("return",Promise.all(n.map((function(e){return P.ref(e).delete()}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=n(205),me=n.n(Oe),pe=function(e){var t=e.className,n=e.image,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){if(!n)return o(!1);Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,be(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[n]),Object(oe.jsx)("div",{className:Object(ce.a)(t,me.a.container),children:i&&Object(oe.jsx)("img",{src:i,alt:"user-upload"})})},fe=Object(a.memo)(pe),ve=n(172),xe=n.n(ve),ge=function(e){var t=e.show,n=e.children;return Object(oe.jsx)("div",{className:Object(ce.a)(xe.a.container,t&&xe.a.show),children:Object(oe.jsx)("div",{children:n})})},_e=Object(a.memo)(ge),Ne=n(206),ye=n.n(Ne),ke=n(173),we=n.n(ke),Se=function(e){var t=e.className,n=e.address,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],o=r[1];return Object(oe.jsxs)("div",{className:Object(ce.a)(t,we.a.container),children:[Object(oe.jsx)(_e,{show:i,children:"This location is tagged. Its address is saved and will show on the map."}),(null===n||void 0===n?void 0:n.lat)&&(null===n||void 0===n?void 0:n.lng)&&Object(oe.jsx)(ye.a,{onMouseEnter:function(){o(!0)},onMouseLeave:function(){return o(!1)},className:we.a.globe})]})},Le=Object(a.memo)(Se),Ce=n(35),De=n(83),Me=n.n(De),Ee=n(174),Fe=n.n(Ee),Ie=function(e){var t=e.description,n=new Me.a;return Object(oe.jsx)("div",{className:Fe.a.container,children:t&&""!==t?Object(oe.jsx)(Ce.b,{id:Fe.a.preview,view:{menu:!1,md:!1},readOnly:!0,renderHTML:function(e){return n.render(e)},canView:{menu:!1,md:!1,html:!1,fullScreen:!1,hideMenu:!1},value:t}):Object(oe.jsx)("span",{children:"[no description]"})})},Te=Object(a.memo)(Ie),Ae=n(462),Pe=(n(339),function(e){var t=e.open,n=e.setOpen,c=e.children,r=Object(a.useRef)(null);return Object(oe.jsx)(Ae.a,{in:t,timeout:100,classNames:"fade-quick",children:Object(oe.jsx)("div",{className:Object(ce.a)("modal-backdrop",t&&"open"),onClick:function(e){r.current&&r.current===e.target&&n(!1)},ref:r,children:c})})}),Be=Object(a.memo)(Pe),Ue=n(451),Re=n(467),Je=n(450),He=n(466),Ze=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),s=i[0],d=i[1],u=function(e){d(e.message)},j=function(e){var t=e.coords,n=e.timestamp;c({accuracy:t.accuracy,alt:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,lat:t.latitude,lng:t.longitude,timestamp:n})};return Object(a.useEffect)((function(){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(j,u,{}):d("Geolocation is not supported")}),[]),Object(o.a)(Object(o.a)({},n),{},{error:s})},Ve=n(211),Ge=n.n(Ve),We=n(210),Ye=n.n(We),ze=function(e){var t=e.setPosition,n=Ze(),c=Object(Je.a)(),r=Object(a.useCallback)((function(){if(!(null===n||void 0===n?void 0:n.lat)&&!(null===n||void 0===n?void 0:n.lng))return null;t([n.lat,n.lng]),c.flyTo([n.lat,n.lng],13,{animate:!0,duration:1})}),[n,c,t]);return Object(a.useEffect)(r,[r]),Object(oe.jsxs)(oe.Fragment,{children:[(null===n||void 0===n?void 0:n.lat)&&(null===n||void 0===n?void 0:n.lng)&&Object(oe.jsx)(He.a,{center:[n.lat,n.lng],radius:5,fill:!0,color:"#B64040",fillColor:"#B64040",fillOpacity:"1"}),Object(oe.jsx)("button",{className:Ye.a.button,onClick:r,children:Object(oe.jsx)(Ge.a,{})})]})},Xe=Object(a.memo)(ze),qe=function(e){var t=e.center,n=Object(Je.a)();return Object(a.useEffect)((function(){n.flyTo(t,13,{animate:!0,duration:.5})}),[t,n]),Object(oe.jsx)("div",{})},$e=n(212),Ke=n.n($e),Qe=(n(340),["className","children","center","theme","hasCenterButton"]),et=[40.4637,-3.7492],tt=function(e){var t=e.className,n=e.children,c=void 0===n?function(){}:n,r=e.center,i=e.theme,d=e.hasCenterButton,u=void 0===d||d,j=Object(s.a)(e,Qe),b=Object(a.useState)(null),h=Object(l.a)(b,2),O=h[0],m=h[1];return Object(oe.jsx)(de,{className:Object(ce.a)(t),children:Object(oe.jsxs)(Ue.a,Object(o.a)(Object(o.a)({className:Ke.a.container,center:null!==r&&void 0!==r?r:et,minZoom:2.5,attributionControl:!1},j),{},{children:[r&&Object(oe.jsx)(qe,{center:r}),u&&Object(oe.jsx)(Xe,{setPosition:m}),c(O),"dark"===i&&Object(oe.jsx)(Re.a,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),"default"===i&&Object(oe.jsx)(Re.a,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"})]}))})},nt=Object(a.memo)(tt),at=n(144),ct=n.n(at),rt=n(142),it=n.n(rt),ot=n(213),st=n.n(ot),lt=n(143),dt=n.n(lt),ut=n(214),jt=n.n(ut),bt=n(58),ht=n.n(bt),Ot=function(){var e=Object(d.f)().pathname,t=function(t){return t===e?" "+ht.a.selected:""},n=Object(a.useContext)(N),c=Object(l.a)(n,1)[0];return Object(a.useEffect)((function(){w(e)}),[e]),Object(oe.jsx)("nav",{className:ht.a.container,children:Object(oe.jsxs)("div",{className:ht.a["icon-holder"],children:[Object(oe.jsx)(i.b,{to:"/",children:Object(oe.jsxs)("div",{className:ht.a.icon+t("/"),children:[Object(oe.jsx)(it.a,{}),Object(oe.jsx)("p",{className:ht.a.label,children:"home"})]})}),Object(oe.jsx)(i.b,{to:"/history",children:Object(oe.jsxs)("div",{className:ht.a.icon+t("/history"),children:[Object(oe.jsx)(dt.a,{}),Object(oe.jsx)("p",{className:ht.a.label,children:"history"})]})}),Object(oe.jsx)(i.b,{to:"/add",children:Object(oe.jsx)("div",{className:ht.a["add-icon"]+t("/add"),children:Object(oe.jsx)(st.a,{className:ht.a.add})})}),Object(oe.jsx)(i.b,{to:"/map",children:Object(oe.jsxs)("div",{className:ht.a.icon+t("/map"),children:[Object(oe.jsx)(ct.a,{}),Object(oe.jsx)("p",{className:ht.a.label,children:"locator"})]})}),Object(oe.jsx)(i.b,{to:"/blog/"+c.uid,children:Object(oe.jsxs)("div",{className:ht.a.icon+t("/blog/"+c.uid),children:[Object(oe.jsx)(jt.a,{}),Object(oe.jsx)("p",{className:ht.a.label,children:"blog"})]})})]})})},mt=Object(a.memo)(Ot),pt=["title","titleId"];function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function xt(e,t){var n=e.title,c=e.titleId,r=vt(e,pt);return a.createElement("svg",ft({width:414,height:578,viewBox:"0 0 414 578",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,z||(z=a.createElement("g",{filter:"url(#filter0_d)"},a.createElement("rect",{x:337.387,y:32.7237,width:35,height:500.296,rx:2,transform:"rotate(25 337.387 32.7237)",fill:"#C05AFF"}),a.createElement("path",{d:"M328.604 311.218C306.533 227.645 121.756 359.145 113.117 273.222L85.8218 524.755L267.353 556.763L328.604 311.218Z",fill:"#FFCEA0"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.423 133.838C125.98 132.702 119.836 137.004 118.7 143.447C117.775 148.689 120.45 153.733 124.949 156.043L89.95 525.493L90.4558 525.541L267.503 556.76L267.994 556.887L361.465 197.748C366.483 197.115 370.722 193.29 371.646 188.049C372.782 181.605 368.48 175.461 362.037 174.325L132.423 133.838ZM360.41 197.833C359.593 197.861 358.76 197.806 357.922 197.658L128.309 157.171C127.471 157.023 126.67 156.791 125.912 156.484L91.0365 524.628L267.269 555.703L360.41 197.833Z",fill:"#F68080"}),a.createElement("path",{d:"M124.949 156.043L129.927 156.515C130.12 154.479 129.053 152.53 127.233 151.596L124.949 156.043ZM89.95 525.493L84.9723 525.022C84.8473 526.342 85.2518 527.658 86.0969 528.68C86.9419 529.702 88.1584 530.346 89.4786 530.471L89.95 525.493ZM90.4558 525.541L91.324 520.617C91.1925 520.594 91.0602 520.576 90.9272 520.564L90.4558 525.541ZM267.503 556.76L268.763 551.921C268.634 551.887 268.503 551.859 268.372 551.836L267.503 556.76ZM267.994 556.887L266.735 561.726C268.018 562.06 269.382 561.871 270.525 561.199C271.669 560.528 272.499 559.43 272.833 558.147L267.994 556.887ZM361.465 197.748L360.84 192.787C358.81 193.043 357.142 194.509 356.626 196.488L361.465 197.748ZM360.41 197.833L365.248 199.092C365.646 197.564 365.299 195.937 364.311 194.705C363.323 193.473 361.811 192.78 360.233 192.836L360.41 197.833ZM125.912 156.484L127.787 151.849C126.323 151.257 124.665 151.391 123.316 152.211C121.966 153.031 121.083 154.44 120.934 156.013L125.912 156.484ZM91.0365 524.628L86.0588 524.157C85.813 526.751 87.6015 529.1 90.1682 529.552L91.0365 524.628ZM267.269 555.703L266.401 560.627C268.968 561.079 271.452 559.485 272.108 556.962L267.269 555.703ZM123.624 144.315C124.28 140.592 127.831 138.105 131.555 138.762L133.291 128.914C124.129 127.298 115.391 133.416 113.775 142.579L123.624 144.315ZM127.233 151.596C124.629 150.258 123.091 147.337 123.624 144.315L113.775 142.579C112.46 150.04 116.271 157.207 122.665 160.491L127.233 151.596ZM119.971 155.572L84.9723 525.022L94.9277 525.965L129.927 156.515L119.971 155.572ZM89.4786 530.471L89.9843 530.519L90.9272 520.564L90.4215 520.516L89.4786 530.471ZM89.5875 530.465L266.635 561.684L268.372 551.836L91.324 520.617L89.5875 530.465ZM266.244 561.598L266.735 561.726L269.254 552.049L268.763 551.921L266.244 561.598ZM272.833 558.147L366.304 199.007L356.626 196.488L263.155 555.628L272.833 558.147ZM366.722 187.18C366.189 190.202 363.744 192.421 360.84 192.787L362.09 202.708C369.222 201.809 375.254 196.378 376.57 188.917L366.722 187.18ZM361.168 179.249C364.892 179.906 367.379 183.457 366.722 187.18L376.57 188.917C378.186 179.754 372.068 171.017 362.905 169.401L361.168 179.249ZM131.555 138.762L361.168 179.249L362.905 169.401L133.291 128.914L131.555 138.762ZM360.233 192.836C359.764 192.852 359.281 192.82 358.791 192.734L357.054 202.582C358.239 202.791 359.421 202.871 360.586 202.829L360.233 192.836ZM358.791 192.734L129.177 152.247L127.441 162.095L357.054 202.582L358.791 192.734ZM129.177 152.247C128.686 152.16 128.222 152.025 127.787 151.849L124.037 161.119C125.117 161.556 126.256 161.886 127.441 162.095L129.177 152.247ZM96.0142 525.1L130.89 156.956L120.934 156.013L86.0588 524.157L96.0142 525.1ZM268.137 550.779L91.9047 519.704L90.1682 529.552L266.401 560.627L268.137 550.779ZM355.571 196.573L262.43 554.443L272.108 556.962L365.248 199.092L355.571 196.573Z",fill:"#331C00"}),a.createElement("ellipse",{rx:19.4325,ry:19.4785,transform:"matrix(-0.996195 -0.0871557 -0.0871557 0.996195 157.696 365.792)",fill:"black"}),a.createElement("ellipse",{rx:19.4325,ry:19.4785,transform:"matrix(-0.996195 -0.0871557 -0.0871557 0.996195 250.617 373.921)",fill:"black"}),a.createElement("ellipse",{rx:19.4325,ry:11.6871,transform:"matrix(-0.996195 -0.0871557 -0.0871557 0.996195 134.603 406.788)",fill:"#FFAFA4"}),a.createElement("ellipse",{rx:19.4325,ry:11.6871,transform:"matrix(-0.996195 -0.0871557 -0.0871557 0.996195 266.241 418.304)",fill:"#FFAFA4"}),a.createElement("path",{d:"M175.538 410.369C170.036 409.888 165.104 413.975 165.445 419.487C165.63 422.475 166.017 425.424 166.605 428.294C167.841 434.332 169.94 439.905 172.781 444.693C175.623 449.48 179.151 453.39 183.166 456.197C187.18 459.005 191.602 460.656 196.177 461.057C200.753 461.457 205.394 460.599 209.835 458.531C214.276 456.463 218.43 453.225 222.06 449.004C225.69 444.782 228.724 439.659 230.99 433.927C232.067 431.202 232.961 428.366 233.661 425.455C234.954 420.086 230.807 415.204 225.305 414.723L200.422 412.546L175.538 410.369Z",fill:"black"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M188.414 459.114C190.916 460.171 193.52 460.824 196.176 461.057C200.752 461.457 205.393 460.599 209.833 458.531C214.274 456.462 218.428 453.225 222.058 449.004C225.688 444.782 228.722 439.659 230.989 433.927C231.049 433.774 231.108 433.622 231.167 433.469C226.668 431.671 221.465 430.42 215.87 429.931C197.587 428.331 182.029 435.462 181.12 445.857C180.699 450.665 183.487 455.33 188.414 459.114Z",fill:"#FFAFA4"}),a.createElement("circle",{cx:163.5,cy:507.5,r:17.5,fill:"black",fillOpacity:.04}),a.createElement("circle",{cx:253.5,cy:469.5,r:17.5,fill:"black",fillOpacity:.04}),a.createElement("circle",{cx:212.5,cy:492.5,r:17.5,fill:"black",fillOpacity:.04}),a.createElement("circle",{cx:243.5,cy:525.5,r:17.5,fill:"black",fillOpacity:.04}),a.createElement("circle",{cx:128.5,cy:472.5,r:17.5,fill:"black",fillOpacity:.04}))),X||(X=a.createElement("defs",null,a.createElement("filter",{id:"filter0_d",x:0,y:-53,width:413.906,height:630.508,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a.createElement("feOffset",{dy:4}),a.createElement("feGaussianBlur",{stdDeviation:5}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.41 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))}var gt,_t=a.forwardRef(xt),Nt=(n.p,n(215)),yt=n.n(Nt),kt=n(106),wt=n.n(kt),St=[{path:"/",icon:Object(oe.jsx)(it.a,{})},{path:"/history",icon:Object(oe.jsx)(dt.a,{})},{path:"/add",icon:Object(oe.jsx)(yt.a,{})},{path:"/map",icon:Object(oe.jsx)(ct.a,{})}],Lt=function(){var e=Object(d.f)().pathname;return Object(a.useEffect)((function(){w(e)}),[e]),Object(oe.jsxs)("nav",{className:wt.a.container,children:[Object(oe.jsx)("div",{className:wt.a.logo,children:Object(oe.jsx)(_t,{})}),Object(oe.jsx)("div",{className:wt.a["icon-holder"],children:St.map((function(t){var n=t.path,a=t.icon;return Object(oe.jsx)(i.b,{to:n,className:Object(ce.a)(wt.a.icon,n===e&&wt.a.selected),children:a},n)}))})]})},Ct=Object(a.memo)(Lt),Dt=function(){switch(u()){case"desktop":return Object(oe.jsx)(Ct,{});case"phone":default:return Object(oe.jsx)(mt,{})}},Mt=Object(a.memo)(Dt),Et=n(180),Ft=n(176),It=n.n(Ft),Tt=["description","location","name","price","address.address","address.city","address.crossStreet"],At={includeMatches:!0,distance:100,maxPatternLength:30,minMatchCharLength:1,keys:Tt},Pt=function(e){var t=e.placeholder,n=void 0===t?"Search your history...":t,c=e.data,r=void 0===c?[]:c,i=e.keys,s=void 0===i?Tt:i,d=e.Result,u=Object(a.useState)(""),j=Object(l.a)(u,2),b=j[0],h=j[1],O=Object(a.useState)([]),m=Object(l.a)(O,2),p=m[0],f=m[1],v=Object(a.useState)((function(){return new Et.a([],At)})),x=Object(l.a)(v,2),g=x[0],_=x[1];return Object(a.useEffect)((function(){_(new Et.a(r,Object(o.a)(Object(o.a)({},At),{},{keys:s})))}),[r,s]),Object(a.useEffect)((function(){var e=g.search(b);f(e.slice(0,25))}),[g,b]),Object(oe.jsxs)("div",{className:It.a.container,children:[Object(oe.jsx)("input",{type:"text",value:b,placeholder:n,onChange:function(e){h(e.target.value)}}),Object(oe.jsx)("div",{className:It.a.results,children:p.map((function(e){return Object(oe.jsx)(d,Object(o.a)({},e),e.item.id)}))})]})},Bt=Object(a.memo)(Pt),Ut=n(219),Rt=n.n(Ut),Jt=["title","titleId"];function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Vt(e,t){var n=e.title,c=e.titleId,r=Zt(e,Jt);return a.createElement("svg",Ht({viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,gt||(gt=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"white"})))}var Gt,Wt=a.forwardRef(Vt),Yt=(n.p,["title","titleId"]);function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xt(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function qt(e,t){var n=e.title,c=e.titleId,r=Xt(e,Yt);return a.createElement("svg",zt({viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,Gt||(Gt=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"white"})))}var $t=a.forwardRef(qt),Kt=(n.p,n(341),function(e){var t=e.rating,n=e.setRating,a=e.className;return Object(oe.jsx)("div",{className:"star-rating--wrapper",children:Object(oe.jsxs)("div",{className:Object(ce.a)(a,"rating-select"),children:[Object(oe.jsx)("p",{children:"RATING :"}),Object(oe.jsx)(Rt.a,{name:"rating",starCount:5,value:t,renderStarIcon:function(e,t){return e<=t?Object(oe.jsx)($t,{}):Object(oe.jsx)(Wt,{})},onStarClick:function(e){n(e)},onStarHover:function(e){n(e)}})]})})}),Qt=Object(a.memo)(Kt),en=(n(342),function(e){var t=e.value,n=e.id,a=e.label,c=e.autoFocus,r=e.onFocus;return Object(oe.jsxs)("span",{className:Object(ce.a)("text-input",0!==t.length&&"input--filled"),children:[Object(oe.jsx)("input",Object(o.a)(Object(o.a)({},e),{},{autoComplete:"off",onFocus:null!==r&&void 0!==r?r:function(){},autoFocus:null!==c&&void 0!==c&&c,name:n})),Object(oe.jsx)("label",{htmlFor:n,children:Object(oe.jsx)("span",{children:a})})]})}),tn=Object(a.memo)(en),nn=(n(220),n(343),n(86)),an=n.n(nn),cn=function(e){var t,n,c,r=e.className,i=e.theme,s=Object(j.a)().t,d=Object(a.useContext)(N),u=Object(l.a)(d,2),b=u[0],h=u[1],p=Object(a.useState)((null!==(t=b.profile.budget)&&void 0!==t?t:1e4)/100),f=Object(l.a)(p,2),v=f[0],x=f[1],g=Object(a.useState)(null!==(n=b.profile.limit)&&void 0!==n?n:15),_=Object(l.a)(g,2),k=_[0],w=_[1],S=Object(a.useState)(null!==(c=b.profile.sharing)&&void 0!==c&&c),L=Object(l.a)(S,2),C=L[0],D=L[1];Object(a.useEffect)((function(){x(b.profile.budget/100),w(b.profile.limit),D(b.profile.sharing)}),[b]);var M=function(e){return function(t){e(t.target.value)}};return Object(oe.jsx)("div",{className:Object(ce.a)(r),children:Object(oe.jsxs)("div",{className:an.a.container,children:[Object(oe.jsx)("label",{className:an.a["theme-label"],children:"Theme:"}),Object(oe.jsx)(m.a,{options:i.THEME_SELECT_OPTIONS,defaultValue:i.THEME_SELECT_OPTIONS[i.THEMES[i.theme]],name:"theme",onChange:function(e){var t=e.label;i.setTheme(t)},className:an.a["theme-select"]}),Object(oe.jsx)(tn,{id:"monthly-spending-input",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:an.a.input,onChange:M(x),value:v,label:s("Monthly Spending Limit")}),Object(oe.jsx)(tn,{id:"monthly-drinking-limit",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:an.a.input,onChange:M(w),value:k,label:s("Max of drinks / month")}),Object(oe.jsxs)("div",{className:an.a["button-holder"],children:[Object(oe.jsx)("button",{className:"update",onClick:function(){var e={budget:parseInt(100*parseFloat(v)),limit:parseInt(k),sharing:C};T.collection("users/".concat(b.uid,"/user")).doc("profile").set(e).then((function(){h((function(t){return Object(o.a)(Object(o.a)({},t),{},{profile:e})})),O.a.fire(y.a.t("Success!"),y.a.t("Your settings have been updated"),"success")}))},children:s("UPDATE")}),Object(oe.jsx)("button",{className:an.a.logout,onClick:U,children:s("LOGOUT")})]})]})})},rn=Object(a.memo)(cn),on=n(92),sn=n.n(on),ln=function(e){var t=e.theme,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useContext)(N),s=Object(l.a)(o,1)[0];return Object(oe.jsxs)(de,{className:Object(ce.a)(sn.a.container,r&&sn.a.expanded),children:[Object(oe.jsx)("time",{className:sn.a.date,children:(new Date).toDateString()}),Object(oe.jsx)("img",{src:s.photoURL,alt:"",className:sn.a.avatar,onClick:function(){return i((function(e){return!e}))}}),Object(oe.jsx)(rn,{className:Object(ce.a)(sn.a.details,r&&sn.a.expanded),theme:t})]})},dn=Object(a.memo)(ln),un=n(222),jn=n.n(un),bn=(n(354),n(355),function(e){var t,n,c,r=e.open,i=e.setOpen,s=e.theme,d=Object(j.a)().t,u=Object(a.useContext)(N),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)((null!==(t=h.profile.budget)&&void 0!==t?t:1e4)/100),f=Object(l.a)(p,2),v=f[0],x=f[1],g=Object(a.useState)(null!==(n=h.profile.limit)&&void 0!==n?n:15),_=Object(l.a)(g,2),y=_[0],k=_[1],w=Object(a.useState)(null!==(c=h.profile.sharing)&&void 0!==c&&c),S=Object(l.a)(w,2),L=S[0],C=S[1];Object(a.useEffect)((function(){x(h.profile.budget/100),k(h.profile.limit),C(h.profile.sharing)}),[r,h]);var D=function(e){return function(t){e(t.target.value)}},M=function(){i(!1)};return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Be,{open:r,setOpen:i,children:Object(oe.jsxs)("div",{className:"user-modal",children:[Object(oe.jsx)("img",{src:h.photoURL,className:"avatar",alt:""}),Object(oe.jsx)("button",{className:"close-button",onClick:M,children:Object(oe.jsx)(jn.a,{})}),Object(oe.jsx)("h1",{children:d("User Settings")}),Object(oe.jsx)(tn,{id:"monthly-spending-input",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",variant:"outlined",margin:"normal",onChange:D(x),value:v,label:d("Monthly Spending Limit")}),Object(oe.jsx)(tn,{id:"monthly-drinking-limit",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",margin:"dense",variant:"outlined",onChange:D(k),value:y,label:d("Max of drinks / month")}),Object(oe.jsx)("label",{className:"theme-label",children:"Theme:"}),Object(oe.jsx)(m.a,{options:s.THEME_SELECT_OPTIONS,defaultValue:s.THEME_SELECT_OPTIONS[s.THEMES[s.theme]],name:"theme",onChange:function(e){var t=e.label;s.setTheme(t)},className:"theme-select"}),Object(oe.jsxs)("div",{className:"button-holder",children:[Object(oe.jsx)("button",{className:"logout text",onClick:U,children:d("LOGOUT")}),Object(oe.jsx)("button",{className:"update",onClick:function(){var e={budget:parseInt(100*parseFloat(v)),limit:parseInt(y),sharing:L};T.collection("users/".concat(h.uid,"/user")).doc("profile").set(e).then((function(){O((function(t){return Object(o.a)(Object(o.a)({},t),{},{profile:e})})),M()}))},children:d("UPDATE")})]})]})})})}),hn=Object(a.memo)(bn),On=n(223),mn=n.n(On),pn=function(e){var t=e.theme,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useContext)(N),s=Object(l.a)(o,1)[0];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("img",{src:s.photoURL,alt:"",className:mn.a.avatar,onClick:function(){return i(!0)}}),Object(oe.jsx)(hn,{open:r,setOpen:i,theme:t})]})},fn=Object(a.memo)(pn),vn=function(e){var t=e.theme;return"phone"===u()?Object(oe.jsx)(fn,{theme:t}):Object(oe.jsx)(dn,{theme:t})},xn=Object(a.memo)(vn),gn=n(145),_n=n.n(gn),Nn=n(224),yn=n.n(Nn),kn=n(146),wn=n.n(kn),Sn=n(87),Ln=n.n(Sn),Cn=function(e){var t=e.entry,n=e.set,c=e.remove,r=Object(a.useState)(!1),i=Object(l.a)(r,2),o=i[0],s=i[1];return Object(oe.jsxs)(de,{className:Ln.a.container,children:[t.name&&Object(oe.jsxs)("p",{children:[Object(oe.jsx)("span",{children:"name "})," ",t.name]}),t.location&&Object(oe.jsxs)("div",{children:[Object(oe.jsx)("span",{children:"location "})," ",Object(oe.jsx)(Le,{className:Ln.a.tag,address:null===t||void 0===t?void 0:t.address}),t.location]}),(0===t.price||t.price)&&Object(oe.jsxs)("p",{children:[Object(oe.jsx)("span",{children:"price "})," $",(t.price/100).toFixed(2)]}),(0===t.rating||t.rating)&&Object(oe.jsxs)("p",{children:[Object(oe.jsx)("span",{children:"rating "})," ",t.rating,Object(oe.jsx)(_n.a,{className:Ln.a.star})]}),Object(oe.jsxs)("div",{className:Object(ce.a)(Ln.a.actions,o&&Ln.a.show),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(oe.jsx)("button",{className:Ln.a.fill,onClick:n(t),children:Object(oe.jsx)(wn.a,{})}),Object(oe.jsx)("button",{className:Ln.a.delete,onClick:function(){return c(t.value)},children:Object(oe.jsx)(yn.a,{})})]})]})},Dn=Object(a.memo)(Cn),Mn=n(118),En=n.n(Mn),Fn=function(e){var t=e.form,n=e.setForm,a=ae(),c=a.autofill,r=a.add,i=a.remove,s=function(e){return function(t){t.preventDefault(),n((function(t){return Object(o.a)(Object(o.a)(Object(o.a)({},t),e),{},{price:(null===e||void 0===e?void 0:e.price)?e.price/100:t.price})}))}};return Object(oe.jsx)("div",{className:En.a.scrollable,children:Object(oe.jsxs)("div",{className:En.a.container,children:[Object(oe.jsxs)("div",{className:En.a.create,onClick:function(e){e.preventDefault();var n=Object(o.a)(Object(o.a)({},t),{},{price:100*t.price});delete n.id,delete n.date,delete n.edited,delete n.created,r(n)},children:[Object(oe.jsx)("h3",{children:"+ Create"}),Object(oe.jsx)("p",{children:"Click here to save the current form for future use"})]}),0===(null===c||void 0===c?void 0:c.length)&&Object(oe.jsx)(de,{className:En.a.empty,children:"No drinks currently saved"}),c.map((function(e){return Object(oe.jsx)(Dn,{entry:e,set:s,remove:i},e.value)}))]})})},In=Object(a.memo)(Fn),Tn=n(119),An=n.n(Tn),Pn=function(e){var t,n,a=e.form,c=e.setForm,r=e.handleChange,i=e.editForm;return Object(oe.jsxs)("div",{className:An.a.container,children:[Object(oe.jsx)(Le,{className:An.a.tag,address:null===a||void 0===a?void 0:a.address}),Object(oe.jsx)(La,{form:a,onChange:i,setForm:c}),Object(oe.jsx)(tn,{value:null!==(t=a.name)&&void 0!==t?t:"",onChange:r("name",150),label:"Drink Name"}),Object(oe.jsx)(tn,{value:null!==(n=a.price)&&void 0!==n?n:0,onChange:r("price",(function(e){return e.match(/^-?\d*\.?\d*$/)&&e.length<10})),label:"Price",type:"text"}),Object(oe.jsxs)("div",{className:An.a.divider,children:[Object(oe.jsx)(p.a,{utils:b.a,children:Object(oe.jsx)(f.a,{label:"Date",value:a.date,onChange:function(e){return i("date",e,30)},inputProps:{maxLength:100}})}),Object(oe.jsx)(Qt,{className:An.a.rating,rating:a.rating,setRating:function(e){return i("rating",e)}})]})]})},Bn=Object(a.memo)(Pn),Un=n(120),Rn=n.n(Un),Jn=(n(357),function(e){var t=e.description,n=e.setDescription,a=new Me.a;return Ce.b.unuse(Ce.a.Image),Ce.b.unuse(Ce.a.Link),Ce.b.unuse(Ce.a.Clear),Ce.b.unuse(Ce.a.ModeToggle),Ce.b.unuse(Ce.a.BlockCodeBlock),Ce.b.unuse(Ce.a.BlockCodeInline),Ce.b.unuse(Ce.a.FontUnderline),Object(oe.jsxs)("div",{className:Rn.a.container,children:[Object(oe.jsx)(de,{children:Object(oe.jsx)(Ce.b,{id:Rn.a.editor,renderHTML:function(e){return e},view:{html:!1},table:{maxRow:12,maxCol:8},canView:{hideMenu:!1},value:t,onChange:function(e){e.html;var t=e.text;n(t)},placeholder:"How was your drink?"})}),Object(oe.jsx)("h2",{children:"preview"}),Object(oe.jsx)(de,{className:Rn.a.preview,children:Object(oe.jsx)(Ce.b,{id:Rn.a.preview,view:{menu:!1,md:!1},readOnly:!0,renderHTML:function(e){return a.render(e)},canView:{menu:!1,md:!1,html:!1,fullScreen:!1,hideMenu:!1},value:t})})]})}),Hn=Object(a.memo)(Jn),Zn=n(177),Vn=n.n(Zn),Gn=function(e){var t=e.image,n=e.setImage,c=e.className,r=Object(a.useContext)(N),i=Object(l.a)(r,1)[0],o=Object(a.useState)(""),s=Object(l.a)(o,2),d=s[0],u=s[1],j=Object(a.useState)(-1),b=Object(l.a)(j,2),h=b[0],m=b[1],p=Object(a.useRef)(null);Object(a.useEffect)((function(){t&&Object(g.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t);case 2:n=e.sent,m(100),u(n);case 5:case"end":return e.stop()}}),e)})))()}),[t]);var f=function(){var e=Object(g.a)(x.a.mark((function e(a){var c,r,o,s,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=null===p||void 0===p||null===(c=p.current)||void 0===c||null===(r=c.files)||void 0===r?void 0:r[0]).size>5e6)){e.next=5;break}return O.a.fire("File too large","Try a smaller image less than 5MB. Appreciate the high quality images but to keep Boba Watch free, we gotta do it like this. :(","error"),p.current.value="",e.abrupt("return");case 5:""!==d&&he(t),s="drinks/".concat(i.uid,"/post-").concat((new Date).valueOf()),(l=k.a.storage().ref().child(s).put(o)).on("state_changed",(function(e){m(parseInt(e.bytesTransferred/e.totalBytes*100))}),(function(e){"storage/canceled"===e.code?m(-1):S(JSON.stringify(e))}),(function(){n(s),l.snapshot.ref.getDownloadURL().then((function(e){u(e)}))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return h<0?e:h<100?t:n};return Object(oe.jsxs)("label",{className:Object(ce.a)(Vn.a.container,v("","uploading","uploaded"),c),children:[d&&Object(oe.jsx)("img",{className:Vn.a.preview,src:d,alt:"upload-preview"}),v("UPLOAD AN IMAGE","UPLOADING..."),Object(oe.jsx)("input",{type:"file",ref:p,onChange:f,accept:"image/png,image/jpeg"}),Object(oe.jsx)("br",{}),v("",Object(oe.jsx)("progress",{max:"100",value:v(0,h,100)}))]})},Wn=Object(a.memo)(Gn),Yn=function(){var e=Object(d.g)(),t=Object(a.useContext)(N),n=Object(l.a)(t,1)[0];return Object(a.useEffect)((function(){n||e("/login")}),[n,e]),{user:n}},zn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),o=i[0],s=i[1],d=Object(a.useCallback)((function(){c(JSON.parse(localStorage.getItem("drinkids")))}),[]);return Object(a.useEffect)(d,[d]),Object(a.useEffect)((function(){s(n.map((function(e){return JSON.parse(localStorage.getItem(e))})))}),[n]),{drinkids:n,drinks:o,update:d}},Xn=function(){return{getLocationsNearby:Object(a.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a="https://us-central1-boba-watch-firebase.cloudfunctions.net/locator";fetch(a+"?"+new URLSearchParams(e).toString()).then((function(e){return e.json()})).then(t).catch(n)}),[]),getLocationsByText:Object(a.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a="https://us-central1-boba-watch-firebase.cloudfunctions.net/nearbyLocations";fetch(a+"?"+new URLSearchParams(e).toString()).then((function(e){return e.json()})).then(t).catch(n)}),[])}},qn=function(){var e=Object(d.g)(),t=Object(a.useContext)(N),n=Object(l.a)(t,1)[0];Object(a.useEffect)((function(){n&&e("/")}),[n,e])},$n=function(e){var t=Object(a.useState)(H()),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useContext)(N),o=Object(l.a)(i,1)[0];return Object(a.useEffect)((function(){if(void 0===e||o.uid===e)return r(JSON.parse(localStorage.getItem("metrics")));r({}),T.collection("users/".concat(e,"/user")).doc("stats").get().then((function(e){r(e.data())})).catch(S)}),[e,o.uid]),c},Kn=[n(225),n(226)],Qn=[{value:0,label:"default"},{value:1,label:"dark"}],ea={default:0,dark:1},ta=function(){var e=function(){var e;return null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:"default"},t=Object(a.useState)((function(){return e()})),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){var e,t;localStorage.setItem("theme",c);var n=null!==(e=null===(t=Kn[ea[c]])||void 0===t?void 0:t.themeStyles)&&void 0!==e?e:[];for(var a in n)document.documentElement.style.setProperty(a,n[a])}),[c]),{theme:c,getTheme:e,setTheme:r,THEMES:ea,THEME_SELECT_DEFAULT_VALUE:0,THEME_SELECT_OPTIONS:Qn}},na=n(227),aa=n.n(na),ca=n(116),ra=n.n(ca),ia=n(54),oa=n.n(ia),sa=function(e){var t,n=e.form,a=e.setForm,c=e.setShow,r=e.tab,i=e.setTab;return Object(oe.jsxs)("div",{className:oa.a.container,children:[Object(oe.jsx)("h3",{className:oa.a.title,children:"Location"}),Object(oe.jsx)("h4",{children:"Select a location from:"}),Object(oe.jsxs)("div",{className:Object(ce.a)(oa.a.select,"nearby"===r&&oa.a.selected),onClick:function(){return i("nearby")},children:[Object(oe.jsx)("h5",{children:"Nearby Locations"}),"nearby"===r&&Object(oe.jsx)(ra.a,{className:oa.a.expand})]}),Object(oe.jsxs)("div",{className:Object(ce.a)(oa.a.select,"previous"===r&&oa.a.selected),onClick:function(){return i("previous")},children:[Object(oe.jsx)("h5",{children:"Previously Used"}),"previous"===r&&Object(oe.jsx)(ra.a,{className:oa.a.expand})]}),Object(oe.jsx)("div",{className:oa.a.divider}),Object(oe.jsx)("h4",{children:"or manually enter a location:"}),Object(oe.jsxs)("div",{className:oa.a["name-container"],children:[Object(oe.jsx)(Le,{className:oa.a.tag,address:null===n||void 0===n?void 0:n.address}),Object(oe.jsx)(tn,{label:"Name",value:null!==(t=null===n||void 0===n?void 0:n.location)&&void 0!==t?t:"",onChange:function(e){a((function(t){var n=Object(o.a)(Object(o.a)({},t),{},{location:e.target.value});return delete n.address,n}))},className:oa.a.name})]}),Object(oe.jsxs)("div",{className:oa.a.actions,children:[Object(oe.jsx)("button",{type:"button",className:oa.a.cancel,onClick:function(){a((function(e){var t=Object(o.a)({},e);return delete t.address,delete t.location,t})),c(!1)},children:Object(oe.jsx)(aa.a,{})}),Object(oe.jsx)("button",{className:oa.a.confirm,type:"button",onClick:function(){return c(!1)},children:Object(oe.jsx)(wn.a,{})})]})]})},la=Object(a.memo)(sa),da=n(88),ua=n.n(da),ja=function(e){var t=e.onChange,n=Ze(),c=Object(a.useState)(null),r=Object(l.a)(c,2),i=r[0],s=r[1],d=Object(a.useState)(""),u=Object(l.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),m=O[0],p=O[1],f=Xn(),v=f.getLocationsByText,x=f.getLocationsNearby;Object(a.useEffect)((function(){var e=setTimeout((function(){return p(!0)}),400);return function(){return clearTimeout(e)}}),[j]),Object(a.useEffect)((function(){if(m&&n.lat&&n.lng){var e={lat:n.lat,lng:n.lng};p(!1),0===j.length?x(Object(o.a)({coffee:!0},e),(function(e){return s(e.response.groups[0].items.map((function(e){return e.venue})))}),(function(){return s([])})):v(Object(o.a)({input:j},e),(function(e){return s(e.response.minivenues)}),(function(){return s([])}))}}),[j,m,n,v,x]);return Object(oe.jsxs)("div",{className:ua.a.container,children:[Object(oe.jsx)("h3",{children:"Nearby Locations"}),Object(oe.jsx)("div",{className:ua.a.search,children:Object(oe.jsx)(tn,{label:"Search by name",value:j,onChange:function(e){e.preventDefault(),b(e.target.value)}})}),Object(oe.jsx)("div",{className:ua.a.scrollable,children:Object(oe.jsxs)("div",{className:ua.a.list,children:[i&&i.map((function(e){var n,a,c,r,i=e.name,o=e.location;return Object(oe.jsxs)(de,{className:ua.a.listing,onClick:function(){return function(e,n){t("location",e,250),t("address",n,(function(){return!0}))}(i,o)},children:[Object(oe.jsx)("h4",{children:i}),null!==(n=null===o||void 0===o?void 0:o.address)&&void 0!==n?n:"",(null===o||void 0===o?void 0:o.address)&&Object(oe.jsx)("br",{}),null!==(a=null===o||void 0===o?void 0:o.city)&&void 0!==a?a:"",", ",null!==(c=null===o||void 0===o?void 0:o.state)&&void 0!==c?c:"",","," ",null!==(r=null===o||void 0===o?void 0:o.country)&&void 0!==r?r:""]},JSON.stringify(i)+JSON.stringify(o))})),(!i||!i.length)&&Object(oe.jsx)(de,{className:Object(ce.a)(ua.a.listing,ua.a["awaiting-location"]),children:i?"Nothing found matching your search":"Allow location access to get nearby locations."})]})})]})},ba=Object(a.memo)(ja),ha=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){var t={};e.forEach((function(e){var n,a,c,r;if((null===e||void 0===e||null===(n=e.address)||void 0===n?void 0:n.lat)&&(null===e||void 0===e||null===(a=e.address)||void 0===a?void 0:a.lng)){var i="".concat(e.address.lat).concat(e.address.lng).concat(null===e||void 0===e?void 0:e.location);t[i]={coordinates:[e.address.lat,e.address.lng],location:null===e||void 0===e?void 0:e.location,address:null===e||void 0===e?void 0:e.address,drinks:[].concat(Object(ne.a)(null!==(c=null===t||void 0===t||null===(r=t[i])||void 0===r?void 0:r.drinks)&&void 0!==c?c:[]),[{id:e.id,date:null===e||void 0===e?void 0:e.date}])}}})),r(Object.values(t))}),[e]),{locations:c}},Oa=n(121),ma=n.n(Oa),pa=function(e){var t=e.onChange,n=zn().drinks,a=ha(n).locations;return Object(oe.jsxs)("div",{className:ma.a.container,children:[Object(oe.jsx)("h3",{children:"Previously Used"}),Object(oe.jsx)("div",{className:ma.a.scrollable,children:Object(oe.jsx)("div",{className:ma.a.list,children:a&&a.map((function(e){var n,a,c,r,i=e.coordinates,o=e.location,s=e.address;return Object(oe.jsxs)(de,{className:ma.a.listing,onClick:function(){return function(e,n){t("location",e,250),t("address",n,(function(){return!0}))}(o,s)},children:[Object(oe.jsx)("h4",{children:o}),null!==(n=s.address)&&void 0!==n?n:"",s.address&&Object(oe.jsx)("br",{}),null!==(a=null===s||void 0===s?void 0:s.city)&&void 0!==a?a:"",", ",null!==(c=null===s||void 0===s?void 0:s.state)&&void 0!==c?c:"",","," ",null!==(r=null===s||void 0===s?void 0:s.country)&&void 0!==r?r:""]},JSON.stringify(i)+JSON.stringify(o))}))})})]})},fa=Object(a.memo)(pa),va=n(107),xa=n.n(va),ga=function(e){var t,n=e.form,c=e.onChange,r=e.setForm,i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],d=o[1],u=Object(a.useState)("default"),j=Object(l.a)(u,2),b=j[0],h=j[1],O=function(){c.apply(void 0,arguments),h("default")};return Object(oe.jsxs)("div",{className:xa.a.container,children:[Object(oe.jsx)(Be,{open:s,setOpen:d,children:Object(oe.jsx)("div",{className:xa.a["input-container"],children:Object(oe.jsxs)(de,{className:"default"===b?xa.a.preview:xa.a.select,children:["default"===b&&Object(oe.jsx)(la,{form:n,setForm:r,tab:b,setTab:h,setShow:d}),"default"!==b&&Object(oe.jsx)("button",{className:xa.a.back,onClick:function(){return h("default")},children:"BACK"}),"nearby"===b&&Object(oe.jsx)(ba,{onChange:O}),"previous"===b&&Object(oe.jsx)(fa,{onChange:O})]})})}),Object(oe.jsx)(tn,{value:null!==(t=null===n||void 0===n?void 0:n.location)&&void 0!==t?t:"",label:"Location",readOnly:!0,onFocus:function(){return d(!0)}})]})},_a=Object(a.memo)(ga),Na=n(122),ya=n.n(Na),ka=function(e){var t,n=e.form,c=e.onChange,r=e.setForm,i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],d=o[1],u=Object(a.useState)("nearby"),j=Object(l.a)(u,2),b=j[0],h=j[1];return Object(oe.jsxs)("div",{className:ya.a.container,children:[Object(oe.jsx)(Be,{open:s,setOpen:d,children:Object(oe.jsxs)("div",{className:ya.a["input-container"],children:[Object(oe.jsx)(de,{className:ya.a.preview,children:Object(oe.jsx)(la,{form:n,setForm:r,tab:b,setTab:h,setShow:d})}),Object(oe.jsx)(de,{className:ya.a.select,children:"nearby"===b?Object(oe.jsx)(ba,{onChange:c}):Object(oe.jsx)(fa,{onChange:c})})]})}),Object(oe.jsx)(tn,{value:null!==(t=null===n||void 0===n?void 0:n.location)&&void 0!==t?t:"",label:"Location",readOnly:!0,onFocus:function(){return d(!0)}})]})},wa=Object(a.memo)(ka),Sa=function(e){return"phone"===u()?Object(oe.jsx)(_a,Object(o.a)({},e)):Object(oe.jsx)(wa,Object(o.a)({},e))},La=Object(a.memo)(Sa),Ca=(n(358),function(){var e,t,n,c=Object(j.a)().t,r=te(),i=r.disabled,s=r.form,d=r.id,u=r.setForm,h=r.editForm,v=r.handleChange,x=r.submit,g=ae(),_=g.autofill,N=g.add,y=g.remove,k=Object(a.useState)([]),w=Object(l.a)(k,2),S=w[0],L=w[1];Object(a.useEffect)((function(){L(_.map((function(e){var t,n;return Object(o.a)({label:(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"")+"@"+(null!==(n=null===e||void 0===e?void 0:e.location)&&void 0!==n?n:"")},e)})))}),[_]);return Object(oe.jsx)("div",{className:"page with-user",children:Object(oe.jsxs)("form",{className:"add-modal",onSubmit:x,children:[Object(oe.jsx)("h4",{className:"bw title",children:c("".concat(d?"EDIT":"ADD"," A PURCHASE"))}),Object(oe.jsxs)(de,{className:"add-holder",children:[Object(oe.jsx)("h5",{children:c("WHAT'S THE TEA?")}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("label",{className:"autofill-label",children:"Autofill with saved entry:"}),Object(oe.jsx)(m.a,{options:S,name:"autofill",onChange:function(e){O.a.fire({showCancelButton:!0,html:"use or remove entry? <br />(click outside to cancel)",cancelButtonText:"remove",confirmButtonText:"autofill",cancelButtonColor:"#f44",reverseButtons:!0}).then((function(t){t.value?u((function(t){return Object(o.a)(Object(o.a)(Object(o.a)({},t),e),{},{price:(null===e||void 0===e?void 0:e.price)?e.price/100:t.price})})):"cancel"===t.dismiss&&y(e.value)}))},className:"autofill-select"}),Object(oe.jsx)("div",{className:"autofill-divider",children:"or add a new drink:"}),Object(oe.jsxs)("div",{className:"holder",children:[Object(oe.jsx)(Le,{className:"tag",address:null===s||void 0===s?void 0:s.address}),Object(oe.jsx)(La,{form:s,onChange:h,setForm:u})]}),Object(oe.jsx)(tn,{value:null!==(e=s.name)&&void 0!==e?e:"",onChange:v("name",150),label:"Drink Name"}),Object(oe.jsx)(tn,{value:null!==(t=s.price)&&void 0!==t?t:0,onChange:v("price",(function(e){return e.match(/^-?\d*\.?\d*$/)&&e.length<10})),label:"Price",type:"text"}),Object(oe.jsx)(p.a,{utils:b.a,children:Object(oe.jsx)(f.a,{label:"Date",value:s.date,onChange:function(e){return h("date",e,30)},inputProps:{maxLength:100}})})]}),Object(oe.jsx)(Qt,{rating:s.rating,setRating:function(e){return h("rating",e)}}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)(Wn,{image:s.image,setImage:function(e){return h("image",e)}}),Object(oe.jsx)(Hn,{description:null!==(n=s.description)&&void 0!==n?n:"",setDescription:function(e){return h("description",e,2500)}}),Object(oe.jsxs)("div",{className:"add-button-holder",children:[Object(oe.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var t=Object(o.a)(Object(o.a)({},s),{},{price:100*s.price});delete t.id,delete t.date,delete t.edited,delete t.created,N(t)},className:"text save",children:c("SAVE")}),Object(oe.jsx)("div",{}),Object(oe.jsx)("button",{type:"submit",disabled:i,className:"text",children:c(d?"EDIT":"ADD")})]})]})]})]})})}),Da=Object(a.memo)(Ca),Ma=n(67),Ea=n.n(Ma),Fa=function(){var e,t=te(),n=t.disabled,a=t.form,c=t.id,r=t.setForm,i=t.editForm,o=t.handleChange,s=t.submit;return Object(oe.jsxs)("div",{className:Ea.a.container,children:[Object(oe.jsxs)("main",{children:[Object(oe.jsx)("header",{children:Object(oe.jsxs)("h1",{className:Ea.a.title,children:[c?"EDIT":"ADD"," A PURCHASE"]})}),Object(oe.jsx)("form",{onSubmit:s,className:Ea.a["form-container"],children:Object(oe.jsxs)("fieldset",{disabled:n,className:Ea.a.layout,children:[Object(oe.jsxs)("div",{className:Ea.a.left,children:[Object(oe.jsx)(de,{className:Ea.a.fields,title:"details",children:Object(oe.jsx)(Bn,{form:a,setForm:r,editForm:i,handleChange:o})}),Object(oe.jsx)(de,{className:Ea.a.upload,title:"photo",children:Object(oe.jsx)(Wn,{className:Ea.a.state,image:a.image,setImage:function(e){return i("image",e)}})})]}),Object(oe.jsxs)("div",{className:Ea.a.right,children:[Object(oe.jsx)(de,{className:Ea.a.description,title:"description",children:Object(oe.jsx)(Hn,{description:null!==(e=a.description)&&void 0!==e?e:"",setDescription:function(e){return i("description",e,2500)}})}),Object(oe.jsx)("button",{children:c?"UPDATE":"ADD"})]})]})})]}),Object(oe.jsxs)("aside",{children:[Object(oe.jsx)("h2",{children:"saved drinks"}),Object(oe.jsxs)("p",{children:["You can save your favorite drink to make recording them easier! Just fill out the form with the fields you want saved and click"," ",Object(oe.jsx)("b",{style:{whiteSpace:"nowrap"},children:"[+ Create]"})," below before adding."]}),Object(oe.jsx)(In,{form:a,setForm:r})]})]})},Ia=Object(a.memo)(Fa),Ta=function(){return"phone"===u()?Object(oe.jsx)(Da,{}):Object(oe.jsx)(Ia,{})},Aa=Object(a.memo)(Ta),Pa=n(228),Ba=n.n(Pa),Ua=function(){return Object(oe.jsxs)("div",{className:Ba.a.container,children:[Object(oe.jsx)("h2",{children:"Check back soon!"}),Object(oe.jsxs)("p",{children:["We are temporarily pausing our blog feature since we are planning on releasing a new Guides feature instead.",Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),"In the meantime, check out the new desktop version with our new location tagging feature. We plan on publishing new features and charts as soon as they're tested and ready!"]})]})},Ra=Object(a.memo)(Ua);function Ja(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=parseInt(e/100);return isNaN(n)?"---":n}var a=Number(e/100).toFixed(2);return isNaN(a)?"---":a}var Ha=n(229),Za=n.n(Ha),Va=n(170),Ga=n(123),Wa=n.n(Ga),Ya=function(e){var t=e.spent,n=void 0===t?0:t,a=e.budget,c=void 0===a?1:a,r=e.theme;return Object(oe.jsxs)("div",{className:Wa.a.container,children:[Object(oe.jsxs)("div",{className:Wa.a.description,children:[Object(oe.jsxs)("p",{children:["MONTHLY LIMIT: $",c/100]}),Object(oe.jsxs)("span",{children:["$",(n/100).toFixed(2)]}),Object(oe.jsxs)("p",{children:["REMAINING: $",(c-n)/100]})]}),Object(oe.jsx)("svg",{className:Wa.a.chart,viewBox:"0 0 100 100",children:Object(oe.jsx)(Va.a,{className:Wa.a.full,left:50,top:50,children:Object(oe.jsx)(Za.a,{data:[{label:"spent",value:n},{label:"unspent",value:c-n}],pieSortValues:function(){return 1},pieValue:function(e){return e.value},fill:function(e){return"spent"===e.data.label?"#14e33a":"default"===r?"#d8d8d8":"#000000"},outerRadius:48,innerRadius:32,cornerRadius:2,padAngle:.1})})})]})},za=Object(a.memo)(Ya),Xa=n(147),qa=n.n(Xa),$a=n(148),Ka=n.n($a),Qa=n(93),ec=n.n(Qa),tc=function(e){var t=e.name,n=e.location,c=e.description,r=e.expanded,i=e.image,o=e.date,s=Object(j.a)().t,d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1],O=new Me.a;return Object(a.useEffect)((function(){r&&i&&Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,be(i);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[i,r]),Object(oe.jsxs)("div",{className:ec.a.container,children:[Object(oe.jsxs)("p",{className:ec.a.title,children:[t,Object(oe.jsxs)("span",{children:[" @ ",n]})]}),b&&Object(oe.jsx)("img",{src:b,className:ec.a["user-uploaded"],alt:"user-upload"}),Object(oe.jsx)("br",{}),Object(oe.jsx)("div",{className:ec.a.description,children:c&&""!==c?Object(oe.jsx)(Ce.b,{id:ec.a.preview,view:{menu:!1,md:!1},readOnly:!0,renderHTML:function(e){return O.render(e)},canView:{menu:!1,md:!1,html:!1,fullScreen:!1,hideMenu:!1},value:c}):Object(oe.jsx)("span",{children:"[no description]"})}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("p",{className:ec.a.date,children:[Object(oe.jsx)("span",{children:s("on")})," ",o.toString()]})]})},nc=n(76),ac=n.n(nc),cc=function(e){var t=e.data,n=Object(j.a)().t,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],s=r[1],d=new Date(t.date);return Object(oe.jsxs)("div",{className:ac.a.container,children:[Object(oe.jsxs)("div",{className:ac.a["basic-details"],onClick:function(){s(!i)},children:[Object(oe.jsx)("p",{className:ac.a.place,children:t.location}),Object(oe.jsxs)("p",{className:ac.a.price,children:[n("$"),Ja(t.price)]}),Object(oe.jsx)("div",{className:ac.a["expand-icon"],children:i?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ka.a,{})}),Object(oe.jsx)("p",{className:ac.a.name,children:t.name}),Object(oe.jsx)("p",{className:ac.a.time,children:d.toDateString().substr(4)})]}),Object(oe.jsx)("div",{className:Object(ce.a)(ac.a["collapsed-info"],i&&ac.a.expanded),children:Object(oe.jsx)(tc,Object(o.a)(Object(o.a)({},t),{},{expanded:i,date:d}))})]})},rc=n(456),ic=n(454),oc=n(455),sc=n(459),lc=n(94),dc=n.n(lc),uc=n(452),jc=n(461),bc=n(463),hc=function(e){var t=e.bin,n=e.handleMouseOver,a=e.hideTooltip;return Object(oe.jsx)("rect",{width:t.width,height:t.height,x:t.x,y:t.y,fill:t.color,fillOpacity:t.opacity,"data-bin":JSON.stringify({row:t.row,column:t.column,count:t.count}),onMouseOver:n,onMouseOut:a})},Oc=Object(a.memo)(hc),mc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],pc=["1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 AM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM","12 PM"],fc=function(e){var t=e.data,n=Object(uc.a)(),a=n.tooltipData,c=n.tooltipLeft,r=n.tooltipTop,i=n.tooltipOpen,o=n.showTooltip,s=n.hideTooltip,l=Object(jc.a)({detectBounds:!0,scroll:!0}),d=l.containerRef,u=l.TooltipInPortal,j=function(e){var t=Object(bc.a)(e.target.ownerSVGElement,e);o({tooltipLeft:t.x,tooltipTop:t.y,tooltipData:JSON.parse(e.target.dataset.bin)})},b=0,h=t.map((function(e,t){return{bin:t+1,bins:e.map((function(e,t){return e>b&&(b=e),{count:e,bin:t}}))}}));return Object(oe.jsxs)("svg",{ref:d,className:dc.a.container,viewBox:"0 0 214 400",children:[Object(oe.jsx)(ic.a,{scale:Object(sc.a)({domain:mc,range:[24,209]}),top:14,tickLength:4,tickClassName:dc.a.tick,tickStroke:"grey",stroke:"#aaa",tickLabelProps:function(){return{className:dc.a["tick-label"],y:-7,textAnchor:"middle"}}}),Object(oe.jsx)(oc.a,{scale:Object(sc.a)({domain:pc,range:[13,396]}),left:24,orientation:"left",tickLength:4,tickClassName:dc.a.tick,tickStroke:"grey",stroke:"#aaa",numTicks:24,tickLabelProps:function(){return{className:dc.a["tick-label"],transform:"translate(0, 2)",x:-22,textAnchor:"left"}}}),Object(oe.jsx)(Va.a,{left:20,children:Object(oe.jsx)(rc.a,{data:h,xScale:function(e){return 26.5*e+4},yScale:function(e){return 16*e+12},colorScale:function(e){return"rgba(246, 128, 128, ".concat(0===e?b>5?.01:.1:e/b,")")},binWidth:27.5,binHeight:17,children:function(e){return e.map((function(e){return e.map((function(e){return Object(oe.jsx)(Oc,{bin:e,handleMouseOver:j,hideTooltip:s},"heatmap-rect-".concat(e.row,"-").concat(e.column))}))}))}})}),i&&Object(oe.jsx)(u,{top:r,left:c,children:Object(oe.jsxs)("div",{className:dc.a.tooltip,children:[Object(oe.jsxs)("time",{children:[mc[a.column]," | ",pc[a.row]]}),Object(oe.jsxs)("p",{children:[Object(oe.jsxs)("strong",{children:[a.count," "]}),"drink",1===a?"":"s"," purchased"]})]})},Math.random())]})},vc=Object(a.memo)(fc),xc=n(457),gc=n(239),_c=n(179),Nc=n.n(_c),yc=function(e){var t=e.className,n=e.theme,a=e.drinks,c=ha(a).locations;return Object(oe.jsx)(nt,{className:Object(ce.a)(t,Nc.a.container),scrollWheelZoom:!1,touchZoom:!0,dragging:!0,zoom:2.5,theme:n,children:function(e){return c.map((function(e,t){var n=e.coordinates,a=e.drinks,c=e.location;return Object(oe.jsx)(He.a,{center:n,radius:10,fill:!0,weight:1,color:"#F68080",fillColor:"#F68080",fillOpacity:"0.5",children:Object(oe.jsx)(xc.a,{children:Object(oe.jsxs)("div",{className:Nc.a.popup,children:[Object(oe.jsx)("h2",{children:c}),Object(oe.jsxs)("p",{children:["Visited ",Object(oe.jsx)("span",{children:a.length})," times"]}),Object(oe.jsx)("p",{children:"Recent visits:"}),a.slice(0,5).map((function(e){var t=e.date;return Object(oe.jsx)("div",{children:Object(gc.a)(new Date(t),"MMM d, yyyy h:mm a")},t)}))]})})},JSON.stringify(n)+c)}))}})},kc=Object(a.memo)(yc),wc=n(61),Sc=n.n(wc),Lc=function(e){var t=e.theme,n=Object(j.a)().t,c=$n(),r=Object(a.useContext)(N),i=Object(l.a)(r,1)[0];return Object(oe.jsx)("div",{className:Sc.a.scrollable,children:Object(oe.jsxs)("main",{className:Sc.a.container,children:[Object(oe.jsx)("h4",{className:Object(ce.a)(Sc.a.bw,Sc.a.title),children:n("Monthly Spending")}),Object(oe.jsx)(de,{id:"chart-holder",className:Sc.a["daily-chart"],children:Object(oe.jsx)(za,{budget:i.profile.budget,spent:c.tc,theme:t})}),Object(oe.jsxs)(de,{className:Sc.a.budget,children:[Object(oe.jsxs)("p",{children:[n("This is how much you\u2019ve spent on drinks so far"),":"]}),Object(oe.jsxs)("h2",{className:Sc.a.bw,children:[n("$"),Ja(c.ctc,c.ctc/1e4>1)]})]}),Object(oe.jsxs)(de,{className:Sc.a.limit,style:{backgroundPositionY:2.7*(100-parseInt(c.td/i.profile.limit*100))},children:[Object(oe.jsxs)("h3",{className:Sc.a.bw,children:[parseInt(c.td/i.profile.limit*100),"%"]}),Object(oe.jsx)("p",{children:n("to your max number of drinks this month")})]}),Object(oe.jsxs)(de,{className:Sc.a.total,children:[Object(oe.jsx)("h2",{className:Sc.a.bw,children:c.td}),Object(oe.jsx)("p",{children:n("drinks this month")})]}),Object(oe.jsxs)(de,{className:Sc.a.heatmap,children:[Object(oe.jsx)("h2",{children:"Drink Frequency"}),Object(oe.jsx)(vc,{data:c.d})]})]})})},Cc=Object(a.memo)(Lc),Dc=n(50),Mc=n.n(Dc),Ec=function(e){var t=e.theme,n=Object(j.a)().t,c=zn().drinks,r=Object(a.useContext)(N),i=Object(l.a)(r,1)[0],o=Object(a.useState)(JSON.parse(localStorage.getItem("metrics"))),s=Object(l.a)(o,1)[0];return Object(oe.jsxs)("div",{className:Mc.a.container,children:[Object(oe.jsxs)("main",{children:[Object(oe.jsx)("header",{children:Object(oe.jsx)("h1",{className:Mc.a.title,children:n("dashboard")})}),Object(oe.jsxs)("div",{className:Mc.a.content,children:[Object(oe.jsx)(kc,{className:Mc.a.map,theme:t,drinks:c}),Object(oe.jsx)(de,{className:Mc.a.heatmap,title:"drink frequency",children:Object(oe.jsx)(vc,{data:s.d})}),Object(oe.jsxs)("div",{className:Mc.a.stats,children:[Object(oe.jsxs)(de,{className:Mc.a.budget,children:[Object(oe.jsx)("p",{children:"This is how much you\u2019ve spent on drinks so far:"}),Object(oe.jsxs)("h2",{className:Mc.a.bw,children:["$",s.ctc>=100?(s.ctc/100).toFixed(2):parseInt(s.ctc/100)]})]}),Object(oe.jsxs)(de,{className:Mc.a.total,children:[Object(oe.jsx)("h2",{className:Mc.a.bw,children:s.td}),Object(oe.jsxs)("p",{children:["drink",1===s.td?"":"s"," this month"]})]})]}),Object(oe.jsx)(de,{className:Mc.a.xy,children:Object(oe.jsx)("h3",{style:{display:"grid",color:"var(--text-secondary)",fontSize:"3em",textAlign:"center"},children:"COMING SOON"})})]})]}),Object(oe.jsx)("aside",{className:Mc.a.sidebar,children:Object(oe.jsxs)("div",{className:Mc.a["aside-container"],children:[Object(oe.jsx)(de,{className:Mc.a.search,title:"monthly budget",children:Object(oe.jsx)(za,{budget:i.profile.budget,spent:s.tc,theme:t})}),Object(oe.jsxs)(de,{className:Mc.a.search,children:[Object(oe.jsx)("h2",{children:"Search"}),Object(oe.jsx)("span",{children:"Search your past uploads"}),Object(oe.jsx)(Bt,{data:c,Result:function(e){var t=e.item;return Object(oe.jsx)(cc,{data:t})}})]}),Object(oe.jsx)(de,{className:Mc.a.recent,title:"recent purchases",children:c.slice(0,5).map((function(e){return Object(oe.jsx)(cc,{data:e},e.id)}))})]})})]})},Fc=Object(a.memo)(Ec),Ic=function(e){var t=e.theme;return"phone"===u()?Object(oe.jsx)(Cc,{theme:t}):Object(oe.jsx)(Fc,{theme:t})},Tc=Object(a.memo)(Ic),Ac=(n(402),function(e){var t=e.data,n=e.triggerUpdate,c=Object(a.useContext)(N),r=Object(l.a)(c,1)[0],i=Object(j.a)().t,s=Object(a.useState)(!1),u=Object(l.a)(s,2),b=u[0],h=u[1],O=Object(d.g)(),m=new Date(t.date);return Object(oe.jsxs)("div",{className:"drink-panel",children:[Object(oe.jsxs)("div",{className:"info",onClick:function(){h(!b)},children:[Object(oe.jsx)("p",{className:"place",children:t.location}),Object(oe.jsxs)("p",{className:"price",children:[i("$"),Ja(t.price)]}),Object(oe.jsx)("div",{className:"expand-icon",children:b?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ka.a,{})}),Object(oe.jsx)("p",{className:"name",children:t.name}),Object(oe.jsx)("p",{className:"time",children:m.toDateString().substr(4)})]}),Object(oe.jsxs)("div",{className:"collapsed-info"+(b?" expanded":""),children:[Object(oe.jsx)(Uc,Object(o.a)(Object(o.a)({},t),{},{expanded:b,date:m})),Object(oe.jsxs)("div",{className:"options",children:[Object(oe.jsx)("button",{className:"text",onClick:function(){O("/edit/"+t.id)},children:i("EDIT")}),Object(oe.jsx)("button",{className:"text",onClick:function(){T.collection("users/".concat(r.uid,"/drinks")).doc(t.id).delete().then((function(){var e=V(t.id);e.d=JSON.stringify(e.d),T.collection("users/".concat(r.uid,"/user")).doc("stats").set(e).finally((function(){M(),n(JSON.parse(localStorage.getItem("drinkids")))}))})).catch((function(e){C(e)}))},children:i("DELETE")})]})]})]})}),Pc=Object(a.memo)(Ac),Bc=(n(403),function(e){var t=e.name,n=e.location,c=e.description,r=e.expanded,i=e.image,o=e.date,s=Object(j.a)().t,d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1],O=new Me.a;return Object(a.useEffect)((function(){r&&i&&Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,be(i);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[i,r]),Object(oe.jsxs)("div",{className:"expanded-drink-description--wrapper",children:[Object(oe.jsxs)("p",{className:"title",children:[t,Object(oe.jsx)("br",{}),Object(oe.jsxs)("span",{children:["@",n]})]}),b&&Object(oe.jsx)("img",{src:b,className:"user-uploaded",alt:"user-upload"}),Object(oe.jsx)("br",{}),Object(oe.jsx)("div",{className:"description",children:Object(oe.jsx)(Ce.b,{id:"preview",view:{menu:!1,md:!1},readOnly:!0,renderHTML:function(e){return O.render(e)},canView:{menu:!1,md:!1,html:!1,fullScreen:!1,hideMenu:!1},value:c})}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("p",{className:"date",children:[Object(oe.jsx)("span",{children:s("on")})," ",o.toString()]})]})}),Uc=Object(a.memo)(Bc),Rc=n(55),Jc=n.n(Rc),Hc=function(e){var t=e.click;return Object(oe.jsx)("div",{className:Jc.a["thaman-color"],children:Object(oe.jsx)("div",{className:Jc.a["load-more"],onClick:t,children:"\u2022 \u2022 \u2022"})})},Zc=function(e){var t=e.label,n=Object(j.a)().t;return Object(oe.jsx)("div",{className:Object(ce.a)(Jc.a["thaman-color"],Jc.a["none-label"]),children:Object(oe.jsx)("h3",{className:"bw none-label",children:n(t)})})},Vc=function(){var e=Object(j.a)().t,t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(l.a)(i,2),d=s[0],u=s[1],b=Object(a.useState)({complete:5,recent:7}),h=Object(l.a)(b,2),O=h[0],m=h[1],p=Object(a.useState)([]),f=Object(l.a)(p,2),v=f[0],x=f[1],g=Object(a.useState)(JSON.parse(localStorage.getItem("drinkids"))),_=Object(l.a)(g,2),N=_[0],y=_[1],k=Object(a.useState)(JSON.parse(localStorage.getItem("metrics"))),w=Object(l.a)(k,2),S=w[0],L=w[1];Object(a.useEffect)((function(){L(JSON.parse(localStorage.getItem("metrics")));var e=[],t=[],n=[],a=new Date,c=a.getMonth(),i=a.getFullYear(),s=O.complete,l=O.recent;N.forEach((function(a){var r=JSON.parse(localStorage.getItem(a));n.push(r);var o=new Date(r.date),d=o.getMonth()===c&&o.getFullYear()===i;d&&l>0?(e.push(Object(oe.jsx)(Pc,{triggerUpdate:y,data:r},r.id)),l--):!d&&s>0&&(t.push(Object(oe.jsx)(Pc,{triggerUpdate:y,data:r},r.id)),s--)})),0===e.length&&(e.push(Object(oe.jsx)(Zc,{label:"no drinks this month ...yet"},"@ryqndev/empty")),0===t.length&&t.push(Object(oe.jsx)(Zc,{label:"Add a drink to start!"},"@ryqndev/empty"))),l<=0&&e.push(Object(oe.jsx)(Hc,{click:function(){m(Object(o.a)(Object(o.a)({},O),{},{recent:O.recent+10}))}},"@ryqndev/load")),s<=0&&t.push(Object(oe.jsx)(Hc,{click:function(){m(Object(o.a)(Object(o.a)({},O),{},{complete:O.complete+10}))}},"@ryqndev/load")),r([].concat(e)),u([].concat(t)),x(n)}),[N.length,N,O,O.recent,O.complete]);return Object(oe.jsx)("div",{className:"page with-user",children:Object(oe.jsxs)("div",{className:Jc.a.container,children:[Object(oe.jsx)("div",{className:Jc.a.header,children:Object(oe.jsx)("h3",{className:Jc.a.title,children:e("Drink History")})}),Object(oe.jsx)("div",{className:Jc.a.search,children:Object(oe.jsx)(Bt,{placeholder:e("Search your history..."),data:v,keys:["description","location","name","price"],Result:function(e){var t=e.item;e.matches;return Object(oe.jsx)(Pc,{triggerUpdate:y,data:t})}})}),Object(oe.jsxs)("div",{className:Jc.a.list,children:[Object(oe.jsx)("h3",{className:Jc.a.bw,children:e("Monthly Spending")}),Object(oe.jsx)("div",{className:"history-spending",children:c}),Object(oe.jsxs)("h3",{className:Object(ce.a)(Jc.a.bw,Jc.a.total),children:[Object(oe.jsxs)("span",{children:[e("Monthly Total"),":"]})," ",e("$"),Ja(S.tc)]}),Object(oe.jsx)("h3",{className:Jc.a.bw,children:e("Overall Spending")}),Object(oe.jsx)("div",{className:"history-spending",children:d}),Object(oe.jsxs)("h3",{className:Object(ce.a)(Jc.a.bw,Jc.a.total),children:[Object(oe.jsxs)("span",{children:[e("Complete Total"),":"]})," ",e("$"),Ja(S.ctc)]})]})]})})},Gc=Object(a.memo)(Vc),Wc=n(231),Yc=n(124),zc=n.n(Yc),Xc=function(e){var t=e.description,n=e.name,c=e.location,r=e.price,o=e.date,s=e.image,d=e.id,u=e.update,j=e.address,b=e.setDetailed,h=e.theme,O=Object(a.useContext)(N),m=Object(l.a)(O,1)[0];return Object(oe.jsxs)(de,{className:zc.a.container,children:[j&&Object(oe.jsx)(nt,{className:zc.a.map,theme:h,scrollWheelZoom:!1,hasCenterButton:!1,zoom:10,center:[j.lat,j.lng],children:function(){return Object(oe.jsx)(He.a,{center:[j.lat,j.lng],radius:10,fill:!0,weight:1,color:"#F68080",fillColor:"#F68080",fillOpacity:"0.5"})}}),Object(oe.jsxs)("h2",{children:[n,Object(oe.jsxs)("span",{children:[" @",c]})]}),s&&Object(oe.jsx)(fe,{className:zc.a.image,image:s}),Object(oe.jsxs)("h1",{children:["$",(r/100).toFixed(2)]}),Object(oe.jsx)(Te,{description:t}),Object(oe.jsx)("time",{children:Object(gc.a)(new Date(o),"ccc. LLL dd, yyyy h:mm a")}),Object(oe.jsxs)("div",{className:zc.a.actions,children:[Object(oe.jsx)(i.b,{to:"/edit/"+d,children:Object(oe.jsx)("button",{children:"EDIT"})}),Object(oe.jsx)("button",{onClick:function(){F().then((function(e){e.value&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{T.collection("users/".concat(t,"/drinks")).doc(e).delete().then((function(){var a=V(e);a.d=JSON.stringify(a.d),T.collection("users/".concat(t,"/user")).doc("stats").set(a).finally((function(){M(),n()}))})).catch((function(e){C(e)}))}catch(a){return D(a)}}(d,m.uid,(function(){u(),b(null)}))}))},children:"DELETE"})]})]})},qc=Object(a.memo)(Xc),$c=n(77),Kc=n.n($c),Qc=["className","selected","setDetailed","header"],er=function(e){var t=e.className,n=e.selected,a=e.setDetailed,c=e.header,r=void 0!==c&&c,i=Object(s.a)(e,Qc),o=i.date,l=i.location,d=i.name,u=i.rating,j=i.price;return Object(oe.jsxs)(de,{className:Object(ce.a)(t,Kc.a.container,n===i.id&&Kc.a.selected),onClick:function(){r||a(i)},children:[Object(oe.jsx)("div",{className:Kc.a.date,children:r?"date":Object(gc.a)(new Date(o),"ccc M/dd h:mm a")}),Object(oe.jsxs)("div",{className:Kc.a.location,children:[Object(oe.jsx)(Le,{className:Kc.a.tag,address:null===i||void 0===i?void 0:i.address}),l]}),Object(oe.jsx)("div",{className:Kc.a.name,children:d}),Object(oe.jsxs)("div",{className:Kc.a.rating,children:[null!==u&&void 0!==u?u:"-"," ",Object(oe.jsx)(_n.a,{})]}),Object(oe.jsxs)("div",{className:Kc.a.price,children:[!r&&"$",r?"price":(j/100).toFixed(2)]}),!r&&Object(oe.jsx)("div",{className:Kc.a["expand-icon"],children:Object(oe.jsx)(ra.a,{})})]})},tr=Object(a.memo)(er),nr=n(108),ar=n.n(nr),cr=["January","February","March","April","May","June","July","August","September","October","November","December"],rr=function(e){var t=e.drinks,n=e.detailed,c=e.setDetailed,r=Object(a.useState)(30),s=Object(l.a)(r,2),d=s[0],u=s[1];return Object(oe.jsxs)("div",{className:ar.a.container,children:[0===t.length&&Object(oe.jsxs)(de,{className:ar.a.empty,children:["No drinks found. Let's get started by"," ",Object(oe.jsx)(i.b,{to:"/add",children:"adding"})," a drink!"]}),t.slice(0,d).reduce((function(e,t){var a=new Date(t.date);return 0===e.display.length||e.currentPeriod.month!==a.getMonth()||e.currentPeriod.year!==a.getFullYear()?{display:[].concat(Object(ne.a)(e.display),[0!==e.display.length&&Object(oe.jsxs)("div",{className:ar.a["monthly-total"],children:["Monthly Total:"," ",Object(oe.jsxs)("span",{children:["$",(e.monthlyTotal/100).toFixed(2)]})]},a.toDateString()+"total"),Object(oe.jsxs)("div",{className:ar.a.month,children:[cr[a.getMonth()]," ",(new Date).getFullYear()!==a.getFullYear()&&a.getFullYear()]},a.toDateString()),Object(oe.jsx)(tr,Object(o.a)({selected:null===n||void 0===n?void 0:n.id,setDetailed:c},t),t.id)]),monthlyTotal:t.price,currentPeriod:{month:a.getMonth(),year:a.getFullYear()}}:{display:[].concat(Object(ne.a)(e.display),[Object(oe.jsx)(tr,Object(o.a)({selected:null===n||void 0===n?void 0:n.id,setDetailed:c},t),t.id)]),monthlyTotal:e.monthlyTotal+t.price,currentPeriod:e.currentPeriod}}),{display:[],monthlyTotal:0,currentPeriod:{month:-1,year:-1}}).display,d<t.length&&Object(oe.jsx)("div",{className:ar.a["see-more"],onClick:function(){u((function(e){return e+50}))},children:"Show More"})]})},ir=Object(a.memo)(rr),or=n(232),sr=n.n(or),lr=n(79),dr=n.n(lr),ur=function(e){var t=e.theme,n=zn(),c=n.drinks,r=n.update,i=Object(a.useState)(null),s=Object(l.a)(i,2),d=s[0],u=s[1];return Object(oe.jsxs)("div",{className:dr.a.container,children:[Object(oe.jsxs)("main",{children:[Object(oe.jsxs)("header",{children:[Object(oe.jsx)("h1",{className:dr.a.title,children:"History"}),Object(oe.jsx)(sr.a,{className:dr.a.download,onClick:function(){E().then((function(e){if(e.value){var t=new Blob([JSON.stringify(c)],{type:"application/json;charset=utf-8"});Object(Wc.saveAs)(t,"Boba_Watch_user_drink_data.json")}}))}})]}),Object(oe.jsxs)("div",{className:dr.a.content,children:[Object(oe.jsx)(tr,{className:dr.a["table-header"],header:!0,name:"drink name",location:"location"}),Object(oe.jsx)("div",{className:dr.a.scrollable,children:Object(oe.jsx)(ir,{drinks:c,detailed:d,setDetailed:u})})]})]}),Object(oe.jsxs)("aside",{children:[Object(oe.jsxs)(de,{className:dr.a.search,children:[Object(oe.jsx)("h2",{children:"Search"}),Object(oe.jsx)("span",{children:"Search your past uploads"}),Object(oe.jsx)(Bt,{data:c,Result:function(e){var t=e.item;return Object(oe.jsx)(cc,{data:t})}})]}),d&&Object(oe.jsx)(qc,Object(o.a)(Object(o.a)({theme:t},d),{},{update:r,setDetailed:u})),!d&&Object(oe.jsx)(de,{className:dr.a["not-selected"],children:"Select a drink from your history to view it's details"})]})]})},jr=Object(a.memo)(ur),br=function(e){var t=e.theme;return"phone"===u()?Object(oe.jsx)(Gc,{}):Object(oe.jsx)(jr,{theme:t})},hr=Object(a.memo)(br),Or=(n(404),{fontFamily:"Poppins",fontWeight:700,color:"white",fontSize:44,marginBottom:20}),mr=function(){return qn(),Object(a.useEffect)((function(){B.start("#auth-container",{signInSuccessUrl:window.location.href,signInFlow:"popup",signInOptions:[k.a.auth.GoogleAuthProvider.PROVIDER_ID,k.a.auth.FacebookAuthProvider.PROVIDER_ID]})})),Object(oe.jsxs)("div",{className:"login-page",children:[Object(oe.jsx)("div",{className:"login-logo"}),Object(oe.jsx)("h1",{style:Or,children:"boba watch"}),Object(oe.jsx)("div",{id:"auth-container"})]})},pr=n(66),fr=n.n(pr),vr=function(e){var t,n=e.data,c=e.selected,r=e.setCenter,i=n.venue.id,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){c===i&&o.current.scrollIntoView({behavior:"smooth"})}),[c,i]),Object(oe.jsxs)(de,{className:fr.a.container,forwardedref:o,children:[Object(oe.jsx)("h3",{children:n.venue.name}),Object(oe.jsxs)("p",{className:fr.a.distance,children:[Object(oe.jsx)("span",{children:(t=n.venue.location.distance,t>1e3?(t/1e3).toFixed(2)+" km":t+" meters")})," from search pin"]}),Object(oe.jsx)("p",{className:fr.a.address,children:n.venue.location.formattedAddress.join(", ")}),Object(oe.jsx)("span",{className:fr.a.center,onClick:function(){r([n.venue.location.lat,n.venue.location.lng])},children:"CENTER ON MAP"})]})},xr=Object(a.memo)(vr),gr=function(){return Object(oe.jsxs)(de,{className:fr.a.container,children:[Object(oe.jsx)("h3",{children:"no places nearby :("}),Object(oe.jsx)("p",{className:fr.a.distance,children:"We can't seem to find any boba places near you. Try searching a different part of the map."})]})},_r=function(){return Object(oe.jsxs)(de,{className:fr.a.container,children:[Object(oe.jsx)("h3",{children:"Loading...."}),Object(oe.jsxs)("p",{className:fr.a.distance,children:["Trying to find places near you. If this is taking too long, check your internet and try again.",Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),"Make sure you have your location enabled otherwise you will need to manually search"]})]})},Nr=Object(a.memo)(_r),yr=xr,kr=n(233),wr=n.n(kr),Sr=function(e){var t=e.className,n=e.position,c=e.setStores,r=e.filters,i=Object(Je.a)(),o=Xn().getLocationsNearby,s=Object(a.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"map";switch(t){case"user":e={lat:n[0],lng:n[1]};break;case"map":default:e=i.getCenter()}var a={lat:e.lat,lng:e.lng,open:r.openNow?"true":"false",coffee:r.coffee?"true":"false"};c(null),o(a,(function(e){c(e.response.groups[0].items)}),(function(e){console.error("ERROR:",e),c([])}))}),[i,n,c,r,o]);return Object(a.useEffect)((function(){n&&s("user")}),[n,s]),Object(oe.jsx)("button",{className:Object(ce.a)(wr.a.button,t),onClick:s,children:"Search this area"})},Lr=Object(a.memo)(Sr),Cr=n(234),Dr=n.n(Cr),Mr=function(e){var t=e.data,n=e.setCenter,a=e.setSelected,c=t.venue.location;return Object(oe.jsx)(He.a,{center:[c.lat,c.lng],radius:10,fill:!0,weight:1,color:"#F68080",fillColor:"#F68080",fillOpacity:"0.5",eventHandlers:{click:function(){n([c.lat,c.lng]),a(t.venue.id)}},children:Object(oe.jsx)(xc.a,{children:Object(oe.jsxs)("div",{className:Dr.a.popup,children:[Object(oe.jsx)("h3",{children:t.venue.name}),Object(oe.jsx)("span",{children:t.venue.location.address}),Object(oe.jsx)(i.b,{to:"/add",state:{address:t.venue.location,location:t.venue.name},children:"Add drink for this location"})]})})})},Er=Object(a.memo)(Mr),Fr=n(62),Ir=n.n(Fr),Tr=function(e){var t=e.theme,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(null),d=Object(l.a)(s,2),u=d[0],j=d[1],b=Object(a.useState)(null),h=Object(l.a)(b,2),O=h[0],m=h[1],p=Object(a.useState)({openNow:!1,coffee:!1}),f=Object(l.a)(p,2),v=f[0],x=f[1],g=function(e,t){x((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(_.a)({},e,void 0!==t?t:!n[e]))}))};return Object(oe.jsxs)("main",{className:Ir.a.container,children:[Object(oe.jsx)("header",{children:Object(oe.jsx)("h1",{className:Ir.a.title,children:"Boba Locator"})}),Object(oe.jsx)(nt,{className:Ir.a.map,zoom:12,center:O,setCenter:m,theme:t,children:function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Lr,{position:e,setStores:i,filters:v}),r&&r.map((function(e){return Object(oe.jsx)(Er,{data:e,setSelected:j,setCenter:m},e.venue.id)}))]})}}),Object(oe.jsxs)("div",{className:Ir.a.details,children:[Object(oe.jsxs)(de,{className:Ir.a.filters,title:"locations",children:[Object(oe.jsx)("button",{className:Object(ce.a)(v.openNow&&Ir.a.selected),onClick:function(){g("openNow")},children:"OPEN NOW"}),Object(oe.jsxs)("div",{className:Ir.a.toggle,children:[Object(oe.jsx)("button",{className:Object(ce.a)(!v.coffee&&Ir.a.selected),onClick:function(){return g("coffee",!1)},children:"BOBA"}),Object(oe.jsx)("button",{className:Object(ce.a)(v.coffee&&Ir.a.selected),onClick:function(){return g("coffee",!0)},children:"COFFEE"})]})]}),Object(oe.jsx)("div",{className:Ir.a["list-holder"],children:Object(oe.jsxs)("div",{className:Ir.a.list,children:[!r&&Object(oe.jsx)(Nr,{}),r&&0===r.length&&Object(oe.jsx)(gr,{}),r&&r.map((function(e){return Object(oe.jsx)(yr,{data:e,selected:u,setCenter:m},e.venue.id)}))]})})]})]})},Ar=Object(a.memo)(Tr),Pr=n(236),Br=n.n(Pr),Ur=n(235),Rr=n.n(Ur),Jr=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(oe.jsxs)("button",{className:Rr.a.container,children:[Object(oe.jsx)(Br.a,{}),Object(oe.jsx)(Be,{open:n,setOpen:c,children:"Filter options"})]})},Hr=Object(a.memo)(Jr),Zr=n(156),Vr=n.n(Zr),Gr=function(e){var t=e.theme,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(null),s=Object(l.a)(o,2),d=(s[0],s[1]),u=Object(a.useState)(null),j=Object(l.a)(u,2),b=j[0],h=j[1],O=Object(a.useState)({openNow:!1,coffee:!1}),m=Object(l.a)(O,2),p=m[0];m[1];return Object(oe.jsx)("div",{className:Vr.a.container,children:Object(oe.jsx)(nt,{className:Vr.a.map,zoom:12,center:b,setCenter:h,theme:t,zoomControl:!1,hasCenterButton:!1,children:function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Hr,{}),Object(oe.jsx)(Lr,{className:Vr.a["search-area--btn"],position:e,setStores:i,filters:p}),r&&r.map((function(e){return Object(oe.jsx)(Er,{data:e,setSelected:d,setCenter:h},e.venue.id)}))]})}})})},Wr=Object(a.memo)(Gr),Yr=function(e){var t=e.theme;return"phone"===u()?Object(oe.jsx)(Wr,{theme:t}):Object(oe.jsx)(Ar,{theme:t})},zr={budget:1e4,limit:15,sharing:!1},Xr={ad:0,cad:0,ctc:0,ctd:0,d:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",fn:"Who dis?",tc:0,td:0},qr=function(e,t){localStorage.setItem("autofill","[]"),localStorage.setItem("drinkids","[]"),localStorage.setItem("metrics",JSON.stringify(H())),e.profile=Object(o.a)({},zr);var n=T.batch();return n.set(T.collection("users/".concat(e.uid,"/user")).doc("stats"),Xr),n.set(T.collection("users/".concat(e.uid,"/blog")).doc("user"),{name:null===e||void 0===e?void 0:e.displayName,profile:null===e||void 0===e?void 0:e.photoURL},{merge:!0}),n.set(T.collection("users/".concat(e.uid,"/user")).doc("profile"),zr),n.commit().then((function(){t(e)}))},$r=function(e,t){Promise.all([T.collection("users/".concat(e.uid,"/user")).doc("autofill").get(),T.collection("users/".concat(e.uid,"/user")).doc("profile").get(),T.collection("users/".concat(e.uid,"/drinks")).orderBy("drink.date","desc").get()]).then((function(n){var a,c,r,i,s=Object(l.a)(n,3),d=s[0],u=s[1],j=s[2],b=[];j.forEach((function(e){var t=e.data();localStorage.setItem(e.id,JSON.stringify(Object(o.a)(Object(o.a)({id:e.id},t.drink),{},{edited:null===t||void 0===t?void 0:t.edited,created:null===t||void 0===t?void 0:t.created}))),b.push(e.id)})),localStorage.setItem("autofill",null!==(a=null===d||void 0===d||null===(c=d.data())||void 0===c?void 0:c.data)&&void 0!==a?a:"[]"),localStorage.setItem("drinkids",JSON.stringify(b)),Z(),e.profile=Object(o.a)({sharing:null!==(r=null!==(i=null===u||void 0===u?void 0:u.sharing)&&void 0!==i?i:null===u||void 0===u?void 0:u.public)&&void 0!==r&&r},u.data()),T.collection("users/".concat(e.uid,"/blog")).doc("user").set({name:null===e||void 0===e?void 0:e.displayName,profile:null===e||void 0===e?void 0:e.photoURL},{merge:!0}).finally((function(){t(e)}))}))},Kr=function(e,t){Promise.all([T.collection("users/".concat(e.uid,"/user")).doc("autofill").get(),T.collection("users/".concat(e.uid,"/user")).doc("profile").get()]).then((function(n){var a,c,r,i,s=Object(l.a)(n,2),d=s[0],u=s[1];Z(),localStorage.setItem("autofill",null!==(a=null===d||void 0===d||null===(c=d.data())||void 0===c?void 0:c.data)&&void 0!==a?a:"[]"),e.profile=Object(o.a)({sharing:null!==(r=null!==(i=null===u||void 0===u?void 0:u.sharing)&&void 0!==i?i:null===u||void 0===u?void 0:u.public)&&void 0!==r&&r},u.data()),t(e)}))},Qr=function(e){k.a.auth().onAuthStateChanged((function(t){var n,a,c,r,i;return t?(A.logEvent("login"),(null===(n=t={displayName:(i=t).displayName,metadata:i.metadata,photoURL:i.photoURL,email:i.email,emailVerified:i.emailVerified,uid:i.uid,isAnonymous:i.isAnonymous,providerData:i.providerData})||void 0===n||null===(a=n.metadata)||void 0===a?void 0:a.creationTime)===(null===(c=t)||void 0===c||null===(r=c.metadata)||void 0===r?void 0:r.lastSignInTime)?qr(t,e):localStorage.getItem("drinkids")?void Kr(t,e):$r(t,e)):e(t)}))},ei=["theme"],ti=function(){var e=Yn().user,t=ta(),n=t.theme,a=Object(s.a)(t,ei);return e?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xn,{theme:Object(o.a)({theme:n},a)}),Object(oe.jsxs)(d.c,{children:[Object(oe.jsx)(d.a,{path:"/",element:Object(oe.jsx)(Tc,{theme:n})}),Object(oe.jsx)(d.a,{path:"history",element:Object(oe.jsx)(hr,{theme:n})}),Object(oe.jsx)(d.a,{path:"add",element:Object(oe.jsx)(Aa,{})}),Object(oe.jsx)(d.a,{path:"edit/:id",element:Object(oe.jsx)(Aa,{})}),Object(oe.jsx)(d.a,{path:"map",element:Object(oe.jsx)(Yr,{theme:n})}),Object(oe.jsx)(d.a,{path:"blog/:userid",element:Object(oe.jsx)(Ra,{})})]}),Object(oe.jsx)(Mt,{})]}):Object(oe.jsx)("div",{children:"Loading..."})},ni=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Qr(c)}),[]),Object(oe.jsx)(N.Provider,{value:[n,c],children:Object(oe.jsxs)(d.c,{children:[Object(oe.jsx)(d.a,{path:"/login",element:Object(oe.jsx)(mr,{})}),Object(oe.jsx)(d.a,{path:"*",element:Object(oe.jsx)(ti,{})})]})})},ai=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ci(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.isUpdateAvailable=new Promise((function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){switch(n.state){case"installed":navigator.serviceWorker.controller?e(!0):e(!1)}}}})).catch((function(e){return console.error("[SW ERROR]",e)}))}));n(405),n(406),n(407);var ri=n(237),ii=n(117),oi={en:n(238)};y.a.use(ri.a).use(ii.e).init({resources:oi,detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});y.a;r.a.render(Object(oe.jsx)(i.a,{basename:"",children:Object(oe.jsx)(ni,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ai?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ci(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ci(t,e)}))}}()},50:function(e,t,n){e.exports={container:"DesktopDashboard_container__2_9ZB",title:"DesktopDashboard_title__noXbp",content:"DesktopDashboard_content__212SG",map:"DesktopDashboard_map__1QRbu",heatmap:"DesktopDashboard_heatmap__d_DVi",stats:"DesktopDashboard_stats__1GsPr",budget:"DesktopDashboard_budget__3zywz",total:"DesktopDashboard_total__2P12k",xy:"DesktopDashboard_xy__22k3y",sidebar:"DesktopDashboard_sidebar__2bXL-","aside-container":"DesktopDashboard_aside-container__3RRe_",recent:"DesktopDashboard_recent__3Zl5r",search:"DesktopDashboard_search__1q7Ud"}},54:function(e,t,n){e.exports={container:"LocationPreview_container__1hWjA",title:"LocationPreview_title__32FnW",divider:"LocationPreview_divider__9HCer","name-container":"LocationPreview_name-container__3KKrO",tag:"LocationPreview_tag__39Nmb",select:"LocationPreview_select__1CV2Z",expand:"LocationPreview_expand__2JJl2",selected:"LocationPreview_selected__kE9A2",actions:"LocationPreview_actions__1vwJi",cancel:"LocationPreview_cancel__1W3ew",confirm:"LocationPreview_confirm__3p_0G"}},55:function(e,t,n){e.exports={container:"MobileHistory_container__qelPH",title:"MobileHistory_title__5kamD",header:"MobileHistory_header__2h55U",search:"MobileHistory_search__34Gym",history:"MobileHistory_history__14e0Q",bw:"MobileHistory_bw__1DL8T",total:"MobileHistory_total__2gJQX","none-label":"MobileHistory_none-label__1zwNd","load-more":"MobileHistory_load-more__2G_i1","thaman-color":"MobileHistory_thaman-color__2UV_g"}},58:function(e,t,n){e.exports={container:"MobileNavigation_container__2ndsv","icon-holder":"MobileNavigation_icon-holder__2boxb","add-icon":"MobileNavigation_add-icon__3GyAq",selected:"MobileNavigation_selected__1tcg2",add:"MobileNavigation_add__17kQf",icon:"MobileNavigation_icon__1d1Fs",label:"MobileNavigation_label__35MlC"}},61:function(e,t,n){e.exports={scrollable:"MobileDashboard_scrollable__38U-O",container:"MobileDashboard_container__2G7vX",bw:"MobileDashboard_bw__1ubg0",title:"MobileDashboard_title__2JEoX","chart-holder":"MobileDashboard_chart-holder__2TxqN",description:"MobileDashboard_description__SFphF",budget:"MobileDashboard_budget__1_M6-",limit:"MobileDashboard_limit__F2rfy",total:"MobileDashboard_total__1CKab",heatmap:"MobileDashboard_heatmap__1Mg_n","daily-chart":"MobileDashboard_daily-chart__1XI0-"}},62:function(e,t,n){e.exports={container:"DesktopLocator_container__23JrQ",title:"DesktopLocator_title__27VDe",map:"DesktopLocator_map__3pFsp",details:"DesktopLocator_details__3AOIX",filters:"DesktopLocator_filters__tRQLI",selected:"DesktopLocator_selected__1kX3a",toggle:"DesktopLocator_toggle__BdWR4","list-holder":"DesktopLocator_list-holder__1FjGt",list:"DesktopLocator_list__200Se"}},66:function(e,t,n){e.exports={container:"Listing_container__15GQ1",center:"Listing_center__17arw",distance:"Listing_distance__3MU9m",address:"Listing_address__3UQFM"}},67:function(e,t,n){e.exports={container:"DesktopAdd_container__3ijOs",title:"DesktopAdd_title__1t9m4","form-container":"DesktopAdd_form-container__3g2Up",layout:"DesktopAdd_layout__2pwkQ",left:"DesktopAdd_left__32f2F",right:"DesktopAdd_right__1RLKX",fields:"DesktopAdd_fields__3jjee",upload:"DesktopAdd_upload__1Vof7",state:"DesktopAdd_state__qD8t5",description:"DesktopAdd_description__QO1hu"}},76:function(e,t,n){e.exports={container:"DrinkPanel_container__1Nb30","basic-details":"DrinkPanel_basic-details__3nAr_",place:"DrinkPanel_place__2Fb01",time:"DrinkPanel_time__1pDZ9",price:"DrinkPanel_price__1koV9",name:"DrinkPanel_name__1mJ95","expand-icon":"DrinkPanel_expand-icon__3A8kA","collapsed-info":"DrinkPanel_collapsed-info__2-Bj9",expanded:"DrinkPanel_expanded__3RTFx",description:"DrinkPanel_description__3HGRs",options:"DrinkPanel_options__1xkeV"}},77:function(e,t,n){e.exports={container:"Transaction_container__L2P4Q",price:"Transaction_price__2bH82",rating:"Transaction_rating__1cQpH","expand-icon":"Transaction_expand-icon__1nA0g",location:"Transaction_location__-ZfJg",tag:"Transaction_tag__1s6bV",selected:"Transaction_selected__1VLLl"}},79:function(e,t,n){e.exports={container:"DesktopHistory_container__2_nQl",title:"DesktopHistory_title__3XcqC",download:"DesktopHistory_download__1ukAM",content:"DesktopHistory_content__2LB41","table-header":"DesktopHistory_table-header__Yitf3",scrollable:"DesktopHistory_scrollable__1oLJo",search:"DesktopHistory_search__1BCDk","not-selected":"DesktopHistory_not-selected__29sS-"}},86:function(e,t,n){e.exports={container:"ExpandedUserIcon_container__1GQfm","theme-select":"ExpandedUserIcon_theme-select__3EqqV","theme-label":"ExpandedUserIcon_theme-label__2KgaI","button-holder":"ExpandedUserIcon_button-holder__5zlMt",logout:"ExpandedUserIcon_logout__2IYAV"}},87:function(e,t,n){e.exports={container:"SavedItemCard_container__33aLy",tag:"SavedItemCard_tag__1DUXS",star:"SavedItemCard_star__1OgHA",actions:"SavedItemCard_actions__3j5Bx",show:"SavedItemCard_show__1OgZE",fill:"SavedItemCard_fill__1KPX3",delete:"SavedItemCard_delete__3vhjf"}},88:function(e,t,n){e.exports={container:"NearbyLocationList_container__3mxnp",search:"NearbyLocationList_search__vTG8q","awaiting-location":"NearbyLocationList_awaiting-location__F7Pe9",scrollable:"NearbyLocationList_scrollable__1AqeD",list:"NearbyLocationList_list__1L99D",listing:"NearbyLocationList_listing__56Zls"}},92:function(e,t,n){e.exports={container:"DesktopUserIcon_container__3KEpu",date:"DesktopUserIcon_date__fJSHL",avatar:"DesktopUserIcon_avatar__32BHe",details:"DesktopUserIcon_details__3Mnpy",expanded:"DesktopUserIcon_expanded__ekkL8"}},93:function(e,t,n){e.exports={container:"ExpandedDrinkDescription_container__1SzUV",title:"ExpandedDrinkDescription_title__25UE8",date:"ExpandedDrinkDescription_date__2rvD_","user-uploaded":"ExpandedDrinkDescription_user-uploaded__25rwl",description:"ExpandedDrinkDescription_description__NXitR",preview:"ExpandedDrinkDescription_preview__2teka"}},94:function(e,t,n){e.exports={container:"PurchaseTimeHeatMap_container__3pKA-",tick:"PurchaseTimeHeatMap_tick__1RETz","tick-label":"PurchaseTimeHeatMap_tick-label__3nvPf",tooltip:"PurchaseTimeHeatMap_tooltip__37KtM"}}},[[408,1,2]]]);
//# sourceMappingURL=main.61b23dd4.chunk.js.map