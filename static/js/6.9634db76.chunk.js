(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[6],{302:function(e,t,n){"use strict";var a=n(8),c=n(0);t.a=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),o=Object(a.a)(r,2),s=o[0],l=o[1],u=Object(c.useCallback)((function(){i(JSON.parse(localStorage.getItem("drinkids")))}),[]);return Object(c.useEffect)(u,[u]),Object(c.useEffect)((function(){l(n.map((function(e){return JSON.parse(localStorage.getItem(e))})))}),[n]),{drinkids:n,drinks:s,update:u}}},303:function(e,t,n){"use strict";var a=n(0);t.a=function(){return{getLocationsNearby:Object(a.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a="https://us-central1-boba-watch-firebase.cloudfunctions.net/locator";fetch(a+"?"+new URLSearchParams(e).toString()).then((function(e){return e.json()})).then(t).catch(n)}),[]),getLocationsByText:Object(a.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a="https://us-central1-boba-watch-firebase.cloudfunctions.net/nearbyLocations";fetch(a+"?"+new URLSearchParams(e).toString()).then((function(e){return e.json()})).then(t).catch(n)}),[])}}},304:function(e,t,n){"use strict";var a=n(8),c=n(0),i=n(13),r=n(40),o=n(27),s=n(73);t.a=function(e){var t=Object(c.useState)(Object(s.c)()),n=Object(a.a)(t,2),l=n[0],u=n[1],d=Object(c.useContext)(o.a),j=Object(a.a)(d,1)[0];return Object(c.useEffect)((function(){if(void 0===e||j.uid===e)return u(JSON.parse(localStorage.getItem("metrics")));u({}),i.b.collection("users/".concat(e,"/user")).doc("stats").get().then((function(e){u(e.data())})).catch(r.a)}),[e,j.uid]),l}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(50),c=n(8),i=n(0),r=function(e){var t=Object(i.useState)([]),n=Object(c.a)(t,2),r=n[0],o=n[1];return Object(i.useEffect)((function(){var t={};e.forEach((function(e){var n,c,i,r;if((null===e||void 0===e||null===(n=e.address)||void 0===n?void 0:n.lat)&&(null===e||void 0===e||null===(c=e.address)||void 0===c?void 0:c.lng)){var o="".concat(e.address.lat).concat(e.address.lng).concat(null===e||void 0===e?void 0:e.location);t[o]={coordinates:[e.address.lat,e.address.lng],location:null===e||void 0===e?void 0:e.location,address:null===e||void 0===e?void 0:e.address,drinks:[].concat(Object(a.a)(null!==(i=null===t||void 0===t||null===(r=t[o])||void 0===r?void 0:r.drinks)&&void 0!==i?i:[]),[{id:e.id,date:null===e||void 0===e?void 0:e.date}])}}})),o(Object.values(t))}),[e]),{locations:r}}},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return c.a})),n.d(t,"c",(function(){return i.a}));n(107);var a=n(71),c=n(302),i=n(303);n(105),n(8),n(0),n(109),n(304),n(108)},320:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return v}));var a=n(17),c=n.n(a),i=n(9),r=n(28),o=n(22),s=n.n(o),l=n(11),u=n(13),d=n(55),j=n(73),b=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.b.collection("users/".concat(n,"/drinks")).add(Object(i.a)({created:u.c.firestore.FieldValue.serverTimestamp(),edited:u.c.firestore.FieldValue.serverTimestamp()},t));case 3:return a=e.sent,e.next=6,a.get();case 6:return r=e.sent,o=Object(i.a)({id:r.id},r.data().drink),e.abrupt("return",m(o,n));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Object(d.c)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.b.collection("users/".concat(a,"/drinks")).doc(n).set(Object(i.a)({edited:u.c.firestore.FieldValue.serverTimestamp()},t));case 3:return Object(j.b)(n),e.abrupt("return",m(Object(i.a)({id:n},t.drink),a,!0));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(d.c)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{u.b.collection("users/".concat(t,"/drinks")).doc(e).delete().then((function(){var a=Object(j.b)(e);a.d=JSON.stringify(a.d),u.b.collection("users/".concat(t,"/user")).doc("stats").set(a).finally((function(){Object(d.d)(),n()}))})).catch((function(e){Object(d.e)(e)}))}catch(a){return Object(d.c)(a)}},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{u.b.collection("users/".concat(t,"/user")).doc("autofill").set({data:JSON.stringify(e)}).then((function(){localStorage.setItem("autofill",JSON.stringify(e)),n()})).catch((function(e){Object(d.c)(e)}))}catch(a){return Object(d.c)(a)}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(j.a)(e,e.id);a.d=JSON.stringify(a.d),u.b.collection("users/".concat(t,"/user")).doc("stats").set(a).finally((function(){s.a.fire(l.a.t("Done!"),l.a.t(n?"Drink updated":"Drink added"),"success")}))}},440:function(e,t,n){e.exports={container:"SavedItemCard_container__33aLy",tag:"SavedItemCard_tag__1DUXS",star:"SavedItemCard_star__1OgHA",actions:"SavedItemCard_actions__3j5Bx",show:"SavedItemCard_show__1OgZE",fill:"SavedItemCard_fill__1KPX3",delete:"SavedItemCard_delete__3vhjf"}},442:function(e,t,n){e.exports={scrollable:"AutofillManager_scrollable__33oLY",container:"AutofillManager_container__1_u4p",create:"AutofillManager_create__2LZ5o",empty:"AutofillManager_empty__1Z5p5"}},443:function(e,t,n){e.exports={container:"BasicFields_container__e73I7",tag:"BasicFields_tag__1c9XQ",divider:"BasicFields_divider__3US8N",rating:"BasicFields_rating__1cOkJ"}},445:function(e,t,n){e.exports={container:"DescriptionEditor_container__1rN82",editor:"DescriptionEditor_editor__18ygn",preview:"DescriptionEditor_preview__XWFEi"}},446:function(e,t,n){e.exports={container:"ImageUpload_container__T-AF-",uploading:"ImageUpload_uploading__2Bb3w",uploaded:"ImageUpload_uploaded__3rzol",preview:"ImageUpload_preview__3PXkV"}},447:function(e,t,n){e.exports={container:"LocationPreview_container__1hWjA",title:"LocationPreview_title__32FnW",divider:"LocationPreview_divider__9HCer","name-container":"LocationPreview_name-container__3KKrO",tag:"LocationPreview_tag__39Nmb",select:"LocationPreview_select__1CV2Z",expand:"LocationPreview_expand__2JJl2",selected:"LocationPreview_selected__kE9A2",actions:"LocationPreview_actions__1vwJi",cancel:"LocationPreview_cancel__1W3ew",confirm:"LocationPreview_confirm__3p_0G"}},449:function(e,t,n){e.exports={container:"NearbyLocationList_container__3mxnp",search:"NearbyLocationList_search__vTG8q","awaiting-location":"NearbyLocationList_awaiting-location__F7Pe9",scrollable:"NearbyLocationList_scrollable__1AqeD",list:"NearbyLocationList_list__1L99D",listing:"NearbyLocationList_listing__56Zls"}},450:function(e,t,n){e.exports={container:"PreviousLocationList_container__2gR8D",search:"PreviousLocationList_search__2iTQs","awaiting-location":"PreviousLocationList_awaiting-location__1mm2L",scrollable:"PreviousLocationList_scrollable__1qDj2",list:"PreviousLocationList_list__1_U3b",listing:"PreviousLocationList_listing__3n77t"}},451:function(e,t,n){e.exports={container:"MobileLocationInput_container__19l5c","input-container":"MobileLocationInput_input-container__1ZuzP",preview:"MobileLocationInput_preview__XV_eu",select:"MobileLocationInput_select__3zJyP",back:"MobileLocationInput_back__3jrLq"}},452:function(e,t,n){e.exports={container:"DesktopLocationInput_container__2awLK","input-container":"DesktopLocationInput_input-container__vcyky",preview:"DesktopLocationInput_preview__24z5i",select:"DesktopLocationInput_select__3w6Il"}},453:function(e,t,n){},454:function(e,t,n){e.exports={container:"DesktopAdd_container__3ijOs",title:"DesktopAdd_title__1t9m4","form-container":"DesktopAdd_form-container__3g2Up",layout:"DesktopAdd_layout__2pwkQ",left:"DesktopAdd_left__32f2F",right:"DesktopAdd_right__1RLKX",fields:"DesktopAdd_fields__3jjee",upload:"DesktopAdd_upload__1Vof7",state:"DesktopAdd_state__qD8t5",description:"DesktopAdd_description__QO1hu"}},490:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(71),i=n(9),r=n(8),o=n(298),s=n(357),l=n(22),u=n.n(l),d=n(77),j=n(310),b=n(488),O=n(17),f=n.n(O),v=n(28),m=n(65),h=n(12),p=n(27),_=n(320),x={image:"",price:0,date:(new Date).toISOString()},g=function(){var e=Object(h.f)().state,t=Object(h.g)(),n=Object(h.h)().id,c=Object(a.useContext)(p.a),o=Object(r.a)(c,1)[0],s=Object(a.useState)(x),l=Object(r.a)(s,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(r.a)(j,2),O=b[0],g=b[1],N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;if("function"===typeof n){if(!n(t))return}else if(t.length>=n)return;d((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(m.a)({},e,t))}))},w=function(){var e=Object(v.a)(f.a.mark((function e(a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g(!0),c=Object(i.a)(Object(i.a)({},u),{},{date:new Date(u.date).toISOString(),price:parseInt(100*parseFloat(u.price))}),n){e.next=8;break}return e.next=6,Object(_.a)({drink:c},o.uid);case 6:e.next=10;break;case 8:return e.next=10,Object(_.b)({drink:c},n,o.uid);case 10:d(x),g(!1),t("/history");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(n){var e=JSON.parse(localStorage.getItem(n));e.price=e.price/100,d(e)}}),[n]),Object(a.useEffect)((function(){(null===e||void 0===e?void 0:e.address)&&(null===e||void 0===e?void 0:e.location)&&d(Object(i.a)(Object(i.a)({},x),{},{address:e.address,location:e.location}))}),[e]),{disabled:O,form:u,id:n,setForm:d,editForm:N,handleChange:function(e,t){return function(n){n.preventDefault(),N(e,n.target.value,t)}},submit:w}},N=n(50),w=n(55),y=function(){var e,t=Object(a.useContext)(p.a),n=Object(r.a)(t,1)[0],c=Object(a.useState)(null!==(e=JSON.parse(localStorage.getItem("autofill")))&&void 0!==e?e:[]),o=Object(r.a)(c,2),s=o[0],l=o[1],u=Object(a.useCallback)((function(){var e;l(null!==(e=JSON.parse(localStorage.getItem("autofill")))&&void 0!==e?e:[])}),[]),d=Object(a.useCallback)((function(e){var t=[Object(i.a)(Object(i.a)({},e),{},{value:e.name+(new Date).toISOString()})].concat(Object(N.a)(s));Object(_.d)(t,n.uid,(function(){Object(w.a)(),u()}))}),[s,n.uid,u]),j=Object(a.useCallback)((function(e){var t=Object(N.a)(s).filter((function(t){return t.value!==e}));Object(_.d)(t,n.uid,(function(){Object(w.b)(),u()}))}),[s,n.uid,u]);return{autofill:s,add:d,remove:j}},k=n(49),L=n(19),S=n(335),C=n.n(S),D=n(441),I=n.n(D),A=n(356),F=n.n(A),P=n(440),E=n.n(P),T=n(2),J=function(e){var t=e.entry,n=e.set,c=e.remove,i=Object(a.useState)(!1),o=Object(r.a)(i,2),s=o[0],l=o[1];return Object(T.jsxs)(k.a,{className:E.a.container,children:[t.name&&Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:"name "})," ",t.name]}),t.location&&Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{children:"location "})," ",Object(T.jsx)(k.c,{className:E.a.tag,address:null===t||void 0===t?void 0:t.address}),t.location]}),(0===t.price||t.price)&&Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:"price "})," $",(t.price/100).toFixed(2)]}),(0===t.rating||t.rating)&&Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:"rating "})," ",t.rating,Object(T.jsx)(C.a,{className:E.a.star})]}),Object(T.jsxs)("div",{className:Object(L.a)(E.a.actions,s&&E.a.show),onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(T.jsx)("button",{className:E.a.fill,onClick:n(t),children:Object(T.jsx)(F.a,{})}),Object(T.jsx)("button",{className:E.a.delete,onClick:function(){return c(t.value)},children:Object(T.jsx)(I.a,{})})]})]})},B=Object(a.memo)(J),U=n(442),M=n.n(U),R=function(e){var t=e.form,n=e.setForm,a=y(),c=a.autofill,r=a.add,o=a.remove,s=function(e){return function(t){t.preventDefault(),n((function(t){return Object(i.a)(Object(i.a)(Object(i.a)({},t),e),{},{price:(null===e||void 0===e?void 0:e.price)?e.price/100:t.price})}))}};return Object(T.jsx)("div",{className:M.a.scrollable,children:Object(T.jsxs)("div",{className:M.a.container,children:[Object(T.jsxs)("div",{className:M.a.create,onClick:function(e){e.preventDefault();var n=Object(i.a)(Object(i.a)({},t),{},{price:100*t.price});delete n.id,delete n.date,delete n.edited,delete n.created,r(n)},children:[Object(T.jsx)("h3",{children:"+ Create"}),Object(T.jsx)("p",{children:"Click here to save the current form for future use"})]}),0===(null===c||void 0===c?void 0:c.length)&&Object(T.jsx)(k.a,{className:M.a.empty,children:"No drinks currently saved"}),c.map((function(e){return Object(T.jsx)(B,{entry:e,set:s,remove:o},e.value)}))]})})},V=Object(a.memo)(R),H=n(443),X=n.n(H),q=function(e){var t,n,a=e.form,c=e.setForm,i=e.handleChange,r=e.editForm;return Object(T.jsxs)("div",{className:X.a.container,children:[Object(T.jsx)(k.c,{className:X.a.tag,address:null===a||void 0===a?void 0:a.address}),Object(T.jsx)(Je,{form:a,onChange:r,setForm:c}),Object(T.jsx)(k.i,{value:null!==(t=a.name)&&void 0!==t?t:"",onChange:i("name",150),label:"Drink Name"}),Object(T.jsx)(k.i,{value:null!==(n=a.price)&&void 0!==n?n:0,onChange:i("price",(function(e){return e.match(/^-?\d*\.?\d*$/)&&e.length<10})),label:"Price",type:"text"}),Object(T.jsxs)("div",{className:X.a.divider,children:[Object(T.jsx)(j.a,{utils:s.a,children:Object(T.jsx)(b.a,{label:"Date",value:a.date,onChange:function(e){return r("date",e,30)},inputProps:{maxLength:100}})}),Object(T.jsx)(k.h,{className:X.a.rating,rating:a.rating,setRating:function(e){return r("rating",e)}})]})]})},K=Object(a.memo)(q),W=n(116),Z=n(115),z=n.n(Z),G=n(445),Q=n.n(G),$=(n(169),function(e){var t=e.description,n=e.setDescription,a=new z.a;return W.b.unuse(W.a.Image),W.b.unuse(W.a.Link),W.b.unuse(W.a.Clear),W.b.unuse(W.a.ModeToggle),W.b.unuse(W.a.BlockCodeBlock),W.b.unuse(W.a.BlockCodeInline),W.b.unuse(W.a.FontUnderline),Object(T.jsxs)("div",{className:Q.a.container,children:[Object(T.jsx)(k.a,{children:Object(T.jsx)(W.b,{id:Q.a.editor,renderHTML:function(e){return e},view:{html:!1},table:{maxRow:12,maxCol:8},canView:{hideMenu:!1},value:t,onChange:function(e){e.html;var t=e.text;n(t)},placeholder:"How was your drink?"})}),Object(T.jsx)("h2",{children:"preview"}),Object(T.jsx)(k.a,{className:Q.a.preview,children:Object(T.jsx)(W.b,{id:Q.a.preview,view:{menu:!1,md:!1},readOnly:!0,renderHTML:function(e){return a.render(e)},canView:{menu:!1,md:!1,html:!1,fullScreen:!1,hideMenu:!1},value:t})})]})}),Y=Object(a.memo)($),ee=n(114),te=n(13),ne=n(40),ae=n(446),ce=n.n(ae),ie=function(e){var t=e.image,n=e.setImage,c=e.className,i=Object(a.useContext)(p.a),o=Object(r.a)(i,1)[0],s=Object(a.useState)(""),l=Object(r.a)(s,2),d=l[0],j=l[1],b=Object(a.useState)(-1),O=Object(r.a)(b,2),m=O[0],h=O[1],_=Object(a.useRef)(null);Object(a.useEffect)((function(){t&&Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.b)(t);case 2:n=e.sent,h(100),j(n);case 5:case"end":return e.stop()}}),e)})))()}),[t]);var x=function(){var e=Object(v.a)(f.a.mark((function e(a){var c,i,r,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=null===_||void 0===_||null===(c=_.current)||void 0===c||null===(i=c.files)||void 0===i?void 0:i[0]).size>5e6)){e.next=5;break}return u.a.fire("File too large","Try a smaller image less than 5MB. Appreciate the high quality images but to keep Boba Watch free, we gotta do it like this. :(","error"),_.current.value="",e.abrupt("return");case 5:""!==d&&Object(ee.a)(t),s="drinks/".concat(o.uid,"/post-").concat((new Date).valueOf()),(l=te.c.storage().ref().child(s).put(r)).on("state_changed",(function(e){h(parseInt(e.bytesTransferred/e.totalBytes*100))}),(function(e){"storage/canceled"===e.code?h(-1):Object(ne.a)(JSON.stringify(e))}),(function(){n(s),l.snapshot.ref.getDownloadURL().then((function(e){j(e)}))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return m<0?e:m<100?t:n};return Object(T.jsxs)("label",{className:Object(L.a)(ce.a.container,g("","uploading","uploaded"),c),children:[d&&Object(T.jsx)("img",{className:ce.a.preview,src:d,alt:"upload-preview"}),g("UPLOAD AN IMAGE","UPLOADING..."),Object(T.jsx)("input",{type:"file",ref:_,onChange:x,accept:"image/png,image/jpeg"}),Object(T.jsx)("br",{}),g("",Object(T.jsx)("progress",{max:"100",value:g(0,m,100)}))]})},re=Object(a.memo)(ie),oe=n(312),se=n(448),le=n.n(se),ue=n(336),de=n.n(ue),je=n(447),be=n.n(je),Oe=function(e){var t,n=e.form,a=e.setForm,c=e.setShow,r=e.tab,o=e.setTab;return Object(T.jsxs)("div",{className:be.a.container,children:[Object(T.jsx)("h3",{className:be.a.title,children:"Location"}),Object(T.jsx)("h4",{children:"Select a location from:"}),Object(T.jsxs)("div",{className:Object(L.a)(be.a.select,"nearby"===r&&be.a.selected),onClick:function(){return o("nearby")},children:[Object(T.jsx)("h5",{children:"Nearby Locations"}),"nearby"===r&&Object(T.jsx)(de.a,{className:be.a.expand})]}),Object(T.jsxs)("div",{className:Object(L.a)(be.a.select,"previous"===r&&be.a.selected),onClick:function(){return o("previous")},children:[Object(T.jsx)("h5",{children:"Previously Used"}),"previous"===r&&Object(T.jsx)(de.a,{className:be.a.expand})]}),Object(T.jsx)("div",{className:be.a.divider}),Object(T.jsx)("h4",{children:"or manually enter a location:"}),Object(T.jsxs)("div",{className:be.a["name-container"],children:[Object(T.jsx)(k.c,{className:be.a.tag,address:null===n||void 0===n?void 0:n.address}),Object(T.jsx)(k.i,{label:"Name",value:null!==(t=null===n||void 0===n?void 0:n.location)&&void 0!==t?t:"",onChange:function(e){a((function(t){var n=Object(i.a)(Object(i.a)({},t),{},{location:e.target.value});return delete n.address,n}))},className:be.a.name})]}),Object(T.jsxs)("div",{className:be.a.actions,children:[Object(T.jsx)("button",{type:"button",className:be.a.cancel,onClick:function(){a((function(e){var t=Object(i.a)({},e);return delete t.address,delete t.location,t})),c(!1)},children:Object(T.jsx)(le.a,{})}),Object(T.jsx)("button",{className:be.a.confirm,type:"button",onClick:function(){return c(!1)},children:Object(T.jsx)(F.a,{})})]})]})},fe=Object(a.memo)(Oe),ve=n(105),me=n(303),he=n(449),pe=n.n(he),_e=function(e){var t=e.onChange,n=Object(ve.a)(),c=Object(a.useState)(null),o=Object(r.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(""),d=Object(r.a)(u,2),j=d[0],b=d[1],O=Object(a.useState)(!1),f=Object(r.a)(O,2),v=f[0],m=f[1],h=Object(me.a)(),p=h.getLocationsByText,_=h.getLocationsNearby;Object(a.useEffect)((function(){var e=setTimeout((function(){return m(!0)}),400);return function(){return clearTimeout(e)}}),[j]),Object(a.useEffect)((function(){if(v&&n.lat&&n.lng){var e={lat:n.lat,lng:n.lng};m(!1),0===j.length?_(Object(i.a)({coffee:!0},e),(function(e){return l(e.response.groups[0].items.map((function(e){return e.venue})))}),(function(){return l([])})):p(Object(i.a)({input:j},e),(function(e){return l(e.response.minivenues)}),(function(){return l([])}))}}),[j,v,n,p,_]);return Object(T.jsxs)("div",{className:pe.a.container,children:[Object(T.jsx)("h3",{children:"Nearby Locations"}),Object(T.jsx)("div",{className:pe.a.search,children:Object(T.jsx)(k.i,{label:"Search by name",value:j,onChange:function(e){e.preventDefault(),b(e.target.value)}})}),Object(T.jsx)("div",{className:pe.a.scrollable,children:Object(T.jsxs)("div",{className:pe.a.list,children:[s&&s.map((function(e){var n,a,c,i,r=e.name,o=e.location;return Object(T.jsxs)(k.a,{className:pe.a.listing,onClick:function(){return function(e,n){t("location",e,250),t("address",n,(function(){return!0}))}(r,o)},children:[Object(T.jsx)("h4",{children:r}),null!==(n=null===o||void 0===o?void 0:o.address)&&void 0!==n?n:"",(null===o||void 0===o?void 0:o.address)&&Object(T.jsx)("br",{}),null!==(a=null===o||void 0===o?void 0:o.city)&&void 0!==a?a:"",", ",null!==(c=null===o||void 0===o?void 0:o.state)&&void 0!==c?c:"",","," ",null!==(i=null===o||void 0===o?void 0:o.country)&&void 0!==i?i:""]},JSON.stringify(r)+JSON.stringify(o))})),(!s||!s.length)&&Object(T.jsx)(k.a,{className:Object(L.a)(pe.a.listing,pe.a["awaiting-location"]),children:s?"Nothing found matching your search":"Allow location access to get nearby locations."})]})})]})},xe=Object(a.memo)(_e),ge=n(302),Ne=n(307),we=n(450),ye=n.n(we),ke=function(e){var t=e.onChange,n=Object(ge.a)().drinks,a=Object(Ne.a)(n).locations;return Object(T.jsxs)("div",{className:ye.a.container,children:[Object(T.jsx)("h3",{children:"Previously Used"}),Object(T.jsx)("div",{className:ye.a.scrollable,children:Object(T.jsx)("div",{className:ye.a.list,children:a&&a.map((function(e){var n,a,c,i,r=e.coordinates,o=e.location,s=e.address;return Object(T.jsxs)(k.a,{className:ye.a.listing,onClick:function(){return function(e,n){t("location",e,250),t("address",n,(function(){return!0}))}(o,s)},children:[Object(T.jsx)("h4",{children:o}),null!==(n=s.address)&&void 0!==n?n:"",s.address&&Object(T.jsx)("br",{}),null!==(a=null===s||void 0===s?void 0:s.city)&&void 0!==a?a:"",", ",null!==(c=null===s||void 0===s?void 0:s.state)&&void 0!==c?c:"",","," ",null!==(i=null===s||void 0===s?void 0:s.country)&&void 0!==i?i:""]},JSON.stringify(r)+JSON.stringify(o))}))})})]})},Le=Object(a.memo)(ke),Se=n(451),Ce=n.n(Se),De=function(e){var t,n=e.form,c=e.onChange,i=e.setForm,o=Object(a.useState)(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)("default"),j=Object(r.a)(d,2),b=j[0],O=j[1],f=function(){c.apply(void 0,arguments),O("default")};return Object(T.jsxs)("div",{className:Ce.a.container,children:[Object(T.jsx)(k.f,{open:l,setOpen:u,children:Object(T.jsx)("div",{className:Ce.a["input-container"],children:Object(T.jsxs)(k.a,{className:"default"===b?Ce.a.preview:Ce.a.select,children:["default"===b&&Object(T.jsx)(fe,{form:n,setForm:i,tab:b,setTab:O,setShow:u}),"default"!==b&&Object(T.jsx)("button",{className:Ce.a.back,onClick:function(){return O("default")},children:"BACK"}),"nearby"===b&&Object(T.jsx)(xe,{onChange:f}),"previous"===b&&Object(T.jsx)(Le,{onChange:f})]})})}),Object(T.jsx)(k.i,{value:null!==(t=null===n||void 0===n?void 0:n.location)&&void 0!==t?t:"",label:"Location",readOnly:!0,onFocus:function(){return u(!0)}})]})},Ie=Object(a.memo)(De),Ae=n(452),Fe=n.n(Ae),Pe=function(e){var t,n=e.form,c=e.onChange,i=e.setForm,o=Object(a.useState)(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)("nearby"),j=Object(r.a)(d,2),b=j[0],O=j[1];return Object(T.jsxs)("div",{className:Fe.a.container,children:[Object(T.jsx)(k.f,{open:l,setOpen:u,children:Object(T.jsxs)("div",{className:Fe.a["input-container"],children:[Object(T.jsx)(k.a,{className:Fe.a.preview,children:Object(T.jsx)(fe,{form:n,setForm:i,tab:b,setTab:O,setShow:u})}),Object(T.jsx)(k.a,{className:Fe.a.select,children:"nearby"===b?Object(T.jsx)(xe,{onChange:c}):Object(T.jsx)(Le,{onChange:c})})]})}),Object(T.jsx)(k.i,{value:null!==(t=null===n||void 0===n?void 0:n.location)&&void 0!==t?t:"",label:"Location",readOnly:!0,onFocus:function(){return u(!0)}})]})},Ee=Object(a.memo)(Pe),Te=function(e){return"phone"===Object(oe.a)()?Object(T.jsx)(Ie,Object(i.a)({},e)):Object(T.jsx)(Ee,Object(i.a)({},e))},Je=Object(a.memo)(Te),Be=(n(453),function(){var e,t,n,c=Object(o.a)().t,l=g(),O=l.disabled,f=l.form,v=l.id,m=l.setForm,h=l.editForm,p=l.handleChange,_=l.submit,x=y(),N=x.autofill,w=x.add,L=x.remove,S=Object(a.useState)([]),C=Object(r.a)(S,2),D=C[0],I=C[1];Object(a.useEffect)((function(){I(N.map((function(e){var t,n;return Object(i.a)({label:(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"")+"@"+(null!==(n=null===e||void 0===e?void 0:e.location)&&void 0!==n?n:"")},e)})))}),[N]);return Object(T.jsx)("div",{className:"page with-user",children:Object(T.jsxs)("form",{className:"add-modal",onSubmit:_,children:[Object(T.jsx)("h4",{className:"bw title",children:c("".concat(v?"EDIT":"ADD"," A PURCHASE"))}),Object(T.jsxs)(k.a,{className:"add-holder",children:[Object(T.jsx)("h5",{children:c("WHAT'S THE TEA?")}),Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)("label",{className:"autofill-label",children:"Autofill with saved entry:"}),Object(T.jsx)(d.a,{options:D,name:"autofill",onChange:function(e){u.a.fire({showCancelButton:!0,html:"use or remove entry? <br />(click outside to cancel)",cancelButtonText:"remove",confirmButtonText:"autofill",cancelButtonColor:"#f44",reverseButtons:!0}).then((function(t){t.value?m((function(t){return Object(i.a)(Object(i.a)(Object(i.a)({},t),e),{},{price:(null===e||void 0===e?void 0:e.price)?e.price/100:t.price})})):"cancel"===t.dismiss&&L(e.value)}))},className:"autofill-select"}),Object(T.jsx)("div",{className:"autofill-divider",children:"or add a new drink:"}),Object(T.jsxs)("div",{className:"holder",children:[Object(T.jsx)(k.c,{className:"tag",address:null===f||void 0===f?void 0:f.address}),Object(T.jsx)(Je,{form:f,onChange:h,setForm:m})]}),Object(T.jsx)(k.i,{value:null!==(e=f.name)&&void 0!==e?e:"",onChange:p("name",150),label:"Drink Name"}),Object(T.jsx)(k.i,{value:null!==(t=f.price)&&void 0!==t?t:0,onChange:p("price",(function(e){return e.match(/^-?\d*\.?\d*$/)&&e.length<10})),label:"Price",type:"text"}),Object(T.jsx)(j.a,{utils:s.a,children:Object(T.jsx)(b.a,{label:"Date",value:f.date,onChange:function(e){return h("date",e,30)},inputProps:{maxLength:100}})})]}),Object(T.jsx)(k.h,{rating:f.rating,setRating:function(e){return h("rating",e)}}),Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)(re,{image:f.image,setImage:function(e){return h("image",e)}}),Object(T.jsx)(Y,{description:null!==(n=f.description)&&void 0!==n?n:"",setDescription:function(e){return h("description",e,2500)}}),Object(T.jsxs)("div",{className:"add-button-holder",children:[Object(T.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var t=Object(i.a)(Object(i.a)({},f),{},{price:100*f.price});delete t.id,delete t.date,delete t.edited,delete t.created,w(t)},className:"text save",children:c("SAVE")}),Object(T.jsx)("div",{}),Object(T.jsx)("button",{type:"submit",disabled:O,className:"text",children:c(v?"EDIT":"ADD")})]})]})]})]})})}),Ue=Object(a.memo)(Be),Me=n(454),Re=n.n(Me),Ve=function(){var e,t=g(),n=t.disabled,a=t.form,c=t.id,i=t.setForm,r=t.editForm,o=t.handleChange,s=t.submit;return Object(T.jsxs)("div",{className:Re.a.container,children:[Object(T.jsxs)("main",{children:[Object(T.jsx)("header",{children:Object(T.jsxs)("h1",{className:Re.a.title,children:[c?"EDIT":"ADD"," A PURCHASE"]})}),Object(T.jsx)("form",{onSubmit:s,className:Re.a["form-container"],children:Object(T.jsxs)("fieldset",{disabled:n,className:Re.a.layout,children:[Object(T.jsxs)("div",{className:Re.a.left,children:[Object(T.jsx)(k.a,{className:Re.a.fields,title:"details",children:Object(T.jsx)(K,{form:a,setForm:i,editForm:r,handleChange:o})}),Object(T.jsx)(k.a,{className:Re.a.upload,title:"photo",children:Object(T.jsx)(re,{className:Re.a.state,image:a.image,setImage:function(e){return r("image",e)}})})]}),Object(T.jsxs)("div",{className:Re.a.right,children:[Object(T.jsx)(k.a,{className:Re.a.description,title:"description",children:Object(T.jsx)(Y,{description:null!==(e=a.description)&&void 0!==e?e:"",setDescription:function(e){return r("description",e,2500)}})}),Object(T.jsx)("button",{children:c?"UPDATE":"ADD"})]})]})})]}),Object(T.jsxs)("aside",{children:[Object(T.jsx)("h2",{children:"saved drinks"}),Object(T.jsxs)("p",{children:["You can save your favorite drink to make recording them easier! Just fill out the form with the fields you want saved and click"," ",Object(T.jsx)("b",{style:{whiteSpace:"nowrap"},children:"[+ Create]"})," below before adding."]}),Object(T.jsx)(V,{form:a,setForm:i})]})]})},He=Object(a.memo)(Ve),Xe=function(){return"phone"===Object(c.a)()?Object(T.jsx)(Ue,{}):Object(T.jsx)(He,{})},qe=Object(a.memo)(Xe);t.default=qe}}]);
//# sourceMappingURL=6.9634db76.chunk.js.map