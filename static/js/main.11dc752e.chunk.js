(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[0],{111:function(e){e.exports=JSON.parse('{"themeName":"Light","themeStyles":{"--bg-primary":"white","--bg-secondary":"white","--bg-border":"#FFDCDC","--bg-blend":"linear-gradient(180deg, #FC8A8A 0%, #FFD3B3 100%)","--dash-blend":"#FFD3B3","--avatar-border":"white","--text-primary":"white","--text-secondary":"black","--text-light":"#FFC9C2","--text-accent":"#F68080","--btn-bg":"#F68080","--btn-text":"white","--nav-bg":"#FFAFA4","--nav-text":"white","--blog-text-primary":"#F68080","--blog-bg-secondary":"#F68080","--blog-accent":"#F68080","--blog-bg-primary":"#FFAFA4","--logout-btn":"#FF0000","--history-summary":"black","--add-header":"#FFF1EF","--dash-bg-secondary":"#F68080","--dash-text-secondary":"#FFFFFF"}}')},112:function(e){e.exports=JSON.parse('{"themeName":"Dark","themeStyles":{"--bg-primary":"#161C26","--bg-secondary":"#161C26","--bg-border":"#7F91A8","--bg-blend":"linear-gradient(180deg, #050505 0%, #050505 100%)","--dash-blend":"#151515","--avatar-border":"#151515","--text-primary":"white","--text-secondary":"white","--text-light":"#151515","--text-accent":"#7F91A8","--btn-bg":"#F68080","--btn-text":"#151515","--nav-bg":"#050505","--nav-text":"#7F91A8","--blog-text-primary":"white","--blog-bg-secondary":"#101015","--blog-accent":"#7F91A8","--blog-bg-primary":"#050505","--logout-btn":"#7F91A8","--history-summary":"#7F91A8","--add-header":"#7F91A8","--dash-bg-secondary":"#0b0b0b","--dash-text-secondary":"#FFDCDC"}}')},121:function(e){e.exports=JSON.parse('{"translation":{"$":"\xa3","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},122:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"L\xcdMITE MENSUAL","REMAINING":"RESTANTE","Monthly Spending":"Gasto Mensual","This is how much you\u2019ve spent on drinks so far":"Esto es lo mucho que has gastado en bebidas hasta ahora","to your max number of drinks this month":"a su n\xfamero m\xe1ximo de bebidas este mes","drinks this month":"bebidas de este mes","Morning Purchases":"Compras Matutinas","Afternoon Purchases":"Compras por la Tarde","# of purchases":"# de compras","User Settings":"Configuraci\xf3n del Usuario","Monthly Spending Limit":"L\xedmite de Gastos Mensuales","Max of drinks / month":"Max de bebidas / mes","Share Profile":"Compartir Perfil","LOGOUT":"SALIR","UPDATE":"ACTUALIZAR","Add a purchase":"A\xf1adir una compra","Location":"Local","Drink Name":"Nombre de la Bebida","Price":"Precio","Date":"Fecha","Description":"Descripci\xf3n","ADD":"A\xd1ADIR","EDIT":"EDITAR","Please enter a valid price to add drink":"Por favor, introduzca un precio v\xe1lido para a\xf1adir la bebida","No drinks this month":"No hay bebidas este mes","Add a drink to start!":"\xa1A\xf1ade una bebida para empezar!","Monthly Total":"Gasto Mensual","Overall Spending":"Gasto Total","Complete Total":"Gasto Total","on":"","DELETE":"BORRAR"}}')},123:function(e){e.exports=JSON.parse('{"translation":{"$":"\xa5","MONTHLY LIMIT":"\u6bcf\u6708\u9650\u989d","REMAINING":"\u5269\u4f59\u7684","Monthly Spending":"\u6bcf\u6708\u652f\u51fa","This is how much you\u2019ve spent on drinks so far":"\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u662f\u60a8\u5728\u996e\u6599\u4e0a\u82b1\u8d39\u7684\u91d1\u989d","to your max number of drinks this month":"\u8fbe\u5230\u60a8\u672c\u6708\u996e\u6599\u7684\u6700\u5927\u6570\u91cf","drinks this month":"\u672c\u6708\u996e\u6599","Morning Purchases":"\u4e0a\u5348\u8d2d\u4e70","Afternoon Purchases":"\u4e0b\u5348\u8d2d\u4e70","# of purchases":"\u8d2d\u4e70\u6570\u91cf","User Settings":"\u7528\u6237\u8bbe\u7f6e","Monthly Spending Limit":"\u6bcf\u6708\u6d88\u8d39\u9650\u989d","Max of drinks / month":"\u996e\u6599\u9650\u91cf/\u6708","Share Profile":"\u5206\u4eab\u4e2a\u4eba\u8d44\u6599","LOGOUT":"\u9000\u51fa","UPDATE":"\u66f4\u65b0","Add a purchase":"\u6dfb\u52a0\u8d2d\u4e70","Location":"\u4f4d\u7f6e","Drink Name":"\u996e\u6599\u540d\u79f0","Price":"\u4ef7\u94b1","Date":"\u65e5\u671f","Description":"\u63cf\u8ff0","ADD":"\u52a0","EDIT":"\u7f16\u8f91","Please enter a valid price to add drink":"\u8bf7\u8f93\u5165\u6709\u6548\u4ef7\u683c\u4ee5\u6dfb\u52a0\u996e\u6599","No drinks this month":"\u672c\u6708\u6ca1\u6709\u996e\u6599","Add a drink to start!":"\u5f00\u59cb\u6dfb\u52a0\u996e\u6599!","Monthly Total":"\u6bcf\u6708\u603b\u8ba1","Overall Spending":"\u603b\u652f\u51fa","Complete Total":"\u5b8c\u6210\u603b\u6570","on":"\u5728","DELETE":"\u5220\u9664"}}')},124:function(e){e.exports=JSON.parse('{"translation":{"$":"NT$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month :(","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},142:function(e,t,a){e.exports=a(227)},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},165:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){var n={"./autofill.png":199,"./edit.png":200,"./feed.png":201,"./manage.png":202,"./profiles.png":203,"./publish.png":204,"./rating.png":205,"./save.png":206,"./search.png":207,"./theme.png":208};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=198},199:function(e,t,a){e.exports=a.p+"static/media/autofill.85d9666b.png"},200:function(e,t,a){e.exports=a.p+"static/media/edit.d523bea9.png"},201:function(e,t,a){e.exports=a.p+"static/media/feed.eb218b0b.png"},202:function(e,t,a){e.exports=a.p+"static/media/manage.2da3077e.png"},203:function(e,t,a){e.exports=a.p+"static/media/profiles.93e705b0.png"},204:function(e,t,a){e.exports=a.p+"static/media/publish.81095bde.png"},205:function(e,t,a){e.exports=a.p+"static/media/rating.c15a9421.png"},206:function(e,t,a){e.exports=a.p+"static/media/save.bebf26fa.png"},207:function(e,t,a){e.exports=a.p+"static/media/search.56bf0450.png"},208:function(e,t,a){e.exports=a.p+"static/media/theme.930bbdf7.png"},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),i=a(18),c=a(7),s=a(265);var u={toMoney:function(e,t=!1){return t?parseInt(e/100):Number(e/100).toFixed(2)}},d=a(24),m=a(34);a(158);var p=e=>{let t=e.className,a=e.children,n=Object(m.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:"card ".concat(t)},n),a)};a(159);var h=e=>{let t=e.className,a=void 0===t?"":t,n=e.children,l=e.open,o=Object(m.a)(e,["className","children","open"]);return r.a.createElement("div",Object.assign({className:"collapse ".concat(l?"open":""," ").concat(a)},o),n)};a(160);var f=({open:e,setOpen:t,children:a})=>{const l=Object(n.useRef)(null);return r.a.createElement("div",{className:"modal-backdrop "+(e?"open":""),onClick:e=>{l.current&&l.current===e.target&&t(!1)},ref:l},a)};a(161);var g=e=>{let t=e.value,a=e.id,n=e.label,l=e.autoFocus;return r.a.createElement("span",{className:"text-input"+(0===t.length?"":" input--filled")},r.a.createElement("input",Object.assign({},e,{autoComplete:"off",autoFocus:null!==l&&void 0!==l&&l,name:a})),r.a.createElement("label",{htmlFor:a},r.a.createElement("span",null,n)))},b=a(96),v=a(98),E=a.n(v),O=(a(165),a(5)),y=a.n(O),k=a(10),S=a(17),N=a.n(S),w=a(9),j=a(8),A=a.n(j),x=(a(87),a(68),a(90),a(71));A.a.initializeApp({apiKey:"AIzaSyBePNJQYVteyh1Ll9fqnXbXc-S8fmJlbTQ",authDomain:"boba-watch-firebase.firebaseapp.com",databaseURL:"https://boba-watch-firebase.firebaseio.com",projectId:"boba-watch-firebase",storageBucket:"boba-watch-firebase.appspot.com",messagingSenderId:"674375234614",appId:"1:674375234614:web:fdaf98c291204b9c",measurementId:"G-C2DYVHCWDR"});let M,D=A.a.analytics(),I=x.a.AuthUI.getInstance()||new x.a.AuthUI(A.a.auth());const T=()=>{A.a.auth().signOut().then((function(){D.logEvent("logout");let e=localStorage.getItem("theme");localStorage.clear(),localStorage.setItem("theme",e),window.location.reload()})).catch(J)},C=function(){var e=Object(k.a)(y.a.mark((function e(t,a=6){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("blogs").where("uid","==",t).orderBy("date","desc").limit(a).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("blogs").doc(t).delete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(t,"/user")).doc("stats").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(t,"/blog")).doc("user").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(k.a)(y.a.mark((function e(t,a=1,n=0){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(t,"/user/profile/liked")).orderBy("liked").startAfter(n).limit(a).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(e="N/A")=>{D.logEvent("exception",{description:e})},J=e=>{R(e),console.log("Please copy this error and send to ".concat("ryanqyang@gmail.com"),e),N.a.fire(w.a.t("Oops..."),w.a.t("Something went wrong..."),"error")},B=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.fire({title:w.a.t("Edit bio"),input:"textarea",inputPlaceholder:w.a.t("About me..."),inputAttributes:{maxLength:350}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.fire({title:w.a.t("Change location"),input:"text",inputPlaceholder:w.a.t("Where I am now..."),inputAttributes:{maxLength:20}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.fire({title:w.a.t("Are you sure?"),text:w.a.t("Once you delete this you can't get it back!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:w.a.t("Yes, delete it!")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var H=({className:e="",text:t})=>r.a.createElement("div",{className:"clipboard ".concat(e)},r.a.createElement("div",{className:"clipboard-text",id:"copy-me"},t),r.a.createElement(b.CopyToClipboard,{text:t},r.a.createElement("button",{className:"clipboard-icon",onClick:()=>{navigator.share?navigator.share({title:"My Boba Watch Profile",text:"Check out my boba spending!",url:t}).catch(e=>{}):N.a.fire(w.a.t("Link Copied!"),w.a.t(""),"success")}},r.a.createElement(E.a,{style:{fontSize:14}}))));a(180);a(181);var W=a(99);var V=({placeholder:e="How can I help you today?",data:t=[],keys:a=[],Result:l})=>{const o=Object(n.useState)(""),i=Object(c.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)([]),m=Object(c.a)(d,2),p=m[0],h=m[1],f=new W.a(t,{includeMatches:!0,distance:100,maxPatternLength:30,minMatchCharLength:1,keys:a});return Object(n.useEffect)(()=>{let e=f.search(s);h(e.slice(0,20))},[s,t,t.length]),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("input",{type:"text",value:s,placeholder:e,onChange:e=>{u(e.target.value)}}),r.a.createElement("div",{className:"results"},p.map(e=>r.a.createElement(l,Object.assign({key:e.item.id},e)))))},$=a(22),z=a(105),q=a.n(z),_=a(102),K=a.n(_),X=a(104),Z=a.n(X),Q=a(103),ee=a.n(Q),te=a(106),ae=a.n(te),ne=a(14);function re(){let e={td:0,tc:0,ad:0,d:Array(7)};for(let t=0;t<7;t++)e.d[t]=Array(24).fill(0);return e}function le(e,t,a=!0){let n=a?1:-1;t.td+=n,t.tc+=parseFloat(e.price)*n,t.ad=parseFloat(t.tc)/parseFloat(t.td);let r=new Date(e.date);t.d[r.getDay()][r.getHours()-1]+=n}var oe={getDefaultMetrics:re,recalculateMetrics:function(e){let t=re(),a=re(),n=new Date,r=n.getMonth(),l=n.getFullYear();return e.forEach(e=>{let n=JSON.parse(localStorage.getItem(e)),o=new Date(n.date);o.getMonth()===r&&o.getFullYear()===l&&le(n,t),le(n,a)}),localStorage.setItem("metrics",JSON.stringify(t)),localStorage.setItem("completeMetrics",JSON.stringify(a)),t},updateMetrics:le,addDrink:function(e,t,a){let n=JSON.parse(localStorage.getItem("metrics")),r=JSON.parse(localStorage.getItem("completeMetrics")),l=new Date,o=l.getMonth(),i=l.getFullYear(),c=new Date(e.date);a.length?function e(t,a,n,r,l){if(l<=r)return n.splice(a<new Date(JSON.parse(localStorage.getItem(n[r])).date)?r+1:r,0,t);let o=parseInt((l-r)/2+r),i=new Date(JSON.parse(localStorage.getItem(n[o])).date);return a.getTime()===i.getTime()?n.splice(o+1,0,t):a<i?e(t,a,n,o+1,l):e(t,a,n,r,o-1)}(t,c,a,0,a.length-1):a.push(t),c.getMonth()===o&&c.getFullYear()===i&&le(e,n),le(e,r),localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem("metrics",JSON.stringify(n)),localStorage.setItem("completeMetrics",JSON.stringify(r))},deleteDrink:function(e,t){let a=JSON.parse(localStorage.getItem("metrics")),n=JSON.parse(localStorage.getItem("completeMetrics")),r=JSON.parse(localStorage.getItem(e)),l=new Date,o=l.getMonth(),i=l.getFullYear(),c=new Date(r.date);c.getMonth()===o&&c.getFullYear()===i&&le(r,a,!1),le(r,n,!1);let s=t.indexOf(e);s>-1&&t.splice(s,1),localStorage.removeItem(e),localStorage.setItem("metrics",JSON.stringify(a)),localStorage.setItem("completeMetrics",JSON.stringify(n))},resetMonthly:function(e){let t=re(),a=new Date,n=a.getMonth(),r=a.getFullYear();return e.forEach(e=>{let a=JSON.parse(localStorage.getItem(e)),l=new Date(a.date);if(l.getMonth()!==n||l.getFullYear()!==r)return localStorage.setItem("metrics",JSON.stringify(t)),t;le(a,t)}),localStorage.setItem("metrics",JSON.stringify(t)),t}},ie=a(100),ce=a(101),se=a.n(ce);const ue=new ie.a("blogposts");ue.version(1).stores({blogposts:"&id, uid, date, likes, location, name, price, fave, edited, published"});const de=e=>ue.blogposts.put(Object(ne.a)(Object(ne.a)({},e),{},{published:new se.a.firestore.Timestamp(e.published.seconds,e.published.nanoseconds).toDate().toString()})),me=e=>new Promise(t=>{ue.blogposts.get(e,e=>{t(e)})}),pe=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{ue.blogposts.toArray(t=>{e(t)})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he={budget:1e4,limit:15,sharing:!1},fe={ad:0,cad:0,ctc:0,ctd:0,d:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",fn:"Who dis?",tc:0,td:0},ge="Boba World",be="Boba Lover",ve="Just a boba person in a boba world",Ee="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Oe={currentUser:{user:void 0,profile:void 0,drinkids:void 0}};window.userstuff=Oe;const ye=()=>{};const ke=()=>{const e=t=>{F(Oe.currentUser.user.uid,1,t).then(t=>{let a=t.docs[0];void 0!==a&&me(a.id).then(t=>{t||(de(Object(ne.a)({id:a.id},a.data())),e(a))})})};e(0)},Se=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(t,"/drinks")).orderBy("drink.date","desc").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=e=>(null===e||void 0===e?void 0:e.creationTime)===(null===e||void 0===e?void 0:e.lastSignInTime)?Me():De(),we=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(Oe.currentUser.user.uid,"/blog")).doc("user").set({name:Oe.currentUser.user.displayName,profile:Oe.currentUser.user.photoURL}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=e=>{let t=[];e.forEach(e=>{localStorage.setItem(e.id,JSON.stringify(Object(ne.a)({id:e.id},e.data().drink))),t.push(e.id)}),Oe.currentUser.drinkids=t,oe.recalculateMetrics(t)},Ae=e=>{let t=null===e||void 0===e?void 0:e.data();void 0===(null===t||void 0===t?void 0:t.budget)&&(t.budget=1e4),void 0===(null===t||void 0===t?void 0:t.limit)&&(t.limit=15),void 0===(null===t||void 0===t?void 0:t.sharing)&&(t.sharing=void 0!==(null===t||void 0===t?void 0:t.public)&&t.public),Oe.currentUser.profile=t},xe=e=>{var t,a;let n=null!==(t=null===e||void 0===e||null===(a=e.data())||void 0===a?void 0:a.data)&&void 0!==t?t:"[]";localStorage.setItem("autofill",n)},Me=function(){var e=Object(k.a)(y.a.mark((function e(t=he){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users").doc(Oe.currentUser.user.uid).collection("user").doc("profile").set(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users").doc(Oe.currentUser.user.uid).collection("user").doc("profile").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=(e,t=ye)=>{M.collection("users").doc(Oe.currentUser.user.uid).collection("user").doc("stats").set(e).then(e=>{t(e)}).catch(e=>{J(e),t(e)})},Te=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(Oe.currentUser.user.uid,"/drinks")).add(Object(ne.a)({created:A.a.firestore.FieldValue.serverTimestamp(),edited:A.a.firestore.FieldValue.serverTimestamp()},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(k.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(Oe.currentUser.user.uid,"/drinks")).doc(a).set(Object(ne.a)({edited:A.a.firestore.FieldValue.serverTimestamp()},t)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(Oe.currentUser.user.uid,"/user")).doc("autofill").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(Oe.currentUser.user.uid,"/user")).doc("autofill").set({data:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.collection("users/".concat(Oe.currentUser.user.uid,"/blog")).doc("user").update(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(k.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,a=Object(m.a)(t,["id"]),e.abrupt("return",M.collection("blogs").add(Object(ne.a)({uid:Oe.currentUser.user.uid,likes:0,published:A.a.firestore.FieldValue.serverTimestamp(),edited:A.a.firestore.FieldValue.serverTimestamp()},a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Re={init:e=>{M=A.a.firestore(),M.enablePersistence().catch(e=>{console.error(e)}),A.a.auth().onAuthStateChanged(t=>{var a,n;if(!t)return e(t);D.logEvent("login");let r=JSON.parse(localStorage.getItem("user"));if(Oe.currentUser.user={displayName:t.displayName,uid:t.uid,photoURL:t.photoURL,isAnonymous:t.isAnonymous,email:t.email,emailVerified:t.emailVerified,created:null===t||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.creationTime,lastSignedIn:null===t||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.lastSignInTime},null!==r)return ke(),r.user=Oe.currentUser.user,Oe.currentUser=r,e(t);let l=[Se(t.uid),Ne(null===t||void 0===t?void 0:t.metadata),we(),Le()];Promise.all(l).then(([a,n,r,l])=>{je(a),Ae(n),xe(l),localStorage.setItem("user",JSON.stringify(Oe.currentUser)),e(t)}).catch(J)})},user:{get:De,update:({sharing:e,budget:t,limit:a},n=ye)=>{let r={sharing:e,budget:t,limit:a};we(),isNaN(r.budget)||isNaN(r.limit)?N.a.fire(w.a.t("Oops..."),w.a.t("Please enter valid numbers"),"error"):Me(r).then(()=>{N.a.fire(w.a.t("Success!"),w.a.t("Your settings have been updated"),"success"),n(r)})},updateStats:(e=ye)=>{let t=JSON.parse(localStorage.getItem("metrics")),a=JSON.parse(localStorage.getItem("completeMetrics"));delete t.d,t.ctd=a.td,t.ctc=a.tc,t.cad=a.ad,t.d=JSON.stringify(a.d),t.fn=Oe.currentUser.user.displayName,Ie(t,e)},getAutofill:Le,setAutofill:Pe},get:Oe,drinks:{add:Te,update:Ce,delete:(e,t=ye)=>{M.collection("users/".concat(Oe.currentUser.user.uid,"/drinks")).doc(e).delete().then(()=>{N.a.fire(w.a.t("Deleted!"),w.a.t("Drink has been deleted"),"success"),t()}).catch(e=>{var t;R(t=e),console.log("Please copy this error and send to ".concat("ryanqyang@gmail.com"),t),N.a.fire(w.a.t("Oops..."),w.a.t("Couldn't delete your drink. Try again later!"),"error")})}},blog:{setProfile:Ue,like:function(){var e=Object(k.a)(y.a.mark((function e(t,a,n){var r,l,o,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.edited,r=Object(m.a)(a,["edited"]),l=M.batch(),o=M.collection("users/".concat(Oe.currentUser.user.uid,"/user/profile/liked")).doc(t),i=A.a.firestore.FieldValue.increment(n?1:-1),l.update(M.collection("blogs").doc(t),{likes:i}),n?l.set(o,Object(ne.a)({liked:A.a.firestore.FieldValue.serverTimestamp()},r)):l.delete(o),e.abrupt("return",l.commit());case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},publish:Fe};a(190);var Je=Object(i.h)(({history:e})=>{const t=Object(n.useState)(e.location.pathname),a=Object(c.a)(t,2),l=a[0],o=a[1],i=e=>e===l?" selected":"";return Object(n.useEffect)(()=>{let t=e.location.pathname;o(t),((e="unknown")=>{D.logEvent("page_view",{page_title:e,page_path:e})})(t)},[e.location.pathname]),r.a.createElement("nav",null,r.a.createElement($.a,{to:"/dash"},r.a.createElement("div",{className:"icon"+i("/dash")},r.a.createElement(K.a,null),r.a.createElement("p",{className:"label"},"home"))),r.a.createElement($.a,{to:"/history"},r.a.createElement("div",{className:"icon"+i("/history")},r.a.createElement(ee.a,null),r.a.createElement("p",{className:"label"},"history"))),r.a.createElement($.a,{to:"/add"},r.a.createElement("div",{className:"add-icon"+i("/add")},r.a.createElement(Z.a,{style:{fontSize:50}}))),r.a.createElement($.a,{to:"/feed"},r.a.createElement("div",{className:"icon"+i("/feed")},r.a.createElement(q.a,null),r.a.createElement("p",{className:"label"},"feed"))),r.a.createElement($.a,{to:"/blog/"+Re.get.currentUser.user.uid},r.a.createElement("div",{className:"icon"+i("/blog/"+Re.get.currentUser.user.uid)},r.a.createElement(ae.a,null),r.a.createElement("p",{className:"label"},"blog"))))});a(69);const Be=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ye=["1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 AM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM","12 PM"];var Ge=({data:e,width:t})=>r.a.createElement(p,{className:"daily-chart"},r.a.createElement(d.h,{xType:"ordinal",yType:"ordinal",margin:60,width:t,height:1.8*t},r.a.createElement(d.g,{orientation:"top"}),r.a.createElement(d.i,null),r.a.createElement(d.b,{colorType:"literal",style:{stroke:"white",strokeWidth:"0px",rectStyle:{rx:0,ry:0}},data:(e=>{let t=[],a=[];e.forEach(e=>{a.push(Math.max.apply(null,e))});let n=Math.max.apply(null,a);return e.forEach((e,a)=>{e.forEach((e,r)=>{t.push({x:Be[a],y:Ye[r],color:"rgba(246, 128, 128, ".concat(0===e?.1:e/n,")")})})}),t})(e)})));a(192);let He=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var We=({width:e,data:t})=>{const a=Object(s.a)().t,l=Object(n.useState)([]),o=Object(c.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)([]),h=Object(c.a)(m,2),f=h[0],g=h[1];return Object(n.useEffect)(()=>{let e=[],a=[];t.forEach((t,n)=>{let r=0,l=0;t.forEach((e,t)=>{t>=11?l+=e:r+=e}),e.push({x:He[n],y:r}),a.push({x:He[n],y:l}),u(e),g(a)})},[t,u,g]),r.a.createElement(p,{className:"time-bar-graph--holder"},r.a.createElement(d.h,{width:e-40,height:300,stackBy:"y",xType:"ordinal"},r.a.createElement(d.f,null),r.a.createElement(d.c,null),r.a.createElement(d.g,null),r.a.createElement(d.i,{title:a("# of purchases")}),r.a.createElement(d.e,{color:"#FFACAC",data:i}),r.a.createElement(d.e,{color:"#FFDCDC",data:f})),r.a.createElement(d.a,{style:{textAlign:"center"},orientation:"horizontal",items:[{title:a("Morning Purchases"),color:"#FFACAC",strokeWidth:5},{title:a("Afternoon Purchases"),color:"#FFDCDC",strokeWidth:5}]}))};var Ve=({spent:e,budget:t,width:a})=>{const n=a-45,l={size:0,color:"transparent",children:[{title:"Progress",size:e,color:"#f68080",children:[{title:"Padding",size:0,color:"transparent"}]},{title:"Until Limit",size:t-e,color:"#00000044"}]};return r.a.createElement("div",null,r.a.createElement(d.d,{height:n,width:n,data:l,padAngle:.06,animation:!0,colorType:"literal"}))},$e=a(75),ze=a.n($e),qe=(a(196),a(76));a(197);const _e=qe.data.length,Ke=({img:e,title:t,path:n,desc:l})=>r.a.createElement("div",{className:"slide"},void 0===e?"":r.a.createElement("img",{alt:"",src:a(198)("./"+e)}),r.a.createElement("h3",null,t),r.a.createElement("span",null,(null!==n&&void 0!==n?n:[]).join(" > ")),r.a.createElement("p",null,l));var Xe=({open:e,setOpen:t})=>{const a=Object(n.useState)(0),l=Object(c.a)(a,2),o=l[0],i=l[1],u=Object(s.a)().t;return r.a.createElement(f,{open:e,setOpen:t},r.a.createElement("div",{className:"help-content"},r.a.createElement("h2",null,u("What's New?")),r.a.createElement(ze.a,{slides:qe.data.map(e=>r.a.createElement(Ke,Object.assign({key:e.title},e))),value:o,onChange:i,animationSpeed:250}),r.a.createElement($e.Dots,{value:o,number:_e,onChange:i})))};a(209);var Ze=()=>{const e=Object(s.a)().t,t=Object(n.useState)(JSON.parse(localStorage.getItem("metrics"))),a=Object(c.a)(t,1)[0],l=Object(n.useState)(JSON.parse(localStorage.getItem("completeMetrics"))),o=Object(c.a)(l,1)[0],i=Object(n.useState)(parseInt(a.td/Re.get.currentUser.profile.limit*100)),d=Object(c.a)(i,1)[0],m=Object(n.useState)(window.innerWidth-40),h=Object(c.a)(m,2),f=h[0],g=h[1],b=Object(n.useState)((()=>{var e;let t=JSON.parse(null!==(e=localStorage.getItem("loaded"))&&void 0!==e?e:"true");return localStorage.setItem("loaded",!1),t})()),v=Object(c.a)(b,2),E=v[0],O=v[1],y=Re.get.currentUser.profile.budget,k=()=>{g(window.innerWidth-40)};return Object(n.useEffect)(()=>{oe.resetMonthly(Re.get.currentUser.drinkids)},[]),Object(n.useEffect)(()=>(window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}),[g]),r.a.createElement("div",{className:"dashboard-page"},r.a.createElement("h4",{className:"bw title"},e("Monthly Spending")),r.a.createElement(p,{id:"chart-holder"},r.a.createElement("div",{className:"description"},e("MONTHLY LIMIT"),": ",e("$"),u.toMoney(y,y/1e4>1),r.a.createElement("br",null),r.a.createElement("span",null,e("$"),u.toMoney(a.tc,a.tc/1e4>1)),r.a.createElement("br",null),e("REMAINING"),": ",e("$"),u.toMoney(y-a.tc)),r.a.createElement(Ve,{budget:y,spent:a.tc,width:f})),r.a.createElement(p,{className:"budget"},r.a.createElement("p",null,e("This is how much you\u2019ve spent on drinks so far"),":"),r.a.createElement("h2",{className:"bw"},e("$"),u.toMoney(o.tc,o.tc/1e4>1))),r.a.createElement(p,{className:"limit",style:{backgroundPositionY:2.7*(100-d)}},r.a.createElement("h3",{className:"bw"},d,"%"),r.a.createElement("p",null,e("to your max number of drinks this month"))),r.a.createElement(p,{className:"total"},r.a.createElement("h2",{className:"bw"},a.td),r.a.createElement("p",null,e("drinks this month"))),r.a.createElement(Ge,{data:o.d,width:f}),r.a.createElement(We,{width:f,data:o.d}),r.a.createElement(Xe,{open:E,setOpen:O}))},Qe=a(125),et=a(20),tt=a(262);const at=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.drinks.add(t);case 3:return a=e.sent,e.next=6,a.get();case 6:return n=e.sent,r=Object(ne.a)({id:n.id},n.data().drink),e.abrupt("return",rt(r));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",lt(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(k.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.drinks.update(t,a);case 3:return oe.deleteDrink(a,Re.get.currentUser.drinkids),e.abrupt("return",rt(Object(ne.a)({id:a},t.drink),!0));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",lt(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),rt=(e,t=!1)=>(oe.addDrink(e,e.id,Re.get.currentUser.drinkids),Re.user.updateStats(),localStorage.setItem("user",JSON.stringify(Re.get.currentUser)),N.a.fire(w.a.t("Done!"),w.a.t(t?"Drink updated":"Drink added"),"success"),!0),lt=e=>(N.a.fire(w.a.t("Oops...!"),w.a.t("Something went wrong"),"error"),console.error(e),!1);var ot=a(58),it=a.n(ot);function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ut=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"white"});const dt=e=>{let t=e.svgRef,a=e.title,n=st(e,["svgRef","title"]);return r.a.createElement("svg",ct({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,ut)},mt=r.a.forwardRef((e,t)=>r.a.createElement(dt,ct({svgRef:t},e)));a.p;function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ht(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ft=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"white"});const gt=e=>{let t=e.svgRef,a=e.title,n=ht(e,["svgRef","title"]);return r.a.createElement("svg",pt({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,ft)},bt=r.a.forwardRef((e,t)=>r.a.createElement(gt,pt({svgRef:t},e)));a.p;var vt=a(60);a(210);var Et=Object(i.h)(({pageTitle:e,buttonTitle:t,editData:a,history:l})=>{var o,i,u,d,m,h;const f=Object(s.a)().t,b=Object(n.useState)(null!==(o=null===a||void 0===a?void 0:a.name)&&void 0!==o?o:""),v=Object(c.a)(b,2),E=v[0],O=v[1],S=Object(n.useState)(null!==(i=null===a||void 0===a?void 0:a.location)&&void 0!==i?i:""),j=Object(c.a)(S,2),A=j[0],x=j[1],M=Object(n.useState)(null!==(u=null===a||void 0===a?void 0:a.price)&&void 0!==u?u:""),D=Object(c.a)(M,2),I=D[0],T=D[1],C=Object(n.useState)(null!==(d=null===a||void 0===a?void 0:a.date)&&void 0!==d?d:new Date),L=Object(c.a)(C,2),P=L[0],U=L[1],F=Object(n.useState)(null!==(m=null===a||void 0===a?void 0:a.rating)&&void 0!==m?m:0),R=Object(c.a)(F,2),B=R[0],Y=R[1],G=Object(n.useState)(null!==(h=null===a||void 0===a?void 0:a.description)&&void 0!==h?h:""),H=Object(c.a)(G,2),W=H[0],V=H[1],$=Object(n.useState)([]),z=Object(c.a)($,2),q=z[0],_=z[1],K=Object(n.useState)(!0),X=Object(c.a)(K,2),Z=X[0],Q=X[1],ee=Object(n.useState)(!0),te=Object(c.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)(()=>{var e;_(JSON.parse(null!==(e=localStorage.getItem("autofill"))&&void 0!==e?e:"[]"))},[]),Object(n.useEffect)(()=>{var e,t,n,r,l;O(null!==(e=null===a||void 0===a?void 0:a.name)&&void 0!==e?e:""),x(null!==(t=null===a||void 0===a?void 0:a.location)&&void 0!==t?t:""),T(null==(null===a||void 0===a?void 0:a.price)?"":a.price/100),U(null!==(n=null===a||void 0===a?void 0:a.date)&&void 0!==n?n:new Date),Y(null!==(r=null===a||void 0===a?void 0:a.rating)&&void 0!==r?r:0),V(null!==(l=null===a||void 0===a?void 0:a.description)&&void 0!==l?l:"")},[a]);const re=e=>t=>{t.preventDefault(),t.target.value.length>=80||e(t.target.value)},le=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Q(!1),n={drink:{name:E,location:A,price:parseInt(100*parseFloat(I)),date:new Date(P).toISOString(),description:W,rating:B}},!isNaN(n.drink.price)){e.next=7;break}return N.a.fire(w.a.t("Oops..."),w.a.t("Please enter a valid price to add drink"),"error"),Q(!0),e.abrupt("return");case 7:if(void 0!==(null===a||void 0===a?void 0:a.id)&&null!==(null===a||void 0===a?void 0:a.id)){e.next=12;break}return e.next=10,at(n);case 10:e.next=14;break;case 12:return e.next=14,nt(n,a.id);case 14:O(""),x(""),T(""),U(new Date),Y(0),V(""),ne(!0),Q(!0),l.push("/dash");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"add-modal"},r.a.createElement("h4",{className:"bw title"},f(null!==e&&void 0!==e?e:"Add a Purchase")),r.a.createElement(p,{className:"add-holder"},r.a.createElement("h5",null,f("WHAT'S THE TEA?")),r.a.createElement("div",{className:"content"},r.a.createElement("label",{className:"autofill-label"},"Autofill with saved entry:"),r.a.createElement(vt.a,{options:q,name:"autofill",onChange:e=>{N.a.fire({showCancelButton:!0,html:"use or remove entry? <br />(click outside to cancel)",cancelButtonText:"\ud83d\uddd1\ufe0f",confirmButtonText:"fill",cancelButtonColor:"#f44",reverseButtons:!0}).then(t=>{if(t.value)O(e.name),x(e.location),T(e.price/100),Y(e.rating),V(e.description);else if("cancel"===t.dismiss){let t=[...q];t.splice(t.findIndex(t=>t.value===e.value),1),Re.user.setAutofill(t).then(()=>{localStorage.setItem("autofill",JSON.stringify(t)),_(t)}).catch(J)}})},className:"autofill-select"}),r.a.createElement("div",{className:"autofill-divider"},"or add a new drink:"),r.a.createElement(g,{value:A,onChange:re(x),autoFocus:!0,label:f("Location"),id:"location-input"}),r.a.createElement(g,{value:E,onChange:re(O),label:f("Drink Name"),id:"name-input"}),r.a.createElement(g,{value:I,onChange:e=>{e.target.value.match(/^-?\d*\.?\d*$/)&&T(e.target.value)},label:f("Price"),id:"price-input",type:"text"}),r.a.createElement(et.a,{utils:Qe.a},r.a.createElement(tt.a,{id:"date-value",className:"add-input",format:"M/d/yyyy h:mm",label:f("Date"),value:P,onChange:e=>{U(e)},inputProps:{maxLength:100}}))),r.a.createElement("div",{className:"rating-holder"},r.a.createElement("div",{className:"rating-select"},r.a.createElement("p",null,"RATING :"),r.a.createElement(it.a,{name:"rating",starCount:5,value:B,renderStarIcon:(e,t)=>e<=t?r.a.createElement(bt,null):r.a.createElement(mt,null),onStarClick:e=>{Y(e)},onStarHover:e=>{Y(e)}}))),r.a.createElement("div",{className:"content"},r.a.createElement("textarea",{value:W,rows:10,onChange:(oe=V,e=>{e.preventDefault(),e.target.value.length>=300||oe(e.target.value)}),id:"description-input",placeholder:f("How was your drink?")}),r.a.createElement("div",{className:"add-button-holder"},r.a.createElement("button",{disabled:!ae,id:"save-drink--button",onClick:e=>{if(e.preventDefault(),""===E)return void N.a.fire(w.a.t("Can't save drink without name"),w.a.t("Please add a name to save to the autofill list"),"error");if(!ae)return;let t=[...q,{name:E,location:A,price:parseInt(100*parseFloat(I)),description:W,rating:B,label:E,value:E+(new Date).toISOString()}];ne(!1),Re.user.setAutofill(t).then(()=>{_(t),localStorage.setItem("autofill",JSON.stringify(t)),N.a.fire(w.a.t("Saved!"),w.a.t("You can now autofill your next purchase with these drink details."),"success")}).catch(e=>{ne(!0),J(e)})},className:"text ".concat(ae?"":"saved")},f(ae?"SAVE":"SAVED")),r.a.createElement("div",null),r.a.createElement("button",{disabled:!Z,id:"add-drink--button",onClick:le,className:"text"},f(null!==t&&void 0!==t?t:"ADD"))))));var oe});var Ot=Object(i.h)(({match:e})=>{const t=Object(n.useState)(null),a=Object(c.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(()=>{o(JSON.parse(localStorage.getItem(e.params.userid)))},[e.params.userid]),r.a.createElement(Et,{pageTitle:"Edit a Purchase",buttonTitle:"UPDATE",editData:l})}),yt=a(113),kt=a.n(yt),St=a(114),Nt=a.n(St);const wt=[a(111),a(112)],jt=[{value:0,label:"default"},{value:1,label:"dark"}],At=e=>{localStorage.setItem("theme",e);let t=wt[e].themeStyles;for(let a in t)document.documentElement.style.setProperty(a,t[a])},xt=()=>{var e;return Number(null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:0)};var Mt=()=>{At(xt())};a(211),a(212);var Dt=({open:e,setOpen:t})=>{var a,l,o;const i=Object(s.a)().t,u=Object(n.useState)((null!==(a=Re.get.currentUser.profile.budget)&&void 0!==a?a:1e4)/100),d=Object(c.a)(u,2),m=d[0],p=d[1],h=Object(n.useState)(null!==(l=Re.get.currentUser.profile.limit)&&void 0!==l?l:15),b=Object(c.a)(h,2),v=b[0],E=b[1],O=Object(n.useState)(null!==(o=Re.get.currentUser.profile.sharing)&&void 0!==o&&o),y=Object(c.a)(O,2),k=y[0],S=y[1],N=Object(n.useState)(!1),w=Object(c.a)(N,2),j=w[0],A=w[1],x=e=>t=>{e(t.target.value)},M=()=>{t(!1),p(Re.get.currentUser.profile.budget/100),E(Re.get.currentUser.profile.limit),S(Re.get.currentUser.profile.sharing)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{open:e,setOpen:t},r.a.createElement("div",{className:"user-modal"},r.a.createElement("img",{src:Re.get.currentUser.user.photoURL,className:"avatar",alt:"user"}),r.a.createElement("button",{className:"close-button",onClick:M},r.a.createElement(kt.a,null)),r.a.createElement("button",{className:"help-button",onClick:()=>{A(!j)}},r.a.createElement(Nt.a,null)),r.a.createElement("h1",null,i("User Settings")),r.a.createElement(g,{id:"monthly-spending-input",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",variant:"outlined",margin:"normal",onChange:x(p),value:m,label:i("Monthly Spending Limit")}),r.a.createElement(g,{id:"monthly-drinking-limit",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",margin:"dense",variant:"outlined",onChange:x(E),value:v,label:i("Max of drinks / month")}),r.a.createElement("label",{className:"theme-label"},"Theme:"),r.a.createElement(vt.a,{options:jt,defaultValue:jt[xt()],name:"theme",onChange:({value:e})=>{At(e)},className:"theme-select"}),r.a.createElement("div",{className:"button-holder"},r.a.createElement("button",{className:"logout text",onClick:T},i("LOGOUT")),r.a.createElement("button",{className:"update",onClick:()=>{let e={budget:100*parseFloat(m),limit:parseInt(v),sharing:k};Re.user.update(e,()=>{Re.get.currentUser.profile=e,localStorage.setItem("user",JSON.stringify(Re.get.currentUser)),M()})}},i("UPDATE"))))),r.a.createElement(Xe,{open:j,setOpen:A}))},It=a(115),Tt=a.n(It),Ct=a(116),Lt=a.n(Ct);a(213);var Pt=Object(i.h)(({data:e,history:t,triggerUpdate:a})=>{const l=Object(s.a)().t,o=Object(n.useState)(!1),i=Object(c.a)(o,2),d=i[0],m=i[1],p=Object(n.useState)(!0),h=Object(c.a)(p,2),f=h[0],g=h[1],b=()=>{oe.deleteDrink(e.id,Re.get.currentUser.drinkids),localStorage.setItem("user",JSON.stringify(Re.get.currentUser)),Re.user.updateStats(),a([...Re.get.currentUser.drinkids])},v=function(){var t=Object(k.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!1),t.prev=1,t.next=4,Re.publish(e);case 4:N.a.fire(w.a.t("Success!"),w.a.t("Drink published on your blog!"),"success"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),g(!0),J(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),E=new Date(e.date).toDateString();return r.a.createElement("div",{className:"drink-panel"},r.a.createElement("div",{className:"info",onClick:()=>{m(!d)}},r.a.createElement("p",{className:"place"},e.location),r.a.createElement("p",{className:"price"},l("$"),u.toMoney(e.price)),r.a.createElement("div",{className:"expand-icon"},d?r.a.createElement(Tt.a,null):r.a.createElement(Lt.a,null)),r.a.createElement("p",{className:"name"},e.name),r.a.createElement("p",{className:"time"},E.substr(4))),r.a.createElement("div",{className:"collapsed-info"+(d?" expanded":"")},r.a.createElement("p",{className:"label"},e.name,r.a.createElement("br",null),r.a.createElement("span",null,"@",e.location)),r.a.createElement("p",{className:"description"},e.description),r.a.createElement("p",{className:"date"},r.a.createElement("span",null,l("on"))," ",E),r.a.createElement("div",{className:"options"},r.a.createElement("button",{className:"text",onClick:v,disabled:!f},l("PUBLISH")),r.a.createElement("button",{className:"text",onClick:()=>{t.push("/edit/"+e.id)}},l("EDIT")),r.a.createElement("button",{className:"text",onClick:()=>{Re.drinks.delete(e.id,b)}},l("DELETE")))))});a(214);const Ut=({click:e})=>r.a.createElement("div",{className:"thaman-color"},r.a.createElement("div",{className:"history-load-more",onClick:e},"\u2022 \u2022 \u2022")),Ft=({label:e})=>{const t=Object(s.a)().t;return r.a.createElement("div",{className:"thaman-color none-label"},r.a.createElement("h3",{className:"bw none-label"},t(e)))};var Rt=()=>{const e=Object(s.a)().t,t=Object(n.useState)([]),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)([]),d=Object(c.a)(i,2),m=d[0],p=d[1],h=Object(n.useState)({complete:5,recent:7}),f=Object(c.a)(h,2),g=f[0],b=f[1],v=Object(n.useState)([]),E=Object(c.a)(v,2),O=E[0],y=E[1],k=Object(n.useState)(Re.get.currentUser.drinkids),S=Object(c.a)(k,2),N=S[0],w=S[1],j=Number(JSON.parse(localStorage.getItem("metrics")).tc),A=Number(JSON.parse(localStorage.getItem("completeMetrics")).tc);Object(n.useEffect)(()=>{let e=[],t=[],a=[],n=new Date,l=n.getMonth(),i=n.getFullYear(),c=g.complete,s=g.recent;N.forEach(n=>{let o=JSON.parse(localStorage.getItem(n));a.push(o);let u=new Date(o.date),d=u.getMonth()===l&&u.getFullYear()===i;d&&s>0?(e.push(r.a.createElement(Pt,{triggerUpdate:w,key:o.id,data:o})),s--):!d&&c>0&&(t.push(r.a.createElement(Pt,{triggerUpdate:w,key:o.id,data:o})),c--)}),0===e.length&&(e.push(r.a.createElement(Ft,{key:"@ryqndev/empty",label:"no drinks this month ...yet"})),0===t.length&&t.push(r.a.createElement(Ft,{key:"@ryqndev/empty",label:"Add a drink to start!"}))),s<=0&&e.push(r.a.createElement(Ut,{key:"@ryqndev/load",click:()=>{b(Object(ne.a)(Object(ne.a)({},g),{},{recent:g.recent+10}))}})),c<=0&&t.push(r.a.createElement(Ut,{key:"@ryqndev/load",click:()=>{b(Object(ne.a)(Object(ne.a)({},g),{},{complete:g.complete+10}))}})),o([...e]),p([...t]),y(a)},[N.length,N,g,g.recent,g.complete]);return r.a.createElement("div",{className:"history-page"},r.a.createElement("h3",{className:"bw"},e("Drink History")),r.a.createElement(V,{placeholder:e("Search your history..."),data:O,keys:["description","location","name","price"],Result:({item:e,matches:t})=>r.a.createElement(Pt,{triggerUpdate:w,data:e})}),r.a.createElement("h3",{className:"bw"},e("Monthly Spending")),r.a.createElement("div",{className:"history-spending"},l),r.a.createElement("h3",{className:"bw history-total"},r.a.createElement("span",null,e("Monthly Total"),":")," ",e("$"),u.toMoney(j)),r.a.createElement("h3",{className:"bw"},e("Overall Spending")),r.a.createElement("div",{className:"history-spending"},m),r.a.createElement("h3",{className:"bw history-total"},r.a.createElement("span",null,e("Complete Total"),":")," ",e("$"),u.toMoney(A)))};a(215);const Jt={fontFamily:"Poppins",fontWeight:700,color:"white",fontSize:44,marginBottom:20};var Bt=()=>(Object(n.useEffect)(()=>{I.start("#auth-container",{signInOptions:[A.a.auth.GoogleAuthProvider.PROVIDER_ID,A.a.auth.FacebookAuthProvider.PROVIDER_ID]})}),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-logo"}),r.a.createElement("h1",{style:Jt},"boba watch"),r.a.createElement("div",{id:"auth-container"})));function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Gt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ht=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"#F68080"});const Wt=e=>{let t=e.svgRef,a=e.title,n=Gt(e,["svgRef","title"]);return r.a.createElement("svg",Yt({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,Ht)},Vt=r.a.forwardRef((e,t)=>r.a.createElement(Wt,Yt({svgRef:t},e)));a.p;function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function zt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var qt=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"#F68080"});const _t=e=>{let t=e.svgRef,a=e.title,n=zt(e,["svgRef","title"]);return r.a.createElement("svg",$t({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,qt)},Kt=r.a.forwardRef((e,t)=>r.a.createElement(_t,$t({svgRef:t},e)));a.p;var Xt=a(118),Zt=a.n(Xt),Qt=a(117),ea=a.n(Qt),ta=a(59),aa=a.n(ta);let na=new aa.a;const ra=e=>{var t;e.match,e.location;let a=e.children,l=(e.staticContext,e.isLiked),o=void 0!==l&&l,i=Object(m.a)(e,["match","location","children","staticContext","isLiked"]);const d=Object(s.a)().t,h=Object(n.useState)(o),f=Object(c.a)(h,2),g=f[0],b=f[1],v=Object(n.useState)(null!==(t=null===i||void 0===i?void 0:i.likes)&&void 0!==t?t:0),E=Object(c.a)(v,2),O=E[0],y=E[1];return Object(n.useEffect)(()=>{o||me(i.id).then(e=>{e&&b(!0)})},[o,i.id]),r.a.createElement(p,{className:"feed-item"},r.a.createElement("div",{className:"header"},r.a.createElement("span",null,na.clean(i.name)),r.a.createElement("p",{className:"favorite-amount"},o?"":O>999?(O/100>>0)+"k":O<0?0:O),r.a.createElement("div",{className:"favorite",onClick:()=>{Re.blog.like(i.id,i,!g).then(()=>{var e;y(O+(g?-1:1)),g?(e=i,ue.blogposts.delete(e.id)):de(i),b(!g)})}},g?r.a.createElement(ea.a,null):r.a.createElement(Zt.a,null))),r.a.createElement("div",{className:"item-content"},r.a.createElement("p",{className:"location"},na.clean(i.place)),r.a.createElement("p",{className:"price"},d("$"),u.toMoney(i.price)),null!==i.rating&&void 0!==i.rating&&r.a.createElement("div",{className:"ratings-holder"},r.a.createElement(it.a,{name:"rating",starCount:5,value:i.rating,renderStarIcon:(e,t)=>e<=t?r.a.createElement(Kt,null):r.a.createElement(Vt,null)})),r.a.createElement("p",{className:"date"},new Date(i.date).toDateString()),r.a.createElement("p",{className:"description"},na.clean(i.description)),a))};var la=ra;const oa=Object(i.h)(e=>{var t,a;let l=e.uid,o=e.history,i=Object(m.a)(e,["uid","history"]);const s=Object(n.useState)(null),u=Object(c.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)(()=>{null===d&&Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(l).then(e=>{p(e.data())}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})))()},[l,d]);return r.a.createElement("div",{className:"feed-avatar"},r.a.createElement("div",{className:"user",onClick:()=>{o.push("/blog/"+l)}},r.a.createElement("img",{src:null!==(t=null===d||void 0===d?void 0:d.profile)&&void 0!==t?t:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",alt:"avatar"}),r.a.createElement("h2",null,na.clean(null!==(a=null===d||void 0===d?void 0:d.name)&&void 0!==a?a:"Boba Bro"))),r.a.createElement(ra,Object.assign({},i,{uid:l})))});a(93);var ia=({displayCount:e})=>{const t=Object(n.useState)([]),a=Object(c.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(()=>{let t=((e,t=1)=>M.collection("blogs").orderBy("published","desc").limit(t).onSnapshot(e))(e=>{let t=[];e.forEach(e=>{t.push(Object(ne.a)({id:e.id},e.data()))}),o([...t])},e);return()=>{t()}},[e]),l.map(e=>{var t;return r.a.createElement(oa,Object.assign({key:e.id,place:e.location,isLiked:null!==(t=null===e||void 0===e?void 0:e.fave)&&void 0!==t&&t},e))})};var ca=()=>{const e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(()=>{let e=[];pe().then(t=>{e=e.concat(t),l(e)})},[]),a.map(e=>r.a.createElement(oa,Object.assign({key:e.id,place:e.location,isLiked:!0},e)))};var sa=Object(i.h)(({location:e})=>{const t=Object(s.a)().t;return r.a.createElement("div",{className:"feed-page"},r.a.createElement("div",{className:"feed-header"},r.a.createElement("div",{className:"icon"}),t("EXPLORE"),r.a.createElement($.a,{className:"/feed"===e.pathname?"selected":"",to:"/feed"},t("PUBLIC")),r.a.createElement($.a,{className:"/feed/fave"===e.pathname?"selected":"",to:"/feed/fave"},t("FAVES"))),r.a.createElement("div",{className:"content"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,strict:!0,path:"/feed"},r.a.createElement(ia,{displayCount:10})),r.a.createElement(i.b,{exact:!0,strict:!0,path:"/feed/fave"},r.a.createElement(ca,null))),r.a.createElement("div",{className:"feed-end"},"No more posts to show.")))}),ua=a(119),da=a.n(ua),ma=a(120),pa=a.n(ma),ha=a(77),fa=a.n(ha);a(224);let ga=new aa.a;var ba=()=>{const e=Object(i.g)().userid,t=Object(s.a)().t,a=Object(n.useState)([]),l=Object(c.a)(a,2),o=l[0],d=l[1],m=Object(n.useState)("---"),p=Object(c.a)(m,2),f=p[0],g=p[1],b=Object(n.useState)(ve),v=Object(c.a)(b,2),E=v[0],O=v[1],S=Object(n.useState)(Re.get.currentUser.user.photoURL),j=Object(c.a)(S,2),A=j[0],x=j[1],M=Object(n.useState)(Re.get.currentUser.user.displayName),D=Object(c.a)(M,2),I=D[0],T=D[1],F=Object(n.useState)(JSON.parse(localStorage.getItem("metrics"))),R=Object(c.a)(F,2),W=R[0],V=R[1],$=Object(n.useState)(!1),z=Object(c.a)($,2),q=z[0],_=z[1],K=Object(n.useState)(Re.get.currentUser.profile.sharing),X=Object(c.a)(K,2),Z=X[0],Q=X[1];Object(n.useEffect)(()=>{_(e===Re.get.currentUser.user.uid),Object(k.a)(y.a.mark((function t(){var a,n,r,l,o,i,c,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d([]),x(fa.a),T("Loading..."),t.prev=3,t.next=6,P(e);case 6:return o=(o=t.sent).data(),V(o),t.next=11,U(e);case 11:return i=(i=t.sent).data(),O(ga.clean(null!==(a=i.bio)&&void 0!==a?a:ve)),T(null!==(n=i.name)&&void 0!==n?n:be),x(null!==(r=i.profile)&&void 0!==r?r:Ee),g(ga.clean(null!==(l=i.location)&&void 0!==l?l:ge)),t.next=19,C(e);case 19:c=t.sent,s=[],c.forEach(e=>{let t=Object(ne.a)({id:e.id},e.data());s.push(t)}),d(s),t.next=32;break;case 25:t.prev=25,t.t0=t.catch(3),O("This person does not exist. This could either be an error, a bug, or more likely, the user has privated their profile."),T("Who dis?"),x(fa.a),g("Not in Boba World :("),V(fe);case 32:case"end":return t.stop()}}),t,null,[[3,25]])})))()},[e]);const ee=t=>{G().then(a=>{a.value&&L(t).then(function(){var t=Object(k.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.a.fire(w.a.t("Deleted!"),w.a.t("Your post has been deleted."),"success"),t.next=3,C(e);case 3:n=t.sent,r=[],n.forEach(e=>{let t=Object(ne.a)({id:e.id},e.data());r.push(t)}),d(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(J)})},te=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Y();case 4:t=e.sent,(a=t.value)&&Re.blog.setProfile({location:a}).then(()=>{g(a),N.a.fire(w.a.t("Done!"),w.a.t("Your public location has been changed."),"success")}).catch(J);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B();case 4:t=e.sent,(a=t.value)&&Re.blog.setProfile({bio:a}).then(()=>{O(a),N.a.fire(w.a.t("Done!"),w.a.t("Your bio has been updated."),"success")}).catch(J);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"blog-page"},r.a.createElement("div",{className:"blog-header"}," ",r.a.createElement("div",{className:"icon"}),"PUBLIC PROFILE PREVIEW"),r.a.createElement("div",{className:"user"},r.a.createElement("img",{src:A,alt:"avatar"}),r.a.createElement("h2",null,I)),r.a.createElement("div",{className:"profile"},r.a.createElement(pa.a,{className:"icon",onClick:te})," ",f,r.a.createElement("p",{onClick:ae},E),q&&r.a.createElement("div",{className:"user-share "},r.a.createElement("div",{className:"user-share-profile"},t("make profile public"),":",r.a.createElement(da.a,{defaultChecked:Z,onClick:()=>{(e=>{let t=Re.get.currentUser.profile;Re.user.update(Object(ne.a)(Object(ne.a)({},t),{},{sharing:!t.sharing}),()=>{t.sharing=!t.sharing,e(t.sharing)})})(Q)},label:t("make profile public")}),r.a.createElement(h,{className:"user-share-toggle-grid",open:Z},r.a.createElement(H,{text:"https://share.boba.watch/#/".concat(Re.get.currentUser.user.uid)}))))),r.a.createElement("div",{className:"stats"},r.a.createElement("p",null,"DRINKS PURCHASED")," ",W.ctd,r.a.createElement("p",null,"DRINK AVERAGE")," ",t("$"),u.toMoney(W.cad),r.a.createElement("p",null,"TOTAL SPENT")," ",t("$"),u.toMoney(W.ctc)),r.a.createElement("h2",{className:"review"}," ",r.a.createElement("span",null,"\u2605")," REVIEWS ",r.a.createElement("span",null,"\u2605")," "),r.a.createElement("div",{className:"content"},0!==o.length?o.map(e=>r.a.createElement(la,Object.assign({key:e.id,place:e.location},e),q&&r.a.createElement("div",{className:"item-controls"},r.a.createElement("button",{onClick:()=>{ee(e.id)}},"DELETE")))):r.a.createElement("h3",{key:"@ryqndev/empty"},"No Published Reviews")))};const va=()=>{const e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1];return r.a.createElement(i.a,{initialEntries:["/dash","/history","/add","/feed","/blog"],initialIndex:0},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/dash"},r.a.createElement(Ea,{setUser:l}),r.a.createElement(Ze,null)),r.a.createElement(i.b,{exact:!0,path:"/history"},r.a.createElement(Ea,{setUser:l}),r.a.createElement(Rt,null)),r.a.createElement(i.b,{exact:!0,path:"/add"},r.a.createElement(Ea,{setUser:l}),r.a.createElement(Et,null)),r.a.createElement(i.b,{exact:!0,path:"/edit/:userid"},r.a.createElement(Ea,{setUser:l}),r.a.createElement(Ot,null)),r.a.createElement(i.b,{path:"/feed"},r.a.createElement(sa,null)),r.a.createElement(i.b,{exact:!0,path:"/blog/:userid"},r.a.createElement(ba,null))),r.a.createElement(Dt,{open:a,setOpen:l}),r.a.createElement(Je,null))},Ea=({setUser:e})=>r.a.createElement("img",{src:Re.get.currentUser.user.photoURL,alt:"user settings",className:"avatar-button",onClick:e.bind(null,!0)});var Oa=Object(i.h)(({history:e})=>(Object(n.useEffect)(()=>{Mt(),Re.init(t=>{e.push(t?"/app":"/login")}),console.log("v2.0.6")},[e]),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"}),r.a.createElement(i.b,{path:"/login"},r.a.createElement(Bt,null)),r.a.createElement(i.b,{path:"/app"},r.a.createElement(va,null)))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.isUpdateAvailable=new Promise((function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(t=>{t.onupdatefound=()=>{const a=t.installing;a.onstatechange=()=>{switch(a.state){case"installed":navigator.serviceWorker.controller?e(!0):e(!1)}}}}).catch(e=>console.error("[SW ERROR]",e))}));a(225),a(226);var ya=a(126),ka=a(51),Sa=a(78);const Na={en:Sa,"en-US":Sa,"en-GB":a(121),es:a(122),zh:a(123),"zh-TW":a(124)};w.a.use(ya.a).use(ka.e).init({resources:Na,detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});w.a;o.a.render(r.a.createElement(i.a,{basename:"",initialEntries:["/","/login","/app"],initialIndex:0},r.a.createElement(Oa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},76:function(e){e.exports=JSON.parse('{"data":[{"img":"theme.png","title":"Dark Mode","path":["user","theme","[SELECT dark]"],"desc":"You can now search through your history of drinks!. The search feature will be able to match description, location, name, and price. (date search funcitonality currently in the works!)"},{"img":"search.png","title":"Search","path":["history","Search..."],"desc":"You can now search through your history of drinks!. The search feature will be able to match description, location, name, and price. (date search funcitonality currently in the works!)"},{"img":"edit.png","title":"Edit","path":["history","[any drink]","EDIT"],"desc":"You can now edit a drink entry without having to delete and create a new one. Just click the edit button after selecting a drink entry."},{"img":"publish.png","title":"Publish","path":["history","[any drink]","PUBLISH"],"desc":"Start your own blog by publishing your drink entries for the world to see. Note: privating your profile will only keep your profile hidden and people may still be able to see your posts on their feed."},{"img":"rating.png","title":"Rating","path":["add","RATING"],"desc":"You can now rate your drinks with a 1-5 star rating system!"},{"img":"save.png","title":"Save","path":["add","[fill drink detail]","SAVE"],"desc":"Find yourself adding the same drinks over and over again? Now, you can fill out the add page and click \'SAVE\' to save drinks to your autofill list."},{"img":"autofill.png","title":"Autofill","path":["add","Autofill with saved entry","[SELECT]"],"desc":"After saving drinks to your autofilled list, you can quickly fill out the form by selecting it from the dropdown menu. Your autofill list will save the following entries: [location, drink name, price, rating, description]"},{"img":"feed.png","title":"Feed","path":["feed"],"desc":"All drinks and posts that anyone choose to publish will be displayed through the global feed. You can \'like\' posts that you find interesting and they will be saved in your \'faves\' tab unless deleted by the creator"},{"img":"profiles.png","title":"Profiles","path":["feed","[click on user\'s avatar]"],"desc":"You can view any person\'s profile by clicking on their avatar. "},{"img":"manage.png","title":"Manage your Profile","path":["blog","[location icon or bio]"],"desc":"You can edit your profile location or bio anytime by just clicking on them. Here, you can also view and manage your public posts."},{"title":"Moderation","desc":"We reserve the right to remove you from the platform. Please exercise common sense when posting things publicly. If you are found to be posting material we deem inappropriate or irrelevant, you will be banned from posting."}]}')},77:function(e,t,a){e.exports=a.p+"static/media/logo-shadow.0824830a.svg"},78:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE","EXPLORE":"EXPLORE","PUBLIC":"PUBLIC","FAVES":"FAVES"}}')},93:function(e,t,a){}},[[142,1,2]]]);
//# sourceMappingURL=main.11dc752e.chunk.js.map