(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[0],{106:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},121:function(e,t,a){},153:function(e,t,a){e.exports=a.p+"static/media/logo-shadow.0824830a.svg"},155:function(e){e.exports=JSON.parse('{"translation":{"$":"\xa3","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},156:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"L\xcdMITE MENSUAL","REMAINING":"RESTANTE","Monthly Spending":"Gasto Mensual","This is how much you\u2019ve spent on drinks so far":"Esto es lo mucho que has gastado en bebidas hasta ahora","to your max number of drinks this month":"a su n\xfamero m\xe1ximo de bebidas este mes","drinks this month":"bebidas de este mes","Morning Purchases":"Compras Matutinas","Afternoon Purchases":"Compras por la Tarde","# of purchases":"# de compras","User Settings":"Configuraci\xf3n del Usuario","Monthly Spending Limit":"L\xedmite de Gastos Mensuales","Max of drinks / month":"Max de bebidas / mes","Share Profile":"Compartir Perfil","LOGOUT":"SALIR","UPDATE":"ACTUALIZAR","Add a purchase":"A\xf1adir una compra","Location":"Local","Drink Name":"Nombre de la Bebida","Price":"Precio","Date":"Fecha","Description":"Descripci\xf3n","ADD":"A\xd1ADIR","EDIT":"EDITAR","Please enter a valid price to add drink":"Por favor, introduzca un precio v\xe1lido para a\xf1adir la bebida","No drinks this month":"No hay bebidas este mes","Add a drink to start!":"\xa1A\xf1ade una bebida para empezar!","Monthly Total":"Gasto Mensual","Overall Spending":"Gasto Total","Complete Total":"Gasto Total","on":"","DELETE":"BORRAR"}}')},157:function(e){e.exports=JSON.parse('{"translation":{"$":"\xa5","MONTHLY LIMIT":"\u6bcf\u6708\u9650\u989d","REMAINING":"\u5269\u4f59\u7684","Monthly Spending":"\u6bcf\u6708\u652f\u51fa","This is how much you\u2019ve spent on drinks so far":"\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u662f\u60a8\u5728\u996e\u6599\u4e0a\u82b1\u8d39\u7684\u91d1\u989d","to your max number of drinks this month":"\u8fbe\u5230\u60a8\u672c\u6708\u996e\u6599\u7684\u6700\u5927\u6570\u91cf","drinks this month":"\u672c\u6708\u996e\u6599","Morning Purchases":"\u4e0a\u5348\u8d2d\u4e70","Afternoon Purchases":"\u4e0b\u5348\u8d2d\u4e70","# of purchases":"\u8d2d\u4e70\u6570\u91cf","User Settings":"\u7528\u6237\u8bbe\u7f6e","Monthly Spending Limit":"\u6bcf\u6708\u6d88\u8d39\u9650\u989d","Max of drinks / month":"\u996e\u6599\u9650\u91cf/\u6708","Share Profile":"\u5206\u4eab\u4e2a\u4eba\u8d44\u6599","LOGOUT":"\u9000\u51fa","UPDATE":"\u66f4\u65b0","Add a purchase":"\u6dfb\u52a0\u8d2d\u4e70","Location":"\u4f4d\u7f6e","Drink Name":"\u996e\u6599\u540d\u79f0","Price":"\u4ef7\u94b1","Date":"\u65e5\u671f","Description":"\u63cf\u8ff0","ADD":"\u52a0","EDIT":"\u7f16\u8f91","Please enter a valid price to add drink":"\u8bf7\u8f93\u5165\u6709\u6548\u4ef7\u683c\u4ee5\u6dfb\u52a0\u996e\u6599","No drinks this month":"\u672c\u6708\u6ca1\u6709\u996e\u6599","Add a drink to start!":"\u5f00\u59cb\u6dfb\u52a0\u996e\u6599!","Monthly Total":"\u6bcf\u6708\u603b\u8ba1","Overall Spending":"\u603b\u652f\u51fa","Complete Total":"\u5b8c\u6210\u603b\u6570","on":"\u5728","DELETE":"\u5220\u9664"}}')},158:function(e){e.exports=JSON.parse('{"translation":{"$":"NT$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month :(","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},175:function(e,t,a){e.exports=a(284)},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},205:function(e,t,a){},216:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},259:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),i=a(51),s=a(6),l=a(18);var u={toMoney:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?parseInt(e/100):Number(e/100).toFixed(2)}},d=a(25),m=a(63),p=(a(199),function(e){var t=e.className,a=e.children,n=Object(m.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:"card ".concat(t)},n),a)}),h=(a(200),function(e){var t=e.open,a=e.children;return r.a.createElement("div",{className:"modal-backdrop "+(t?"open":"")},a)}),f=(a(201),function(e){var t=e.value,a=e.id,n=e.label;return r.a.createElement("span",{className:"text-input"+(0===t.length?"":" input--filled")},r.a.createElement("input",Object.assign({},e,{name:a})),r.a.createElement("label",{htmlFor:a},r.a.createElement("span",null,n)))}),b=a(129),g=a(130),E=a(161),v=a(131),O=a(162),k=a(132),N=a(315),S=a(323),y=a(134),j=a.n(y),M=(a(205),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={copiedNotification:!1},a.closeSnackbar=function(){a.setState({copiedNotification:!1})},a.copy=function(){navigator.share?navigator.share({title:"My Boba Watch Profile",text:"Check out my boba spending!",url:a.props.text}).catch((function(e){a.setState({copiedNotification:!0})})):a.setState({copiedNotification:!0})},a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"clipboard"},r.a.createElement("div",{className:"clipboard-text",id:"copy-me"},this.props.text),r.a.createElement(k.CopyToClipboard,{text:this.props.text},r.a.createElement(N.a,{style:{padding:0},className:"clipboard-icon",onClick:this.copy},r.a.createElement(j.a,{style:{fontSize:14}}))),r.a.createElement(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.copiedNotification,autoHideDuration:4e3,onClose:this.closeSnackbar,message:r.a.createElement("span",null,"Link Copied!")}))}}]),t}(n.Component)),D=a(43),w=a(139),I=a.n(w),T=a(136),x=a.n(T),A=a(138),P=a.n(A),U=a(137),F=a.n(U),L=a(140),C=a.n(L),J=a(27),R=a(7),G=a.n(R),B=a(13),Y=a(8),$=a.n(Y);a(212),a(97);function W(){for(var e={td:0,tc:0,ad:0,d:Array(7)},t=0;t<7;t++)e.d[t]=Array(24).fill(0);return e}function z(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=a?1:-1;t.td+=n,t.tc+=parseFloat(e.price)*n,t.ad=parseFloat(t.tc)/parseFloat(t.td);var r=new Date(e.date);t.d[r.getDay()][r.getHours()-1]+=n}var H,V={getDefaultMetrics:W,recalculateMetrics:function(e){var t=W(),a=W(),n=new Date,r=n.getMonth(),c=n.getFullYear();return e.forEach((function(e){var n=JSON.parse(localStorage.getItem(e)),o=new Date(n.date);o.getMonth()===r&&o.getFullYear()===c&&z(n,t),z(n,a)})),localStorage.setItem("metrics",JSON.stringify(t)),localStorage.setItem("completeMetrics",JSON.stringify(a)),t},updateMetrics:z,addDrink:function(e,t,a){var n=JSON.parse(localStorage.getItem("metrics")),r=JSON.parse(localStorage.getItem("completeMetrics"));a.length?function e(t,a,n,r,c){if(c<=r)return n.splice(a<new Date(JSON.parse(localStorage.getItem(n[r])).date)?r+1:r,0,t);var o=parseInt((c-r)/2+r),i=new Date(JSON.parse(localStorage.getItem(n[o])).date);return a.getTime()===i.getTime()?n.splice(o+1,0,t):a<i?e(t,a,n,o+1,c):e(t,a,n,r,o-1)}(t,new Date(e.date),a,0,a.length-1):a.push(t),z(e,n),z(e,r),localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem("metrics",JSON.stringify(n)),localStorage.setItem("completeMetrics",JSON.stringify(r))},deleteDrink:function(e,t){var a=JSON.parse(localStorage.getItem("metrics")),n=JSON.parse(localStorage.getItem("completeMetrics")),r=JSON.parse(localStorage.getItem(e)),c=new Date,o=c.getMonth(),i=c.getFullYear(),s=new Date(r.date);s.getMonth()===o&&s.getFullYear()===i&&z(r,a,!1),z(r,n,!1);var l=t.indexOf(e);l>-1&&t.splice(l,1),localStorage.removeItem(e),localStorage.setItem("metrics",JSON.stringify(a)),localStorage.setItem("completeMetrics",JSON.stringify(n))},resetMonthly:function(e){var t=W(),a=new Date,n=a.getMonth(),r=a.getFullYear();return e.forEach((function(e){var a=JSON.parse(localStorage.getItem(e)),c=new Date(a.date);if(c.getMonth()!==n||c.getFullYear()!==r)return localStorage.setItem("metrics",JSON.stringify(t)),t;z(a,t)})),localStorage.setItem("metrics",JSON.stringify(t)),t}},K=a(19),X=a.n(K);$.a.initializeApp({apiKey:"AIzaSyBePNJQYVteyh1Ll9fqnXbXc-S8fmJlbTQ",authDomain:"boba-watch-firebase.firebaseapp.com",databaseURL:"https://boba-watch-firebase.firebaseio.com",projectId:"boba-watch-firebase",storageBucket:"",messagingSenderId:"674375234614",appId:"1:674375234614:web:fdaf98c291204b9c"});var q={budget:1e4,limit:15,sharing:!1},Q={currentUser:{user:void 0,profile:void 0,drinkids:void 0,theme:void 0}};window.userstuff=Q;var _=function(){},Z=function(e){X.a.fire("Error!",e+"","error")},ee=function(){var e=Object(B.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users/".concat(Q.currentUser.user.uid,"/blog")).doc("user").set({location:"US",name:Q.currentUser.user.displayName,profile:Q.currentUser.user.photoURL}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("blogs").doc(t).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=[];e.forEach((function(e){var a=Object(J.a)({id:e.id},e.data().drink);localStorage.setItem(e.id,JSON.stringify(a)),t.push(e.id)})),Q.currentUser.drinkids=t,V.recalculateMetrics(t)},ne=function(e){var t,a,n,r=null===e||void 0===e?void 0:e.data();void 0!==(null===(t=r)||void 0===t?void 0:t.budget)&&void 0!==(null===(a=r)||void 0===a?void 0:a.limit)&&void 0!==(null===(n=r)||void 0===n?void 0:n.sharing)||(r=q),Q.currentUser.profile=r},re=function(){var e=Object(B.a)(G.a.mark((function e(){var t,a=arguments;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:q,e.abrupt("return",H.collection("users").doc(Q.currentUser.user.uid).collection("user").doc("profile").set(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(B.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users").doc(Q.currentUser.user.uid).collection("user").doc("profile").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;H.collection("users").doc(Q.currentUser.user.uid).collection("user").doc("stats").set(e).then((function(e){t(e)})).catch((function(e){X.a.fire("Error!","".concat(e),"error"),t(e)}))},ie=function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users/".concat(Q.currentUser.user.uid,"/drinks")).add(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(B.a)(G.a.mark((function e(t,a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users/".concat(Q.currentUser.user.uid,"/drinks")).doc(a).set(t));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users/".concat(t,"/blog")).doc("user").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(B.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,a=Object(m.a)(t,["id"]),e.abrupt("return",H.collection("blogs").add(Object(J.a)({uid:Q.currentUser.user.uid,likes:0},a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("blogs").where("uid","==",t).orderBy("date","desc").limit(6).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("blogs").orderBy("date","desc").limit(10).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("blogs").doc(t).delete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he={init:function(e){(H=$.a.firestore()).enablePersistence().catch((function(e){console.error(e)}));var t=JSON.parse(localStorage.getItem("user"));if(null!==t)return Q.currentUser=t,e(Q.currentUser.user);$.a.auth().onAuthStateChanged((function(t){var a,n;if(!t)return e(t);Q.currentUser.user={displayName:t.displayName,uid:t.uid,photoURL:t.photoURL,isAnonymous:t.isAnonymous,email:t.email,emailVerified:t.emailVerified};var r=[H.collection("users/".concat(Q.currentUser.user.uid,"/drinks")).orderBy("drink.date","desc").get(),(null===t||void 0===t?void 0:null===(a=t.metadata)||void 0===a?void 0:a.creationTime)===(null===t||void 0===t?void 0:null===(n=t.metadata)||void 0===n?void 0:n.lastSignInTime)?re(q):ce(),ee()];Promise.all(r).then((function(a){var n=Object(s.a)(a,2),r=n[0],c=n[1];ae(r),ne(c),localStorage.setItem("user",JSON.stringify(Q.currentUser)),e(t)})).catch(Z)}))},logout:function(){$.a.auth().signOut().then((function(){var e=localStorage.getItem("theme");localStorage.clear(),localStorage.setItem("theme",e),window.location.reload()})).catch(Z)},user:{get:ce,update:function(e){var t=e.sharing,a=e.budget,n=e.limit,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,c={sharing:t,budget:a,limit:n};if(ee(),isNaN(c.budget)||isNaN(c.limit))return X.a.fire("Oops...","Please enter valid numbers","error");re(c).then((function(){X.a.fire("Success!","Your settings have been updated","success"),r(c)}))},updateStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=JSON.parse(localStorage.getItem("metrics")),a=JSON.parse(localStorage.getItem("completeMetrics"));delete t.d,t.ctd=a.td,t.ctc=a.tc,t.cad=a.ad,t.d=JSON.stringify(a.d),t.fn=Q.currentUser.user.displayName,oe(t,e)}},get:Q,drinks:{add:ie,update:se,delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;H.collection("users/".concat(Q.currentUser.user.uid,"/drinks")).doc(e).delete().then((function(){X.a.fire("Done!","Drink has been deleted","success"),t()})).catch((function(e){X.a.fire("Error!","Couldn't delete your drink. Try again later!","error")}))}},blog:{profile:le,like:function(){var e=Object(B.a)(G.a.mark((function e(t,a){var n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$.a.firestore.FieldValue.increment(a?1:-1),r=H.collection("users/".concat(Q.currentUser.user.uid,"/user/profile/liked")),a?r.doc(t).set({}):r.doc(t).delete(),e.abrupt("return",H.collection("blogs").doc(t).update({likes:n}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),faves:function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users/".concat(t,"/user/profile/liked")).limit(6).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:te,stats:function(){var e=Object(B.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.collection("users").doc(t).collection("user").doc("stats").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},publish:{add:ue,get:{user:de,feed:me},delete:pe}},fe=(a(216),Object(i.h)((function(e){var t=e.add,a=e.toggleAdd,c=e.history,o=Object(n.useState)(c.location.pathname),i=Object(s.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){u(c.location.pathname)}),[c.location.pathname]);var d=function(e){return e===l?" selected":""};return r.a.createElement("nav",null,r.a.createElement(D.a,{to:"/dash"},r.a.createElement("div",{className:"icon"+d("/dash")},r.a.createElement(x.a,null),r.a.createElement("p",{className:"label"},"home"))),r.a.createElement(D.a,{to:"/history"},r.a.createElement("div",{className:"icon"+d("/history")},r.a.createElement(F.a,null),r.a.createElement("p",{className:"label"},"history"))),r.a.createElement("div",{onClick:a},r.a.createElement("div",{className:"add-icon"+(t?" selected":"")},r.a.createElement(P.a,{style:{fontSize:50}}))),r.a.createElement(D.a,{to:"/feed"},r.a.createElement("div",{className:"icon"+d("/feed")},r.a.createElement(I.a,null),r.a.createElement("p",{className:"label"},"feed"))),r.a.createElement(D.a,{to:"/blog/"+he.get.currentUser.user.uid},r.a.createElement("div",{className:"icon"+d("/blog/"+he.get.currentUser.user.uid)},r.a.createElement(C.a,null),r.a.createElement("p",{className:"label"},"blog"))))}))),be=(a(98),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),ge=["1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 AM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM","12 PM"],Ee=function(e){var t=e.data,a=e.width;return r.a.createElement(p,{className:"daily-chart"},r.a.createElement(d.h,{xType:"ordinal",yType:"ordinal",margin:60,width:a,height:1.8*a},r.a.createElement(d.g,{orientation:"top"}),r.a.createElement(d.i,null),r.a.createElement(d.b,{colorType:"literal",style:{stroke:"white",strokeWidth:"0px",rectStyle:{rx:0,ry:0}},data:function(e){var t=[],a=[];e.forEach((function(e){a.push(Math.max.apply(null,e))}));var n=Math.max.apply(null,a);return e.forEach((function(e,a){e.forEach((function(e,r){t.push({x:be[a],y:ge[r],color:"rgba(246, 128, 128, ".concat(0===e?.1:e/n,")")})}))})),t}(t)})))},ve=(a(218),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),Oe=function(e){var t=e.width,a=e.data,c=Object(l.b)().t,o=Object(n.useState)([]),i=Object(s.a)(o,2),u=i[0],m=i[1],h=Object(n.useState)([]),f=Object(s.a)(h,2),b=f[0],g=f[1];return Object(n.useEffect)((function(){var e=[],t=[];a.forEach((function(a,n){var r=0,c=0;a.forEach((function(e,t){t>=11?c+=e:r+=e})),e.push({x:ve[n],y:r}),t.push({x:ve[n],y:c}),m(e),g(t)}))}),[a,m,g]),r.a.createElement(p,{className:"time-bar-graph--holder"},r.a.createElement(d.h,{width:t-40,height:300,stackBy:"y",xType:"ordinal"},r.a.createElement(d.f,null),r.a.createElement(d.c,null),r.a.createElement(d.g,null),r.a.createElement(d.i,{title:c("# of purchases")}),r.a.createElement(d.e,{color:"#FFACAC",data:u}),r.a.createElement(d.e,{color:"#FFDCDC",data:b})),r.a.createElement(d.a,{style:{textAlign:"center"},orientation:"horizontal",items:[{title:c("Morning Purchases"),color:"#FFACAC",strokeWidth:5},{title:c("Afternoon Purchases"),color:"#FFDCDC",strokeWidth:5}]}))},ke=function(e){var t=e.spent,a=e.budget,n=e.width-45,c={size:0,color:"#FFFFFF",children:[{title:"Progress",size:t,color:"#32de44",children:[{title:"Padding",size:0,color:"#FFFFFF"}]},{title:"Until Limit",size:a-t,color:"#F4F4F4"}]};return r.a.createElement("div",null,r.a.createElement(d.d,{height:n,width:n,data:c,padAngle:.06,animation:!0,colorType:"literal"}))},Ne=(a(219),function(){var e=Object(l.b)().t,t=Object(n.useState)(JSON.parse(localStorage.getItem("metrics"))),a=Object(s.a)(t,2),c=a[0],o=(a[1],Object(n.useState)(JSON.parse(localStorage.getItem("completeMetrics")))),i=Object(s.a)(o,2),d=i[0],m=(i[1],Object(n.useState)(parseInt(c.td/he.get.currentUser.profile.limit*100))),h=Object(s.a)(m,2),f=h[0],b=(h[1],Object(n.useState)(window.innerWidth-40)),g=Object(s.a)(b,2),E=g[0],v=g[1],O=he.get.currentUser.profile.budget,k=function(){v(window.innerWidth-40)};return Object(n.useEffect)((function(){V.resetMonthly(he.get.currentUser.drinkids)}),[]),Object(n.useEffect)((function(){return window.addEventListener("resize",k),function(){window.removeEventListener("resize",k)}}),[v]),r.a.createElement("div",{className:"dashboard-page"},r.a.createElement("h4",{className:"bw title"},e("Monthly Spending")),r.a.createElement(p,{id:"chart-holder"},r.a.createElement("div",{className:"description"},e("MONTHLY LIMIT"),": ",e("$"),u.toMoney(O,O/1e4>1),r.a.createElement("br",null),r.a.createElement("span",null,e("$"),u.toMoney(c.tc,c.tc/1e4>1)),r.a.createElement("br",null),e("REMAINING"),": ",e("$"),u.toMoney(O-c.tc)),r.a.createElement(ke,{budget:O,spent:c.tc,width:E})),r.a.createElement(p,{className:"budget"},r.a.createElement("p",null,e("This is how much you\u2019ve spent on drinks so far"),":"),r.a.createElement("h2",{className:"bw"},e("$"),u.toMoney(d.tc,d.tc/1e4>1))),r.a.createElement(p,{className:"limit",style:{backgroundPositionY:2.7*(100-f)}},r.a.createElement("h3",{className:"bw"},f,"%"),r.a.createElement("p",null,e("to your max number of drinks this month"))),r.a.createElement(p,{className:"total"},r.a.createElement("h2",{className:"bw"},c.td),r.a.createElement("p",null,e("drinks this month"))),r.a.createElement(Ee,{data:d.d,width:E}),r.a.createElement(Oe,{width:E,data:d.d}))}),Se=a(81),ye=a(64),je=a(61),Me=a.n(je),De=a(52),we=function(){var e=Object(B.a)(G.a.mark((function e(t,a){var n,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.drinks.add(t);case 3:return n=e.sent,e.next=6,n.get();case 6:return r=e.sent,c=Object(J.a)({id:r.id},r.data().drink),e.abrupt("return",Te(c,a));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",xe(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(B.a)(G.a.mark((function e(t,a,n){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.drinks.update(t,a);case 3:return V.deleteDrink(a,he.get.currentUser.drinkids),e.abrupt("return",Te(Object(J.a)({id:a},t.drink),n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",xe(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Te=function(e,t){return V.addDrink(e,e.id,he.get.currentUser.drinkids),he.user.updateStats(),localStorage.setItem("user",JSON.stringify(he.get.currentUser)),X.a.fire(De.a.t("Done!"),De.a.t("Drink added"),"success"),t(he.get.currentUser.drinkids),!0},xe=function(e){return X.a.fire(De.a.t("Oops...!"),De.a.t("Something went wrong"),"error"),console.error(e),!1},Ae=(a(121),function(e){var t,a=e.open,c=e.setOpen,o=e.setDrinkids,i=Object(l.b)().t,u=Object(n.useState)(""),d=Object(s.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(""),k=Object(s.a)(O,2),S=k[0],y=k[1],j=Object(n.useState)(new Date),M=Object(s.a)(j,2),D=M[0],w=M[1],I=Object(n.useState)(""),T=Object(s.a)(I,2),x=T[0],A=T[1],P=Object(n.useState)(!0),U=Object(s.a)(P,2),F=U[0],L=U[1],C=function(e){return function(t){t.preventDefault(),t.target.value.length>=80||e(t.target.value)}},J=function(){c(!a),p(""),v(""),y(""),w(new Date),A("")},R=function(){var e=Object(B.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!1),t={drink:{name:m,location:E,price:parseInt(100*parseFloat(S)),date:new Date(D).toISOString(),description:x}},!isNaN(t.drink.price)){e.next=6;break}return X.a.fire("Oops...",i("Please enter a valid price to add drink"),"error"),L(!0),e.abrupt("return");case 6:return e.next=8,we(t,o);case 8:L(!0),J();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(h,{open:a},r.a.createElement("div",{className:"add-modal"},r.a.createElement(N.a,{color:"secondary",className:"close-button",onClick:J},r.a.createElement(Me.a,{color:"secondary"})),r.a.createElement("h5",null,i("Add a purchase")),r.a.createElement(f,{value:E,onChange:C(v),label:i("Location"),id:"location-input"}),r.a.createElement(f,{value:m,onChange:C(p),label:i("Drink Name"),id:"name-input"}),r.a.createElement(f,{value:S,onChange:function(e){e.target.value.match(/^-?\d*\.?\d*$/)&&y(e.target.value)},label:i("Price"),id:"name-input",type:"text"}),r.a.createElement(ye.b,{utils:Se.a},r.a.createElement(ye.a,{id:"date-value",className:"add-input",margin:"dense",format:"M/d/yyyy h:mm a",label:i("Date"),value:D,onChange:function(e){w(e)},inputProps:{maxLength:100}})),r.a.createElement(f,{value:x,onChange:(t=A,function(e){e.preventDefault(),e.target.value.length>=300||t(e.target.value)}),label:i("Description"),id:"description-input"}),r.a.createElement("div",{className:"add-button-holder"},r.a.createElement("button",{disabled:!F,id:"add-drink--button",onClick:R,className:"text"},i("ADD")))))}),Pe=function(e){var t=e.open,a=e.setOpen,c=e.drinkData,o=e.setDrinkids,i=Object(l.b)().t,u=Object(n.useState)(""),d=Object(s.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(""),k=Object(s.a)(O,2),S=k[0],y=k[1],j=Object(n.useState)(new Date),M=Object(s.a)(j,2),D=M[0],w=M[1],I=Object(n.useState)(""),T=Object(s.a)(I,2),x=T[0],A=T[1],P=Object(n.useState)(!0),U=Object(s.a)(P,2),F=U[0],L=U[1];Object(n.useEffect)((function(){null!==c&&(p(c.name),v(c.location),y(c.price/100),w(c.date),A(c.description))}),[t,c]);var C,J=function(e){return function(t){t.preventDefault(),t.target.value.length>=80||e(t.target.value)}},R=function(){var e=Object(B.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!1),n={drink:{name:m,location:E,price:parseInt(100*parseFloat(S)),date:new Date(D).toISOString(),description:x}},!isNaN(n.drink.price)){e.next=6;break}return X.a.fire({icon:"error",title:"Oops...",text:"Please enter a valid price to add drink"}),L(!0),e.abrupt("return");case 6:return e.next=8,Ie(n,c.id,o);case 8:L(!0),a(!t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(h,{open:t},r.a.createElement("div",{className:"add-modal"},r.a.createElement(N.a,{color:"secondary",className:"close-button",onClick:function(){a(!t)}},r.a.createElement(Me.a,{color:"secondary"})),r.a.createElement("h5",null,"Edit purchase"),r.a.createElement(f,{value:E,onChange:J(v),label:"Location",id:"location-input"}),r.a.createElement(f,{value:m,onChange:J(p),label:"Drink Name",id:"name-input"}),r.a.createElement(f,{value:S,onChange:function(e){e.target.value.match(/^-?\d*\.?\d*$/)&&y(e.target.value)},label:"Price",id:"name-input",type:"tel"}),r.a.createElement(ye.b,{utils:Se.a},r.a.createElement(ye.a,{id:"date-value",className:"add-input",margin:"dense",format:"M/d/yyyy h:mm a",label:"Date",value:D,onChange:function(e){w(e)},inputProps:{maxLength:100}})),r.a.createElement(f,{value:x,onChange:(C=A,function(e){e.preventDefault(),e.target.value.length>=300||C(e.target.value)}),label:"Description",id:"description-input"}),r.a.createElement("div",{className:"add-button-holder"},r.a.createElement("button",{id:"add-drink--button",disabled:!F,onClick:R,className:"text"},i("EDIT")))))},Ue=a(145),Fe=a.n(Ue),Le=a(322),Ce=a(319),Je=a(146),Re=a.n(Je),Ge=(a(259),a(260),function(e){var t,a,c,o=e.open,i=e.setOpen,u=Object(l.b)().t,d=Object(n.useState)((null!==(t=he.get.currentUser.profile.budget)&&void 0!==t?t:1e4)/100),m=Object(s.a)(d,2),p=m[0],b=m[1],g=Object(n.useState)(null!==(a=he.get.currentUser.profile.limit)&&void 0!==a?a:15),E=Object(s.a)(g,2),v=E[0],O=E[1],k=Object(n.useState)(null!==(c=he.get.currentUser.profile.sharing)&&void 0!==c&&c),S=Object(s.a)(k,2),y=S[0],j=S[1],D=function(e){return function(t){e(t.target.value)}},w=function(){i(!1),b(he.get.currentUser.profile.budget/100),O(he.get.currentUser.profile.limit),j(he.get.currentUser.profile.sharing)};return r.a.createElement(h,{open:o},r.a.createElement("div",{className:"user-modal"},r.a.createElement(N.a,{color:"secondary",className:"modal-small--button close-button",onClick:w},r.a.createElement(Me.a,{color:"secondary",style:{fontSize:14}})),r.a.createElement(N.a,{className:"modal-small--button help-button",onClick:function(){window.open("https://info.boba.watch/")}},r.a.createElement(Re.a,{color:"secondary",style:{fontSize:14}})),r.a.createElement("img",{src:he.get.currentUser.user.photoURL,className:"avatar",alt:"user"}),r.a.createElement("h1",null,u("User Settings")),r.a.createElement(f,{id:"monthly-spending-input",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",variant:"outlined",margin:"normal",onChange:D(b),value:p,label:u("Monthly Spending Limit")}),r.a.createElement(f,{id:"monthly-drinking-limit",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",margin:"dense",variant:"outlined",onChange:D(O),value:v,label:u("Max of drinks / month")}),r.a.createElement("div",{className:"user-share-profile"},u("Share Profile"),":",r.a.createElement(Fe.a,{defaultChecked:y,onClick:function(){var e={budget:100*parseFloat(p),limit:parseInt(v),sharing:!y};he.user.update(e,(function(){he.get.currentUser.profile=e,j(he.get.currentUser.profile.sharing)}))},label:u("Share Profile")})),r.a.createElement(Le.a,{in:y},r.a.createElement(M,{text:"https://share.boba.watch/#/".concat(he.get.currentUser.user.uid)})),r.a.createElement("div",{className:"button-holder"},r.a.createElement("button",{className:"logout text",onClick:he.logout},u("LOGOUT")),r.a.createElement(Ce.a,{className:"update",onClick:function(){var e={budget:100*parseFloat(p),limit:parseInt(v),sharing:y};he.user.update(e,(function(){he.get.currentUser.profile=e,w()}))}},u("UPDATE")))))}),Be=a(147),Ye=a.n(Be),$e=a(148),We=a.n($e),ze=(a(261),function(e){var t=e.setEditDetails,a=e.data,c=e.setDrinkids,o=Object(l.b)().t,i=Object(n.useState)(!1),d=Object(s.a)(i,2),m=d[0],p=d[1],h=Object(n.useState)(!0),f=Object(s.a)(h,2),b=f[0],g=f[1],E=function(){V.deleteDrink(a.id,he.get.currentUser.drinkids),localStorage.setItem("user",JSON.stringify(he.get.currentUser)),c(he.get.currentUser.drinkids),he.user.updateStats()},v=function(){var e=Object(B.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.prev=1,e.next=4,he.publish.add(a);case 4:X.a.fire("Success!","Drink published on your blog!","success"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),g(!0),X.a.fire("Error!",e.t0+"","error");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),O=new Date(a.date).toDateString();return r.a.createElement("div",{className:"drink-panel"},r.a.createElement("div",{className:"info",onClick:function(){p(!m)}},r.a.createElement("p",{className:"place"},a.location),r.a.createElement("p",{className:"price"},o("$"),u.toMoney(a.price)),r.a.createElement("div",{className:"expand-icon"},m?r.a.createElement(Ye.a,null):r.a.createElement(We.a,null)),r.a.createElement("p",{className:"name"},a.name),r.a.createElement("p",{className:"time"},O.substr(4))),r.a.createElement("div",{className:"collapsed-info"+(m?" expanded":"")},r.a.createElement("p",{className:"label"},a.name,r.a.createElement("br",null),r.a.createElement("span",null,"@",a.location)),r.a.createElement("p",{className:"description"},a.description),r.a.createElement("p",{className:"date"},r.a.createElement("span",null,o("on"))," ",O),r.a.createElement("div",{className:"options"},r.a.createElement("button",{className:"text",onClick:v,disabled:!b},o("PUBLISH")),r.a.createElement("button",{className:"text",onClick:function(){t(Object(J.a)({},a,{update:c}))}},o("EDIT")),r.a.createElement("button",{className:"text",onClick:function(){he.drinks.delete(a.id,E)}},o("DELETE")))))}),He=(a(262),function(e){var t=e.drinkids,a=e.setDrinkids,c=Object(l.b)().t,o=Object(n.useState)([]),i=Object(s.a)(o,2),d=i[0],m=i[1],p=Object(n.useState)([]),h=Object(s.a)(p,2),f=h[0],b=h[1],g=Object(n.useState)(7),E=Object(s.a)(g,2),v=E[0],O=(E[1],Object(n.useState)(5)),k=Object(s.a)(O,2),N=k[0],S=(k[1],Object(n.useState)(null)),y=Object(s.a)(S,2),j=y[0],M=y[1],D=Object(n.useState)(!1),w=Object(s.a)(D,2),I=w[0],T=w[1],x=Number(JSON.parse(localStorage.getItem("metrics")).tc),A=Number(JSON.parse(localStorage.getItem("completeMetrics")).tc);return Object(n.useEffect)((function(){null!==j&&T(!0)}),[j]),Object(n.useEffect)((function(){var e=[],a=[],n=new Date,r=n.getMonth(),c=n.getFullYear(),o=v,i=N;t.forEach((function(t,n){var s=JSON.parse(localStorage.getItem(t)),l=new Date(s.date);l.getMonth()===r&&l.getFullYear()===c&&o>0?e.push(s):l.getMonth()!==r&&l.getFullYear()!==c&&i>0&&a.push(s)})),m(e),b(a)}),[t,N,v]),r.a.createElement("div",{className:"history-page"},r.a.createElement("h3",{className:"bw"},c("Monthly Spending")),r.a.createElement("div",{className:"history-spending"},d.map((function(e){return r.a.createElement(ze,{key:e.id,data:e,setDrinkids:a,setEditDetails:M})}))),r.a.createElement("h3",{className:"bw history-total"},r.a.createElement("span",null,c("Monthly Total"),":")," ",c("$"),u.toMoney(x)),r.a.createElement("h3",{className:"bw"},c("Overall Spending")),r.a.createElement("div",{className:"history-spending"},f.map((function(e){return r.a.createElement(ze,{key:e.id,data:e,setDrinkids:a,setEditDetails:M})}))),r.a.createElement("h3",{className:"bw history-total"},r.a.createElement("span",null,c("Complete Total"),":")," ",c("$"),u.toMoney(A)),r.a.createElement(Pe,{open:I,setOpen:T,drinkData:j,setDrinkids:a}))}),Ve=a(105),Ke=(a(269),{fontFamily:"Poppins",fontWeight:700,color:"white",fontSize:44,marginBottom:20}),Xe=function(){return Object(n.useEffect)((function(){(Ve.a.AuthUI.getInstance()||new Ve.a.AuthUI($.a.auth())).start("#auth-container",{signInOptions:[$.a.auth.GoogleAuthProvider.PROVIDER_ID,$.a.auth.FacebookAuthProvider.PROVIDER_ID]})})),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-logo"}),r.a.createElement("h1",{style:Ke},"boba watch"),r.a.createElement("div",{id:"auth-container"}))},qe=a(152),Qe=a.n(qe),_e=a(151),Ze=a.n(_e),et=a(150),tt=new(a.n(et).a),at=function(e){var t=e.id,a=e.name,c=e.place,o=e.price,i=e.date,d=e.description,m=e.likes,h=e.children,f=Object(l.b)().t,b=Object(n.useState)(!1),g=Object(s.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(m),k=Object(s.a)(O,2),N=k[0],S=k[1];return r.a.createElement(p,{className:"feed-item"},r.a.createElement("div",{className:"header"},r.a.createElement("span",null,tt.clean(a)),r.a.createElement("p",{className:"favorite-amount"},(null!==N&&void 0!==N?N:0)>999?(N/100>>0)+"k":null!==N&&void 0!==N?N:0),r.a.createElement("div",{className:"favorite",onClick:function(){he.blog.like(t,!E).then((function(){S(N+(E?-1:1)),v(!E)}))}},E?r.a.createElement(Ze.a,null):r.a.createElement(Qe.a,null))),r.a.createElement("div",{className:"item-content"},r.a.createElement("p",{className:"location"},tt.clean(c)),r.a.createElement("p",{className:"price"},f("$"),u.toMoney(o)),r.a.createElement("p",{className:"date"},new Date(i).toDateString()),r.a.createElement("p",{className:"description"},tt.clean(d)),h))},nt=at,rt=Object(i.h)((function(e){var t=e.uid,a=e.history,c=Object(m.a)(e,["uid","history"]),o=Object(n.useState)(null),i=Object(s.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){null===l&&Object(B.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he.blog.profile(t).then((function(e){u(e.data())})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))()}),[t,l]);return r.a.createElement("div",{className:"feed-avatar"},null!==l&&r.a.createElement("div",{className:"user",onClick:function(){a.push("/blog/"+t)}},r.a.createElement("img",{src:l.profile,alt:"avatar"}),r.a.createElement("h2",null,tt.clean(l.name))),r.a.createElement(at,c))})),ct=(a(281),function(){Object(l.b)().t;var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),i=Object(s.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),h=p[0],f=p[1];return Object(n.useEffect)((function(){Object(B.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.publish.get.feed(he.get.currentUser.user.uid);case 2:t=e.sent,a=[],t.forEach((function(e){var t=Object(J.a)({id:e.id},e.data());a.push(t)})),c(a);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){null===u&&h&&Object(B.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.blog.faves(he.get.currentUser.user.uid);case 2:t=e.sent,a=[],t.forEach((function(e){a.push(he.blog.get(e.id))})),Promise.all(a).then((function(e){d(e.reduce((function(e,t){return null!==t.data()&&void 0!==t.data()&&e.push(Object(J.a)({id:t.id},t.data())),e}),[]))}));case 6:case"end":return e.stop()}}),e)})))()}),[h,u]),r.a.createElement("div",{className:"feed-page"},r.a.createElement("div",{className:"feed-header"},r.a.createElement("div",{className:"icon"}),"EXPLORE",r.a.createElement("div",{className:h?"":"selected",onClick:f.bind(null,!1)},"PUBLIC"),r.a.createElement("div",{className:h?"selected":"",onClick:f.bind(null,!0)},"FAVES")),r.a.createElement("div",{className:"content"},h?(null!==u&&void 0!==u?u:[]).map((function(e){return r.a.createElement(rt,Object.assign({key:e.id,place:e.location},e))})):(null!==a&&void 0!==a?a:[]).map((function(e){return r.a.createElement(rt,Object.assign({key:e.id,place:e.location},e))}))))}),ot=a(154),it=a.n(ot),st=a(153),lt=a.n(st),ut=(a(282),function(){var e=Object(i.g)().userid,t=Object(l.b)().t,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],d=c[1],m=Object(n.useState)("ARCADIA"),p=Object(s.a)(m,2),h=p[0],f=p[1],b=Object(n.useState)("Just a boba girl in a boba world"),g=Object(s.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(he.get.currentUser.user.photoURL),k=Object(s.a)(O,2),N=k[0],S=k[1],y=Object(n.useState)(he.get.currentUser.user.displayName),j=Object(s.a)(y,2),M=j[0],D=j[1],w=Object(n.useState)(JSON.parse(localStorage.getItem("metrics"))),I=Object(s.a)(w,2),T=I[0],x=I[1];Object(n.useEffect)((function(){Object(B.a)(G.a.mark((function t(){var a,n,r,c,o,i,s,l;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d([]),S(lt.a),D(""),t.next=5,he.blog.stats(e);case 5:return o=t.sent,x(o.data()),t.next=9,he.blog.profile(e);case 9:return i=(i=t.sent).data(),v(null!==(a=i.bio)&&void 0!==a?a:"Just a boba person in a boba world"),D(null!==(n=i.name)&&void 0!==n?n:"Boba Person"),S(null!==(r=i.profile)&&void 0!==r?r:""),f(null!==(c=i.location)&&void 0!==c?c:"Boba World"),t.next=17,he.publish.get.user(e);case 17:s=t.sent,l=[],s.forEach((function(e){var t=Object(J.a)({id:e.id},e.data());l.push(t)})),d(l);case 21:case"end":return t.stop()}}),t)})))()}),[e]);return r.a.createElement("div",{className:"blog-page"},r.a.createElement("div",{className:"blog-header"}," ",r.a.createElement("div",{className:"icon"}),"PUBLIC PROFILE PREVIEW"),r.a.createElement("div",{className:"user"},r.a.createElement("img",{src:N,alt:"avatar"}),r.a.createElement("h2",null,M)),r.a.createElement("div",{className:"profile"},r.a.createElement(it.a,{className:"icon"})," ",h,r.a.createElement("p",null,E)),r.a.createElement("div",{className:"stats"},r.a.createElement("p",null,"DRINKS THIS MONTH")," ",T.td,r.a.createElement("p",null,"DRINK AVERAGE")," ",t("$"),u.toMoney(T.ad),r.a.createElement("p",null,"MONTHLY TOTAL")," ",t("$"),u.toMoney(T.tc)),r.a.createElement("h2",{className:"review"}," ",r.a.createElement("span",null,"\u2605")," REVIEWS ",r.a.createElement("span",null,"\u2605")," "),r.a.createElement("div",{className:"content"},o.map((function(t){return r.a.createElement(nt,Object.assign({key:t.id,place:t.location},t),r.a.createElement("div",{className:"item-controls"},r.a.createElement("button",{onClick:function(){var a;a=t.id,X.a.fire({title:"Are you sure?",text:"Once you delete this you can't get it back!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&he.publish.delete(a).then(function(){var t=Object(B.a)(G.a.mark((function t(a){var n,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return X.a.fire("Deleted!","Your file has been deleted.","success"),t.next=3,he.publish.get.user(e);case 3:n=t.sent,r=[],n.forEach((function(e){var t=Object(J.a)({id:e.id},e.data());r.push(t)})),d(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){X.a.fire("Whoops!","Something went wrong while deleting","error")}))}))}},"DELETE")))}))))}),dt=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],m=Object(n.useState)(he.get.currentUser.drinkids),p=Object(s.a)(m,2),h=p[0],f=p[1];return r.a.createElement(i.a,{initialEntries:["/dash","/history","/feed","/blog"],initialIndex:0},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/dash"},r.a.createElement("img",{src:he.get.currentUser.user.photoURL,alt:"user settings",className:"avatar-button",onClick:d.bind(null,!0)}),r.a.createElement(Ne,null)),r.a.createElement(i.b,{exact:!0,path:"/history"},r.a.createElement(He,{drinkids:h,setDrinkids:f})),r.a.createElement(i.b,{exact:!0,path:"/feed"},r.a.createElement(ct,null)),r.a.createElement(i.b,{exact:!0,path:"/blog/:userid"},r.a.createElement(ut,null))),r.a.createElement(Ae,{open:a,setOpen:c,setDrinkids:f}),r.a.createElement(Ge,{open:u,setOpen:d}),r.a.createElement(fe,{add:a,toggleAdd:function(){c(!a)}}))},mt=Object(i.h)((function(e){var t=e.history;return Object(n.useEffect)((function(){he.init((function(e){t.push(e?"/app":"/login")})),console.log("v2.0.2")}),[t]),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"}),r.a.createElement(i.b,{path:"/login"},r.a.createElement(Xe,null)),r.a.createElement(i.b,{path:"/app"},r.a.createElement(dt,{location:t})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.isUpdateAvailable=new Promise((function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then((function(t){t.onupdatefound=function(){var a=t.installing;a.onstatechange=function(){switch(a.state){case"installed":navigator.serviceWorker.controller?e(!0):e(!1)}}}})).catch((function(e){return console.error("[SW ERROR]",e)}))}));var pt=a(321),ht=a(159),ft=Object(ht.a)({overrides:{MuiButton:{text:{backgroundColor:"#F68080",borderRadius:3,border:0,color:"white",height:30,padding:"0 30px",margin:"20px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, 0.3)",fontFamily:"Poppins",fontWeight:700,fontSize:14,"&:hover":{backgroundColor:"#FFDCDC"}}},MuiBottomNavigation:{root:{backgroundColor:"#FFAFA4"}},MuiBottomNavigationAction:{root:{color:"#000000"},iconOnly:{color:"#FF0000"},wrapper:{color:"#FFFFFF "}},MuiDialogActions:{action:{color:"#FFFFFF"}}},palette:{primary:{main:"#F68080",light:"#FFDCDC",contrastText:"#FFFFFF"},secondary:{main:"#FFFFFF",contrastText:"#F68080"}}}),bt=(a(283),a(160)),gt=a(106),Et={en:gt,"en-US":gt,"en-GB":a(155),es:a(156),zh:a(157),"zh-TW":a(158)};De.a.use(bt.a).use(l.a).init({resources:Et,detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});De.a;o.a.render(r.a.createElement(pt.a,{theme:ft},r.a.createElement(i.a,{basename:"",initialEntries:["/","/login","/app"],initialIndex:0},r.a.createElement(mt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[175,1,2]]]);
//# sourceMappingURL=main.185d5a51.chunk.js.map