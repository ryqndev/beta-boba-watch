(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/logo-shadow.0824830a.svg"},112:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE","EXPLORE":"EXPLORE","PUBLIC":"PUBLIC","FAVES":"FAVES"}}')},152:function(e){e.exports=JSON.parse('{"themeName":"Light","themeStyles":{"--bg-primary":"white","--bg-secondary":"white","--bg-border":"#FFDCDC","--bg-blend":"linear-gradient(180deg, #FC8A8A 0%, #FFD3B3 100%)","--dash-blend":"#FFD3B3","--avatar-border":"white","--text-primary":"white","--text-secondary":"black","--text-light":"#FFC9C2","--text-accent":"#F68080","--btn-bg":"#F68080","--btn-text":"white","--nav-bg":"#FFAFA4","--nav-text":"white","--blog-text-primary":"#F68080","--blog-bg-secondary":"#F68080","--blog-accent":"#F68080","--blog-bg-primary":"#FFAFA4","--logout-btn":"#FF0000","--history-summary":"black","--add-header":"#FFF1EF","--dash-bg-secondary":"#F68080","--dash-text-secondary":"#FFFFFF"}}')},153:function(e){e.exports=JSON.parse('{"themeName":"Dark","themeStyles":{"--bg-primary":"#161C26","--bg-secondary":"#161C26","--bg-border":"#7F91A8","--bg-blend":"linear-gradient(180deg, #050505 0%, #050505 100%)","--dash-blend":"#151515","--avatar-border":"#151515","--text-primary":"white","--text-secondary":"white","--text-light":"#151515","--text-accent":"#7F91A8","--btn-bg":"#F68080","--btn-text":"#151515","--nav-bg":"#050505","--nav-text":"#7F91A8","--blog-text-primary":"white","--blog-bg-secondary":"#101015","--blog-accent":"#7F91A8","--blog-bg-primary":"#050505","--logout-btn":"#7F91A8","--history-summary":"#7F91A8","--add-header":"#7F91A8","--dash-bg-secondary":"#0b0b0b","--dash-text-secondary":"#FFDCDC"}}')},163:function(e){e.exports=JSON.parse('{"translation":{"$":"\xa3","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},164:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"L\xcdMITE MENSUAL","REMAINING":"RESTANTE","Monthly Spending":"Gasto Mensual","This is how much you\u2019ve spent on drinks so far":"Esto es lo mucho que has gastado en bebidas hasta ahora","to your max number of drinks this month":"a su n\xfamero m\xe1ximo de bebidas este mes","drinks this month":"bebidas de este mes","Morning Purchases":"Compras Matutinas","Afternoon Purchases":"Compras por la Tarde","# of purchases":"# de compras","User Settings":"Configuraci\xf3n del Usuario","Monthly Spending Limit":"L\xedmite de Gastos Mensuales","Max of drinks / month":"Max de bebidas / mes","Share Profile":"Compartir Perfil","LOGOUT":"SALIR","UPDATE":"ACTUALIZAR","Add a purchase":"A\xf1adir una compra","Location":"Local","Drink Name":"Nombre de la Bebida","Price":"Precio","Date":"Fecha","Description":"Descripci\xf3n","ADD":"A\xd1ADIR","EDIT":"EDITAR","Please enter a valid price to add drink":"Por favor, introduzca un precio v\xe1lido para a\xf1adir la bebida","No drinks this month":"No hay bebidas este mes","Add a drink to start!":"\xa1A\xf1ade una bebida para empezar!","Monthly Total":"Gasto Mensual","Overall Spending":"Gasto Total","Complete Total":"Gasto Total","on":"","DELETE":"BORRAR"}}')},165:function(e){e.exports=JSON.parse('{"translation":{"$":"\xa5","MONTHLY LIMIT":"\u6bcf\u6708\u9650\u989d","REMAINING":"\u5269\u4f59\u7684","Monthly Spending":"\u6bcf\u6708\u652f\u51fa","This is how much you\u2019ve spent on drinks so far":"\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u662f\u60a8\u5728\u996e\u6599\u4e0a\u82b1\u8d39\u7684\u91d1\u989d","to your max number of drinks this month":"\u8fbe\u5230\u60a8\u672c\u6708\u996e\u6599\u7684\u6700\u5927\u6570\u91cf","drinks this month":"\u672c\u6708\u996e\u6599","Morning Purchases":"\u4e0a\u5348\u8d2d\u4e70","Afternoon Purchases":"\u4e0b\u5348\u8d2d\u4e70","# of purchases":"\u8d2d\u4e70\u6570\u91cf","User Settings":"\u7528\u6237\u8bbe\u7f6e","Monthly Spending Limit":"\u6bcf\u6708\u6d88\u8d39\u9650\u989d","Max of drinks / month":"\u996e\u6599\u9650\u91cf/\u6708","Share Profile":"\u5206\u4eab\u4e2a\u4eba\u8d44\u6599","LOGOUT":"\u9000\u51fa","UPDATE":"\u66f4\u65b0","Add a purchase":"\u6dfb\u52a0\u8d2d\u4e70","Location":"\u4f4d\u7f6e","Drink Name":"\u996e\u6599\u540d\u79f0","Price":"\u4ef7\u94b1","Date":"\u65e5\u671f","Description":"\u63cf\u8ff0","ADD":"\u52a0","EDIT":"\u7f16\u8f91","Please enter a valid price to add drink":"\u8bf7\u8f93\u5165\u6709\u6548\u4ef7\u683c\u4ee5\u6dfb\u52a0\u996e\u6599","No drinks this month":"\u672c\u6708\u6ca1\u6709\u996e\u6599","Add a drink to start!":"\u5f00\u59cb\u6dfb\u52a0\u996e\u6599!","Monthly Total":"\u6bcf\u6708\u603b\u8ba1","Overall Spending":"\u603b\u652f\u51fa","Complete Total":"\u5b8c\u6210\u603b\u6570","on":"\u5728","DELETE":"\u5220\u9664"}}')},166:function(e){e.exports=JSON.parse('{"translation":{"$":"NT$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month :(","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE"}}')},179:function(e,t,a){e.exports=a(283)},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},202:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},216:function(e,t,a){},218:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},261:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},277:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(16),c=a.n(l),o=a(19),i=a(6),s=a(326);var u={toMoney:function(e,t=!1){return t?parseInt(e/100):Number(e/100).toFixed(2)}},d=a(26),m=a(48);a(195);var p=e=>{let t=e.className,a=e.children,r=Object(m.a)(e,["className","children"]);return n.a.createElement("div",Object.assign({className:"card ".concat(t)},r),a)};a(196);var h=e=>{let t=e.className,a=void 0===t?"":t,r=e.children,l=e.open,c=Object(m.a)(e,["className","children","open"]);return n.a.createElement("div",Object.assign({className:"collapse ".concat(l?"open":""," ").concat(a)},c),r)};a(197);var b=({open:e,children:t})=>n.a.createElement("div",{className:"modal-backdrop "+(e?"open":"")},t);a(198);var g=e=>{let t=e.value,a=e.id,r=e.label;return n.a.createElement("span",{className:"text-input"+(0===t.length?"":" input--filled")},n.a.createElement("input",Object.assign({},e,{name:a})),n.a.createElement("label",{htmlFor:a},n.a.createElement("span",null,r)))},f=a(137),v=a(320),E=a(325),O=a(140),y=a.n(O);a(202);var S=({className:e="",text:t})=>{const a=Object(r.useState)(!1),l=Object(i.a)(a,2),c=l[0],o=l[1];return n.a.createElement("div",{className:"clipboard ".concat(e)},n.a.createElement("div",{className:"clipboard-text",id:"copy-me"},t),n.a.createElement(f.CopyToClipboard,{text:t},n.a.createElement(v.a,{style:{padding:0},className:"clipboard-icon",onClick:()=>{navigator.share?navigator.share({title:"My Boba Watch Profile",text:"Check out my boba spending!",url:t}).catch(e=>{o(!0)}):o(!0)}},n.a.createElement(y.a,{style:{fontSize:14}}))),n.a.createElement(E.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:4e3,onClose:()=>{o(!c)},message:n.a.createElement("span",null,"Link Copied!")}))};a(205);var N=({options:e,defaultValue:t,title:a,onValueChange:l=(()=>{})})=>{const c=Object(r.useState)(t),o=Object(i.a)(c,2),s=o[0],u=o[1];return n.a.createElement("div",{className:"user-theme-select"},n.a.createElement("label",null,a),n.a.createElement("select",{className:"select-wrapper",value:s,onChange:e=>{u(e.target.value),l(e.target.value)}},e.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.label))))},k=(a(206),a(143));var j=({placeholder:e="How can I help you today?",data:t=[],keys:a=[],Result:l})=>{const c=Object(r.useState)(""),o=Object(i.a)(c,2),s=o[0],u=o[1],d=Object(r.useState)([]),m=Object(i.a)(d,2),p=m[0],h=m[1],b=new k.a(t,{includeMatches:!0,distance:100,maxPatternLength:30,minMatchCharLength:1,keys:a});return Object(r.useEffect)(()=>{let e=b.search(s);h(e)},[s,t,t.length]),n.a.createElement("div",{className:"search-wrapper"},n.a.createElement("input",{type:"text",value:s,placeholder:e,onChange:e=>{u(e.target.value)}}),n.a.createElement("div",{className:"results"},p.map(e=>n.a.createElement(l,Object.assign({key:e.item.id},e)))))},w=a(33),A=a(147),M=a.n(A),x=a(144),D=a.n(x),I=a(146),T=a.n(I),C=a(145),L=a.n(C),P=a(148),U=a.n(P),F=a(18),R=a(7),J=a.n(R),B=a(15),G=a(8),H=a.n(G);a(211),a(101);function W(){let e={td:0,tc:0,ad:0,d:Array(7)};for(let t=0;t<7;t++)e.d[t]=Array(24).fill(0);return e}function Y(e,t,a=!0){let r=a?1:-1;t.td+=r,t.tc+=parseFloat(e.price)*r,t.ad=parseFloat(t.tc)/parseFloat(t.td);let n=new Date(e.date);t.d[n.getDay()][n.getHours()-1]+=r}var $={getDefaultMetrics:W,recalculateMetrics:function(e){let t=W(),a=W(),r=new Date,n=r.getMonth(),l=r.getFullYear();return e.forEach(e=>{let r=JSON.parse(localStorage.getItem(e)),c=new Date(r.date);c.getMonth()===n&&c.getFullYear()===l&&Y(r,t),Y(r,a)}),localStorage.setItem("metrics",JSON.stringify(t)),localStorage.setItem("completeMetrics",JSON.stringify(a)),t},updateMetrics:Y,addDrink:function(e,t,a){let r=JSON.parse(localStorage.getItem("metrics")),n=JSON.parse(localStorage.getItem("completeMetrics"));a.length?function e(t,a,r,n,l){if(l<=n)return r.splice(a<new Date(JSON.parse(localStorage.getItem(r[n])).date)?n+1:n,0,t);let c=parseInt((l-n)/2+n),o=new Date(JSON.parse(localStorage.getItem(r[c])).date);return a.getTime()===o.getTime()?r.splice(c+1,0,t):a<o?e(t,a,r,c+1,l):e(t,a,r,n,c-1)}(t,new Date(e.date),a,0,a.length-1):a.push(t),Y(e,r),Y(e,n),localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem("metrics",JSON.stringify(r)),localStorage.setItem("completeMetrics",JSON.stringify(n))},deleteDrink:function(e,t){let a=JSON.parse(localStorage.getItem("metrics")),r=JSON.parse(localStorage.getItem("completeMetrics")),n=JSON.parse(localStorage.getItem(e)),l=new Date,c=l.getMonth(),o=l.getFullYear(),i=new Date(n.date);i.getMonth()===c&&i.getFullYear()===o&&Y(n,a,!1),Y(n,r,!1);let s=t.indexOf(e);s>-1&&t.splice(s,1),localStorage.removeItem(e),localStorage.setItem("metrics",JSON.stringify(a)),localStorage.setItem("completeMetrics",JSON.stringify(r))},resetMonthly:function(e){let t=W(),a=new Date,r=a.getMonth(),n=a.getFullYear();return e.forEach(e=>{let a=JSON.parse(localStorage.getItem(e)),l=new Date(a.date);if(l.getMonth()!==r||l.getFullYear()!==n)return localStorage.setItem("metrics",JSON.stringify(t)),t;Y(a,t)}),localStorage.setItem("metrics",JSON.stringify(t)),t}},z=a(22),V=a.n(z);let K;H.a.initializeApp({apiKey:"AIzaSyBePNJQYVteyh1Ll9fqnXbXc-S8fmJlbTQ",authDomain:"boba-watch-firebase.firebaseapp.com",databaseURL:"https://boba-watch-firebase.firebaseio.com",projectId:"boba-watch-firebase",storageBucket:"",messagingSenderId:"674375234614",appId:"1:674375234614:web:fdaf98c291204b9c"});const X={budget:1e4,limit:15,sharing:!1},Z={currentUser:{user:void 0,profile:void 0,drinkids:void 0,theme:void 0}};window.userstuff=Z;const Q=()=>{},q=e=>{V.a.fire("Error!",e+"","error")};const _=function(){var e=Object(B.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users/".concat(Z.currentUser.user.uid,"/blog")).doc("user").set({location:"US",name:Z.currentUser.user.displayName,profile:Z.currentUser.user.photoURL}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("blogs").doc(t).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=e=>{let t=[];e.forEach(e=>{let a=Object(F.a)({id:e.id},e.data().drink);localStorage.setItem(e.id,JSON.stringify(a)),t.push(e.id)}),Z.currentUser.drinkids=t,$.recalculateMetrics(t)},ae=e=>{var t,a,r;let n=null===e||void 0===e?void 0:e.data();void 0!==(null===(t=n)||void 0===t?void 0:t.budget)&&void 0!==(null===(a=n)||void 0===a?void 0:a.limit)&&void 0!==(null===(r=n)||void 0===r?void 0:r.sharing)||(n=X),Z.currentUser.profile=n},re=function(){var e=Object(B.a)(J.a.mark((function e(t=X){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users").doc(Z.currentUser.user.uid).collection("user").doc("profile").set(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(B.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users").doc(Z.currentUser.user.uid).collection("user").doc("profile").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=(e,t=Q)=>{K.collection("users").doc(Z.currentUser.user.uid).collection("user").doc("stats").set(e).then(e=>{t(e)}).catch(e=>{V.a.fire("Error!","".concat(e),"error"),t(e)})},ce=function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users/".concat(Z.currentUser.user.uid,"/drinks")).add(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(B.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users/".concat(Z.currentUser.user.uid,"/drinks")).doc(a).set(t));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users/".concat(t,"/blog")).doc("user").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(B.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,a=Object(m.a)(t,["id"]),e.abrupt("return",K.collection("blogs").add(Object(F.a)({uid:Z.currentUser.user.uid,likes:0},a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("blogs").where("uid","==",t).orderBy("date","desc").limit(6).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("blogs").orderBy("date","desc").limit(10).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("blogs").doc(t).delete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var pe={init:e=>{K=H.a.firestore(),K.enablePersistence().catch(e=>{console.error(e)});let t=JSON.parse(localStorage.getItem("user"));if(null!==t)return Z.currentUser=t,e(Z.currentUser.user);H.a.auth().onAuthStateChanged(t=>{var a,r,n,l;if(!t)return e(t);Z.currentUser.user={displayName:t.displayName,uid:t.uid,photoURL:t.photoURL,isAnonymous:t.isAnonymous,email:t.email,emailVerified:t.emailVerified,created:null===t||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.creationTime,lastSignedIn:null===t||void 0===t||null===(r=t.metadata)||void 0===r?void 0:r.lastSignInTime};let c=[K.collection("users/".concat(Z.currentUser.user.uid,"/drinks")).orderBy("drink.date","desc").get(),(null===t||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.creationTime)===(null===t||void 0===t||null===(l=t.metadata)||void 0===l?void 0:l.lastSignInTime)?re(X):ne(),_()];Promise.all(c).then(([a,r])=>{te(a),ae(r),localStorage.setItem("user",JSON.stringify(Z.currentUser)),e(t)}).catch(q)})},logout:()=>{H.a.auth().signOut().then((function(){let e=localStorage.getItem("theme");localStorage.clear(),localStorage.setItem("theme",e),window.location.reload()})).catch(q)},user:{get:ne,update:({sharing:e,budget:t,limit:a},r=Q)=>{let n={sharing:e,budget:t,limit:a};if(_(),isNaN(n.budget)||isNaN(n.limit))return V.a.fire("Oops...","Please enter valid numbers","error");re(n).then(()=>{V.a.fire("Success!","Your settings have been updated","success"),r(n)})},updateStats:(e=Q)=>{let t=JSON.parse(localStorage.getItem("metrics")),a=JSON.parse(localStorage.getItem("completeMetrics"));delete t.d,t.ctd=a.td,t.ctc=a.tc,t.cad=a.ad,t.d=JSON.stringify(a.d),t.fn=Z.currentUser.user.displayName,le(t,e)}},get:Z,drinks:{add:ce,update:oe,delete:(e,t=Q)=>{K.collection("users/".concat(Z.currentUser.user.uid,"/drinks")).doc(e).delete().then(()=>{V.a.fire("Done!","Drink has been deleted","success"),t()}).catch(e=>{V.a.fire("Error!","Couldn't delete your drink. Try again later!","error")})}},blog:{profile:ie,like:function(){var e=Object(B.a)(J.a.mark((function e(t,a){var r,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H.a.firestore.FieldValue.increment(a?1:-1),n=K.collection("users/".concat(Z.currentUser.user.uid,"/user/profile/liked")),a?n.doc(t).set({}):n.doc(t).delete(),e.abrupt("return",K.collection("blogs").doc(t).update({likes:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),faves:function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users/".concat(t,"/user/profile/liked")).limit(6).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:ee,stats:function(){var e=Object(B.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.collection("users").doc(t).collection("user").doc("stats").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},publish:{add:se,get:{user:ue,feed:de},delete:me}};a(216);var he=Object(o.h)(({history:e})=>{const t=Object(r.useState)(e.location.pathname),a=Object(i.a)(t,2),l=a[0],c=a[1];Object(r.useEffect)(()=>{c(e.location.pathname)},[e.location.pathname]);const o=e=>e===l?" selected":"";return n.a.createElement("nav",null,n.a.createElement(w.a,{to:"/dash"},n.a.createElement("div",{className:"icon"+o("/dash")},n.a.createElement(D.a,null),n.a.createElement("p",{className:"label"},"home"))),n.a.createElement(w.a,{to:"/history"},n.a.createElement("div",{className:"icon"+o("/history")},n.a.createElement(L.a,null),n.a.createElement("p",{className:"label"},"history"))),n.a.createElement(w.a,{to:"/add"},n.a.createElement("div",{className:"add-icon"+o("/add")},n.a.createElement(T.a,{style:{fontSize:50}}))),n.a.createElement(w.a,{to:"/feed"},n.a.createElement("div",{className:"icon"+o("/feed")},n.a.createElement(M.a,null),n.a.createElement("p",{className:"label"},"feed"))),n.a.createElement(w.a,{to:"/blog/"+pe.get.currentUser.user.uid},n.a.createElement("div",{className:"icon"+o("/blog/"+pe.get.currentUser.user.uid)},n.a.createElement(U.a,null),n.a.createElement("p",{className:"label"},"blog"))))});a(102);const be=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ge=["1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 AM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM","12 PM"];var fe=({data:e,width:t})=>n.a.createElement(p,{className:"daily-chart"},n.a.createElement(d.h,{xType:"ordinal",yType:"ordinal",margin:60,width:t,height:1.8*t},n.a.createElement(d.g,{orientation:"top"}),n.a.createElement(d.i,null),n.a.createElement(d.b,{colorType:"literal",style:{stroke:"white",strokeWidth:"0px",rectStyle:{rx:0,ry:0}},data:(e=>{let t=[],a=[];e.forEach(e=>{a.push(Math.max.apply(null,e))});let r=Math.max.apply(null,a);return e.forEach((e,a)=>{e.forEach((e,n)=>{t.push({x:be[a],y:ge[n],color:"rgba(246, 128, 128, ".concat(0===e?.1:e/r,")")})})}),t})(e)})));a(218);let ve=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var Ee=({width:e,data:t})=>{const a=Object(s.a)().t,l=Object(r.useState)([]),c=Object(i.a)(l,2),o=c[0],u=c[1],m=Object(r.useState)([]),h=Object(i.a)(m,2),b=h[0],g=h[1];return Object(r.useEffect)(()=>{let e=[],a=[];t.forEach((t,r)=>{let n=0,l=0;t.forEach((e,t)=>{t>=11?l+=e:n+=e}),e.push({x:ve[r],y:n}),a.push({x:ve[r],y:l}),u(e),g(a)})},[t,u,g]),n.a.createElement(p,{className:"time-bar-graph--holder"},n.a.createElement(d.h,{width:e-40,height:300,stackBy:"y",xType:"ordinal"},n.a.createElement(d.f,null),n.a.createElement(d.c,null),n.a.createElement(d.g,null),n.a.createElement(d.i,{title:a("# of purchases")}),n.a.createElement(d.e,{color:"#FFACAC",data:o}),n.a.createElement(d.e,{color:"#FFDCDC",data:b})),n.a.createElement(d.a,{style:{textAlign:"center"},orientation:"horizontal",items:[{title:a("Morning Purchases"),color:"#FFACAC",strokeWidth:5},{title:a("Afternoon Purchases"),color:"#FFDCDC",strokeWidth:5}]}))};var Oe=({spent:e,budget:t,width:a})=>{const r=a-45,l={size:0,color:"transparent",children:[{title:"Progress",size:e,color:"#f68080",children:[{title:"Padding",size:0,color:"transparent"}]},{title:"Until Limit",size:t-e,color:"#00000044"}]};return n.a.createElement("div",null,n.a.createElement(d.d,{height:r,width:r,data:l,padAngle:.06,animation:!0,colorType:"literal"}))};a(222);var ye=()=>{const e=Object(s.a)().t,t=Object(r.useState)(JSON.parse(localStorage.getItem("metrics"))),a=Object(i.a)(t,1)[0],l=Object(r.useState)(JSON.parse(localStorage.getItem("completeMetrics"))),c=Object(i.a)(l,1)[0],o=Object(r.useState)(parseInt(a.td/pe.get.currentUser.profile.limit*100)),d=Object(i.a)(o,1)[0],m=Object(r.useState)(window.innerWidth-40),h=Object(i.a)(m,2),b=h[0],g=h[1],f=pe.get.currentUser.profile.budget,v=()=>{g(window.innerWidth-40)};return Object(r.useEffect)(()=>{$.resetMonthly(pe.get.currentUser.drinkids)},[]),Object(r.useEffect)(()=>(window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[g]),n.a.createElement("div",{className:"dashboard-page"},n.a.createElement("h4",{className:"bw title"},e("Monthly Spending")),n.a.createElement(p,{id:"chart-holder"},n.a.createElement("div",{className:"description"},e("MONTHLY LIMIT"),": ",e("$"),u.toMoney(f,f/1e4>1),n.a.createElement("br",null),n.a.createElement("span",null,e("$"),u.toMoney(a.tc,a.tc/1e4>1)),n.a.createElement("br",null),e("REMAINING"),": ",e("$"),u.toMoney(f-a.tc)),n.a.createElement(Oe,{budget:f,spent:a.tc,width:b})),n.a.createElement(p,{className:"budget"},n.a.createElement("p",null,e("This is how much you\u2019ve spent on drinks so far"),":"),n.a.createElement("h2",{className:"bw"},e("$"),u.toMoney(c.tc,c.tc/1e4>1))),n.a.createElement(p,{className:"limit",style:{backgroundPositionY:2.7*(100-d)}},n.a.createElement("h3",{className:"bw"},d,"%"),n.a.createElement("p",null,e("to your max number of drinks this month"))),n.a.createElement(p,{className:"total"},n.a.createElement("h2",{className:"bw"},a.td),n.a.createElement("p",null,e("drinks this month"))),n.a.createElement(fe,{data:c.d,width:b}),n.a.createElement(Ee,{width:b,data:c.d}))},Se=a(167),Ne=a(113),ke=a(52);const je=function(){var e=Object(B.a)(J.a.mark((function e(t){var a,r,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.drinks.add(t);case 3:return a=e.sent,e.next=6,a.get();case 6:return r=e.sent,n=Object(F.a)({id:r.id},r.data().drink),e.abrupt("return",Ae(n));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Me(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(B.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.drinks.update(t,a);case 3:return $.deleteDrink(a,pe.get.currentUser.drinkids),e.abrupt("return",Ae(Object(F.a)({id:a},t.drink),!0));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Me(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Ae=(e,t=!1)=>($.addDrink(e,e.id,pe.get.currentUser.drinkids),pe.user.updateStats(),localStorage.setItem("user",JSON.stringify(pe.get.currentUser)),V.a.fire(ke.a.t("Done!"),ke.a.t(t?"Drink updated":"Drink added"),"success"),!0),Me=e=>(V.a.fire(ke.a.t("Oops...!"),ke.a.t("Something went wrong"),"error"),console.error(e),!1);var xe=a(84),De=a.n(xe);function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ce=n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"white"});const Le=e=>{let t=e.svgRef,a=e.title,r=Te(e,["svgRef","title"]);return n.a.createElement("svg",Ie({viewBox:"0 0 11 11",fill:"none",ref:t},r),a?n.a.createElement("title",null,a):null,Ce)},Pe=n.a.forwardRef((e,t)=>n.a.createElement(Le,Ie({svgRef:t},e)));a.p;function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Re=n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"white"});const Je=e=>{let t=e.svgRef,a=e.title,r=Fe(e,["svgRef","title"]);return n.a.createElement("svg",Ue({viewBox:"0 0 11 11",fill:"none",ref:t},r),a?n.a.createElement("title",null,a):null,Re)},Be=n.a.forwardRef((e,t)=>n.a.createElement(Je,Ue({svgRef:t},e)));a.p,a(223);var Ge=({pageTitle:e,buttonTitle:t,editData:a})=>{var l,c,o,u,d,m;const h=Object(s.a)().t,b=Object(r.useState)(null!==(l=null===a||void 0===a?void 0:a.name)&&void 0!==l?l:""),f=Object(i.a)(b,2),v=f[0],E=f[1],O=Object(r.useState)(null!==(c=null===a||void 0===a?void 0:a.location)&&void 0!==c?c:""),y=Object(i.a)(O,2),S=y[0],N=y[1],k=Object(r.useState)(null!==(o=null===a||void 0===a?void 0:a.price)&&void 0!==o?o:""),j=Object(i.a)(k,2),w=j[0],A=j[1],M=Object(r.useState)(null!==(u=null===a||void 0===a?void 0:a.date)&&void 0!==u?u:new Date),x=Object(i.a)(M,2),D=x[0],I=x[1],T=Object(r.useState)(null!==(d=null===a||void 0===a?void 0:a.rating)&&void 0!==d?d:0),C=Object(i.a)(T,2),L=C[0],P=C[1],U=Object(r.useState)(null!==(m=null===a||void 0===a?void 0:a.description)&&void 0!==m?m:""),F=Object(i.a)(U,2),R=F[0],G=F[1],H=Object(r.useState)(!0),W=Object(i.a)(H,2),Y=W[0],$=W[1];Object(r.useEffect)(()=>{var e,t,r,n,l;E(null!==(e=null===a||void 0===a?void 0:a.name)&&void 0!==e?e:""),N(null!==(t=null===a||void 0===a?void 0:a.location)&&void 0!==t?t:""),A(null==(null===a||void 0===a?void 0:a.price)?"":a.price/100),I(null!==(r=null===a||void 0===a?void 0:a.date)&&void 0!==r?r:new Date),P(null!==(n=null===a||void 0===a?void 0:a.rating)&&void 0!==n?n:0),G(null!==(l=null===a||void 0===a?void 0:a.description)&&void 0!==l?l:"")},[a]);const z=e=>t=>{t.preventDefault(),t.target.value.length>=80||e(t.target.value)},K=function(){var e=Object(B.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(!1),t={drink:{name:v,location:S,price:parseInt(100*parseFloat(w)),date:new Date(D).toISOString(),description:R,rating:L}},!isNaN(t.drink.price)){e.next=6;break}return V.a.fire("Oops...",h("Please enter a valid price to add drink"),"error"),$(!0),e.abrupt("return");case 6:if(void 0!==(null===a||void 0===a?void 0:a.id)&&null!==(null===a||void 0===a?void 0:a.id)){e.next=11;break}return e.next=9,je(t);case 9:e.next=13;break;case 11:return e.next=13,we(t,a.id);case 13:E(""),N(""),A(""),I(new Date),P(0),G(""),$(!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"add-modal"},n.a.createElement("h4",{className:"bw title"},h(null!==e&&void 0!==e?e:"Add a Purchase")),n.a.createElement(p,{className:"add-holder"},n.a.createElement("h5",null,h("WHAT'S THE TEA?")),n.a.createElement("div",{className:"content"},n.a.createElement(g,{value:S,onChange:z(N),label:h("Location"),id:"location-input"}),n.a.createElement(g,{value:v,onChange:z(E),label:h("Drink Name"),id:"name-input"}),n.a.createElement(g,{value:w,onChange:e=>{e.target.value.match(/^-?\d*\.?\d*$/)&&A(e.target.value)},label:h("Price"),id:"name-input",type:"text"}),n.a.createElement(Ne.b,{utils:Se.a},n.a.createElement(Ne.a,{id:"date-value",className:"add-input",margin:"dense",format:"M/d/yyyy h:mm a",label:h("Date"),value:D,onChange:e=>{I(e)},inputProps:{maxLength:100}}))),n.a.createElement("div",{className:"rating-holder"},n.a.createElement("div",{className:"rating-select"},n.a.createElement("p",null,"RATING :"),n.a.createElement(De.a,{name:"rating",starCount:5,value:L,renderStarIcon:(e,t)=>e<=t?n.a.createElement(Be,null):n.a.createElement(Pe,null),onStarClick:e=>{P(e)},onStarHover:e=>{P(e)}}))),n.a.createElement("div",{className:"content"},n.a.createElement("textarea",{value:R,rows:10,onChange:(X=G,e=>{e.preventDefault(),e.target.value.length>=300||X(e.target.value)}),id:"description-input",placeholder:h("How was your drink?")}),n.a.createElement("div",{className:"add-button-holder"},n.a.createElement("button",{disabled:!Y,id:"add-drink--button",onClick:K,className:"text"},h(null!==t&&void 0!==t?t:"ADD"))))));var X};var He=Object(o.h)(({match:e})=>{const t=Object(r.useState)(null),a=Object(i.a)(t,2),l=a[0],c=a[1];return Object(r.useEffect)(()=>{c(JSON.parse(localStorage.getItem(e.params.userid)))},[e.params.userid]),Object(r.useEffect)(()=>{console.log("edit data",l)},[l]),n.a.createElement(Ge,{pageTitle:"Edit a Purchase",buttonTitle:"UPDATE",editData:l})}),We=a(154),Ye=a.n(We);const $e=[a(152),a(153)],ze=[{value:0,label:"default"},{value:1,label:"dark"}],Ve=e=>{localStorage.setItem("theme",e);let t=$e[e].themeStyles;for(let a in t)document.documentElement.style.setProperty(a,t[a])},Ke=()=>{var e;return Number(null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:0)};var Xe=()=>{Ve(Ke())};a(261),a(262);var Ze=({open:e,setOpen:t})=>{var a,l,c;const o=Object(s.a)().t,u=Object(r.useState)((null!==(a=pe.get.currentUser.profile.budget)&&void 0!==a?a:1e4)/100),d=Object(i.a)(u,2),m=d[0],p=d[1],h=Object(r.useState)(null!==(l=pe.get.currentUser.profile.limit)&&void 0!==l?l:15),f=Object(i.a)(h,2),v=f[0],E=f[1],O=Object(r.useState)(null!==(c=pe.get.currentUser.profile.sharing)&&void 0!==c&&c),y=Object(i.a)(O,2),S=y[0],k=y[1],j=e=>t=>{e(t.target.value)},w=()=>{t(!1),p(pe.get.currentUser.profile.budget/100),E(pe.get.currentUser.profile.limit),k(pe.get.currentUser.profile.sharing)};return n.a.createElement(b,{open:e},n.a.createElement("div",{className:"user-modal"},n.a.createElement("button",{className:"close-button",onClick:w},n.a.createElement(Ye.a,null)),n.a.createElement("img",{src:pe.get.currentUser.user.photoURL,className:"avatar",alt:"user"}),n.a.createElement("h1",null,o("User Settings")),n.a.createElement(g,{id:"monthly-spending-input",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",variant:"outlined",margin:"normal",onChange:j(p),value:m,label:o("Monthly Spending Limit")}),n.a.createElement(g,{id:"monthly-drinking-limit",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",margin:"dense",variant:"outlined",onChange:j(E),value:v,label:o("Max of drinks / month")}),n.a.createElement(N,{options:ze,defaultValue:Ke(),title:"Theme:",onValueChange:e=>{Ve(e)}}),n.a.createElement("div",{className:"button-holder"},n.a.createElement("button",{className:"logout text",onClick:pe.logout},o("LOGOUT")),n.a.createElement("button",{className:"update",onClick:()=>{let e={budget:100*parseFloat(m),limit:parseInt(v),sharing:S};pe.user.update(e,()=>{pe.get.currentUser.profile=e,localStorage.setItem("user",JSON.stringify(pe.get.currentUser)),w()})}},o("UPDATE")))))},Qe=a(155),qe=a.n(Qe),_e=a(156),et=a.n(_e);a(263);var tt=Object(o.h)(({data:e,history:t,triggerUpdate:a})=>{const l=Object(s.a)().t,c=Object(r.useState)(!1),o=Object(i.a)(c,2),d=o[0],m=o[1],p=Object(r.useState)(!0),h=Object(i.a)(p,2),b=h[0],g=h[1],f=()=>{$.deleteDrink(e.id,pe.get.currentUser.drinkids),localStorage.setItem("user",JSON.stringify(pe.get.currentUser)),pe.user.updateStats(),a([...pe.get.currentUser.drinkids])},v=function(){var t=Object(B.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!1),t.prev=1,t.next=4,pe.publish.add(e);case 4:V.a.fire("Success!","Drink published on your blog!","success"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),g(!0),V.a.fire("Error!",t.t0+"","error");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),E=new Date(e.date).toDateString();return n.a.createElement("div",{className:"drink-panel"},n.a.createElement("div",{className:"info",onClick:()=>{m(!d)}},n.a.createElement("p",{className:"place"},e.location),n.a.createElement("p",{className:"price"},l("$"),u.toMoney(e.price)),n.a.createElement("div",{className:"expand-icon"},d?n.a.createElement(qe.a,null):n.a.createElement(et.a,null)),n.a.createElement("p",{className:"name"},e.name),n.a.createElement("p",{className:"time"},E.substr(4))),n.a.createElement("div",{className:"collapsed-info"+(d?" expanded":"")},n.a.createElement("p",{className:"label"},e.name,n.a.createElement("br",null),n.a.createElement("span",null,"@",e.location)),n.a.createElement("p",{className:"description"},e.description),n.a.createElement("p",{className:"date"},n.a.createElement("span",null,l("on"))," ",E),n.a.createElement("div",{className:"options"},n.a.createElement("button",{className:"text",onClick:v,disabled:!b},l("PUBLISH")),n.a.createElement("button",{className:"text",onClick:()=>{t.push("/edit/"+e.id)}},l("EDIT")),n.a.createElement("button",{className:"text",onClick:()=>{pe.drinks.delete(e.id,f)}},l("DELETE")))))});a(264);const at=({click:e})=>n.a.createElement("div",{className:"thaman-color"},n.a.createElement("div",{className:"history-load-more",onClick:e},"\u2022 \u2022 \u2022")),rt=({label:e})=>{const t=Object(s.a)().t;return n.a.createElement("div",{className:"thaman-color"},n.a.createElement("h3",{className:"bw"},t(e)))};var nt=({drinkids:e})=>{const t=Object(s.a)().t,a=Object(r.useState)([n.a.createElement(rt,{key:1,label:"No drinks this month"})]),l=Object(i.a)(a,2),c=l[0],o=l[1],d=Object(r.useState)([n.a.createElement(rt,{key:1,label:"Add a drink to start!"})]),m=Object(i.a)(d,2),p=m[0],h=m[1],b=Object(r.useState)({complete:5,recent:7}),g=Object(i.a)(b,2),f=g[0],v=g[1],E=Object(r.useState)([]),O=Object(i.a)(E,2),y=O[0],S=O[1],N=Object(r.useState)(e),k=Object(i.a)(N,2),w=k[0],A=k[1],M=Number(JSON.parse(localStorage.getItem("metrics")).tc),x=Number(JSON.parse(localStorage.getItem("completeMetrics")).tc);Object(r.useEffect)(()=>{A(e)},[e]),Object(r.useEffect)(()=>{let e=[],t=[],a=[],r=new Date,l=r.getMonth(),c=r.getFullYear(),i=f.complete,s=f.recent;w.forEach(r=>{let o=JSON.parse(localStorage.getItem(r));a.push(o);let u=new Date(o.date),d=u.getMonth()===l&&u.getFullYear()===c;d&&s>0?(e.push(n.a.createElement(tt,{triggerUpdate:A,key:o.id,data:o})),s--):!d&&i>0&&(t.push(n.a.createElement(tt,{triggerUpdate:A,key:o.id,data:o})),i--)}),s<=0&&e.push(n.a.createElement(at,{key:"load",click:()=>{v(Object(F.a)(Object(F.a)({},f),{},{recent:f.recent+10}))}})),i<=0&&t.push(n.a.createElement(at,{key:"load",click:()=>{v(Object(F.a)(Object(F.a)({},f),{},{complete:f.complete+10}))}})),o(e),h(t),S(a)},[w.length,w,f,f.recent,f.complete]);return n.a.createElement("div",{className:"history-page"},n.a.createElement("h3",{className:"bw",onClick:()=>{console.log(e,w)}},t("Drink History")),n.a.createElement(j,{placeholder:t("Search your history..."),data:y,keys:["description","location","name","price"],Result:({item:e,matches:t})=>n.a.createElement(tt,{triggerUpdate:A,data:e})}),n.a.createElement("h3",{className:"bw"},t("Monthly Spending")),n.a.createElement("div",{className:"history-spending"},c),n.a.createElement("h3",{className:"bw history-total"},n.a.createElement("span",null,t("Monthly Total"),":")," ",t("$"),u.toMoney(M)),n.a.createElement("h3",{className:"bw"},t("Overall Spending")),n.a.createElement("div",{className:"history-spending"},p),n.a.createElement("h3",{className:"bw history-total"},n.a.createElement("span",null,t("Complete Total"),":")," ",t("$"),u.toMoney(x)))},lt=a(110);a(271);const ct={fontFamily:"Poppins",fontWeight:700,color:"white",fontSize:44,marginBottom:20};var ot=()=>(Object(r.useEffect)(()=>{(lt.a.AuthUI.getInstance()||new lt.a.AuthUI(H.a.auth())).start("#auth-container",{signInOptions:[H.a.auth.GoogleAuthProvider.PROVIDER_ID,H.a.auth.FacebookAuthProvider.PROVIDER_ID]})}),n.a.createElement("div",{className:"login-page"},n.a.createElement("div",{className:"login-logo"}),n.a.createElement("h1",{style:ct},"boba watch"),n.a.createElement("div",{id:"auth-container"})));function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ut=n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"#F68080"});const dt=e=>{let t=e.svgRef,a=e.title,r=st(e,["svgRef","title"]);return n.a.createElement("svg",it({viewBox:"0 0 11 11",fill:"none",ref:t},r),a?n.a.createElement("title",null,a):null,ut)},mt=n.a.forwardRef((e,t)=>n.a.createElement(dt,it({svgRef:t},e)));a.p;function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ht(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var bt=n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"#F68080"});const gt=e=>{let t=e.svgRef,a=e.title,r=ht(e,["svgRef","title"]);return n.a.createElement("svg",pt({viewBox:"0 0 11 11",fill:"none",ref:t},r),a?n.a.createElement("title",null,a):null,bt)},ft=n.a.forwardRef((e,t)=>n.a.createElement(gt,pt({svgRef:t},e)));a.p;var vt=a(160),Et=a.n(vt),Ot=a(159),yt=a.n(Ot),St=a(158);let Nt=new(a.n(St).a);const kt=({id:e,name:t,place:a,price:l,date:c,description:o,likes:d,rating:m,children:h})=>{const b=Object(s.a)().t,g=Object(r.useState)(!1),f=Object(i.a)(g,2),v=f[0],E=f[1],O=Object(r.useState)(d),y=Object(i.a)(O,2),S=y[0],N=y[1];return n.a.createElement(p,{className:"feed-item"},n.a.createElement("div",{className:"header"},n.a.createElement("span",null,Nt.clean(t)),n.a.createElement("p",{className:"favorite-amount"},(null!==S&&void 0!==S?S:0)>999?(S/100>>0)+"k":null!==S&&void 0!==S?S:0),n.a.createElement("div",{className:"favorite",onClick:()=>{pe.blog.like(e,!v).then(()=>{N(S+(v?-1:1)),E(!v)})}},v?n.a.createElement(yt.a,null):n.a.createElement(Et.a,null))),n.a.createElement("div",{className:"item-content"},n.a.createElement("p",{className:"location"},Nt.clean(a)),n.a.createElement("p",{className:"price"},b("$"),u.toMoney(l)),null!==m&&void 0!==m&&n.a.createElement("div",{className:"ratings-holder"},n.a.createElement(De.a,{name:"rating",starCount:5,value:m,renderStarIcon:(e,t)=>e<=t?n.a.createElement(ft,null):n.a.createElement(mt,null)})),n.a.createElement("p",{className:"date"},new Date(c).toDateString()),n.a.createElement("p",{className:"description"},Nt.clean(o)),h))};var jt=kt;const wt=Object(o.h)(e=>{var t,a;let l=e.uid,c=e.history,o=Object(m.a)(e,["uid","history"]);const s=Object(r.useState)(null),u=Object(i.a)(s,2),d=u[0],p=u[1];Object(r.useEffect)(()=>{null===d&&Object(B.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe.blog.profile(l).then(e=>{p(e.data())}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})))()},[l,d]);return n.a.createElement("div",{className:"feed-avatar"},n.a.createElement("div",{className:"user",onClick:()=>{c.push("/blog/"+l)}},n.a.createElement("img",{src:null!==(t=null===d||void 0===d?void 0:d.profile)&&void 0!==t?t:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",alt:"avatar"}),n.a.createElement("h2",null,Nt.clean(null!==(a=null===d||void 0===d?void 0:d.name)&&void 0!==a?a:"Boba Bro"))),n.a.createElement(kt,o))});a(277);var At=()=>{const e=Object(s.a)().t,t=Object(r.useState)(null),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(r.useState)(null),u=Object(i.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),h=Object(i.a)(p,2),b=h[0],g=h[1];return Object(r.useEffect)(()=>{Object(B.a)(J.a.mark((function e(){var t,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.publish.get.feed(pe.get.currentUser.user.uid);case 2:t=e.sent,a=[],t.forEach(e=>{let t=Object(F.a)({id:e.id},e.data());a.push(t)}),c(a);case 6:case"end":return e.stop()}}),e)})))()},[]),Object(r.useEffect)(()=>{null===d&&b&&Object(B.a)(J.a.mark((function e(){var t,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.blog.faves(pe.get.currentUser.user.uid);case 2:t=e.sent,a=[],t.forEach(e=>{a.push(pe.blog.get(e.id))}),Promise.all(a).then(e=>{m(e.reduce((e,t)=>(null!==t.data()&&void 0!==t.data()&&e.push(Object(F.a)({id:t.id},t.data())),e),[]))});case 6:case"end":return e.stop()}}),e)})))()},[b,d]),n.a.createElement("div",{className:"feed-page"},n.a.createElement("div",{className:"feed-header"},n.a.createElement("div",{className:"icon"}),e("EXPLORE"),n.a.createElement("div",{className:b?"":"selected",onClick:g.bind(null,!1)},e("PUBLIC")),n.a.createElement("div",{className:b?"selected":"",onClick:g.bind(null,!0)},e("FAVES"))),n.a.createElement("div",{className:"content"},b?(null!==d&&void 0!==d?d:[]).map(e=>n.a.createElement(wt,Object.assign({key:e.id,place:e.location},e))):(null!==l&&void 0!==l?l:[]).map(e=>n.a.createElement(wt,Object.assign({key:e.id,place:e.location},e)))))},Mt=a(161),xt=a.n(Mt),Dt=a(162),It=a.n(Dt),Tt=a(111),Ct=a.n(Tt);a(281);var Lt=()=>{const e=Object(o.g)().userid,t=Object(s.a)().t,a=Object(r.useState)([]),l=Object(i.a)(a,2),c=l[0],d=l[1],m=Object(r.useState)("ARCADIA"),p=Object(i.a)(m,2),b=p[0],g=p[1],f=Object(r.useState)("Just a boba girl in a boba world"),v=Object(i.a)(f,2),E=v[0],O=v[1],y=Object(r.useState)(pe.get.currentUser.user.photoURL),N=Object(i.a)(y,2),k=N[0],j=N[1],w=Object(r.useState)(pe.get.currentUser.user.displayName),A=Object(i.a)(w,2),M=A[0],x=A[1],D=Object(r.useState)(JSON.parse(localStorage.getItem("metrics"))),I=Object(i.a)(D,2),T=I[0],C=I[1],L=Object(r.useState)(!1),P=Object(i.a)(L,2),U=P[0],R=P[1],G=Object(r.useState)(pe.get.currentUser.profile.sharing),H=Object(i.a)(G,2),W=H[0],Y=H[1];Object(r.useEffect)(()=>{R(e===pe.get.currentUser.user.uid),Object(B.a)(J.a.mark((function t(){var a,r,n,l,c,o,i,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d([]),j(Ct.a),x("Loading..."),t.prev=3,t.next=6,pe.blog.stats(e);case 6:return c=(c=t.sent).data(),C(c),t.next=11,pe.blog.profile(e);case 11:return o=(o=t.sent).data(),O(null!==(a=o.bio)&&void 0!==a?a:"Just a boba person in a boba world"),x(null!==(r=o.name)&&void 0!==r?r:"Boba Person"),j(null!==(n=o.profile)&&void 0!==n?n:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),g(null!==(l=o.location)&&void 0!==l?l:"Boba World"),t.next=19,pe.publish.get.user(e);case 19:i=t.sent,s=[],i.forEach(e=>{let t=Object(F.a)({id:e.id},e.data());s.push(t)}),d(s),t.next=32;break;case 25:t.prev=25,t.t0=t.catch(3),O("This person does not exist. This could either be an error, a bug, or more likely, the user has privated their profile."),x("Who dis?"),j(Ct.a),g("Not in Boba World :("),C({ad:0,cad:0,ctc:0,ctd:0,d:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",fn:"Who dis?",tc:0,td:0});case 32:case"end":return t.stop()}}),t,null,[[3,25]])})))()},[e]);const $=t=>{V.a.fire({title:"Are you sure?",text:"Once you delete this you can't get it back!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.value&&pe.publish.delete(t).then(function(){var t=Object(B.a)(J.a.mark((function t(a){var r,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V.a.fire("Deleted!","Your file has been deleted.","success"),t.next=3,pe.publish.get.user(e);case 3:r=t.sent,n=[],r.forEach(e=>{let t=Object(F.a)({id:e.id},e.data());n.push(t)}),d(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e=>{V.a.fire("Whoops!","Something went wrong while deleting","error")})})};return n.a.createElement("div",{className:"blog-page"},n.a.createElement("div",{className:"blog-header"}," ",n.a.createElement("div",{className:"icon"}),"PUBLIC PROFILE PREVIEW"),n.a.createElement("div",{className:"user"},n.a.createElement("img",{src:k,alt:"avatar"}),n.a.createElement("h2",null,M)),n.a.createElement("div",{className:"profile"},n.a.createElement(It.a,{className:"icon"})," ",b,n.a.createElement("p",null,E),U&&n.a.createElement("div",{className:"user-share "},n.a.createElement("div",{className:"user-share-profile"},t("make profile public"),":",n.a.createElement(xt.a,{defaultChecked:W,onClick:()=>{(e=>{let t=pe.get.currentUser.profile;pe.user.update(Object(F.a)(Object(F.a)({},t),{},{sharing:!t.sharing}),()=>{t.sharing=!t.sharing,e(t.sharing)})})(Y)},label:t("make profile public")}),n.a.createElement(h,{className:"user-share-toggle-grid",open:W},n.a.createElement(S,{text:"https://share.boba.watch/#/".concat(pe.get.currentUser.user.uid)}))))),n.a.createElement("div",{className:"stats"},n.a.createElement("p",null,"DRINKS PURCHASED")," ",T.ctd,n.a.createElement("p",null,"DRINK AVERAGE")," ",t("$"),u.toMoney(T.cad),n.a.createElement("p",null,"TOTAL SPENT")," ",t("$"),u.toMoney(T.ctc)),n.a.createElement("h2",{className:"review"}," ",n.a.createElement("span",null,"\u2605")," REVIEWS ",n.a.createElement("span",null,"\u2605")," "),n.a.createElement("div",{className:"content"},c.map(e=>n.a.createElement(jt,Object.assign({key:e.id,place:e.location},e),U&&n.a.createElement("div",{className:"item-controls"},n.a.createElement("button",{onClick:()=>{$(e.id)}},"DELETE"))))))};const Pt=()=>{const e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(pe.get.currentUser.drinkids),s=Object(i.a)(c,2),u=s[0],d=s[1];return n.a.createElement(o.a,{initialEntries:["/dash","/history","/add","/feed","/blog"],initialIndex:0},n.a.createElement(o.d,null,n.a.createElement(o.b,{exact:!0,path:"/dash"},n.a.createElement(Ut,{setUser:l}),n.a.createElement(ye,null)),n.a.createElement(o.b,{exact:!0,path:"/history"},n.a.createElement(Ut,{setUser:l}),n.a.createElement(nt,{drinkids:u})),n.a.createElement(o.b,{exact:!0,path:"/add"},n.a.createElement(Ut,{setUser:l}),n.a.createElement(Ge,{setDrinkids:d})),n.a.createElement(o.b,{exact:!0,path:"/edit/:userid"},n.a.createElement(Ut,{setUser:l}),n.a.createElement(He,null)),n.a.createElement(o.b,{exact:!0,path:"/feed"},n.a.createElement(At,null)),n.a.createElement(o.b,{exact:!0,path:"/blog/:userid"},n.a.createElement(Lt,null))),n.a.createElement(Ze,{open:a,setOpen:l}),n.a.createElement(he,null))},Ut=({setUser:e})=>n.a.createElement("img",{src:pe.get.currentUser.user.photoURL,alt:"user settings",className:"avatar-button",onClick:e.bind(null,!0)});var Ft=Object(o.h)(({history:e})=>(Object(r.useEffect)(()=>{Xe(),pe.init(t=>{e.push(t?"/app":"/login")}),console.log("v2.0.4")},[e]),n.a.createElement(o.d,null,n.a.createElement(o.b,{exact:!0,path:"/"}),n.a.createElement(o.b,{path:"/login"},n.a.createElement(ot,null)),n.a.createElement(o.b,{path:"/app"},n.a.createElement(Pt,{location:e})))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.isUpdateAvailable=new Promise((function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(t=>{t.onupdatefound=()=>{const a=t.installing;a.onstatechange=()=>{switch(a.state){case"installed":navigator.serviceWorker.controller?e(!0):e(!1)}}}}).catch(e=>console.error("[SW ERROR]",e))}));a(282);var Rt=a(168),Jt=a(68),Bt=a(112);const Gt={en:Bt,"en-US":Bt,"en-GB":a(163),es:a(164),zh:a(165),"zh-TW":a(166)};ke.a.use(Rt.a).use(Jt.e).init({resources:Gt,detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});ke.a;c.a.render(n.a.createElement(o.a,{basename:"",initialEntries:["/","/login","/app"],initialIndex:0},n.a.createElement(Ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[179,1,2]]]);
//# sourceMappingURL=main.9c797b52.chunk.js.map