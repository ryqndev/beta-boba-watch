(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[0],{105:function(e,t,a){},122:function(e){e.exports=JSON.parse('{"themeName":"Light","themeStyles":{"--bg-primary":"white","--bg-secondary":"white","--bg-border":"#FFDCDC","--bg-blend":"linear-gradient(180deg, #FC8A8A 0%, #FFD3B3 100%)","--dash-blend":"#FFD3B3","--avatar-border":"white","--text-primary":"white","--text-secondary":"black","--text-light":"#FFC9C2","--text-accent":"#F68080","--btn-bg":"#F68080","--btn-text":"white","--nav-bg":"#FFAFA4","--nav-text":"white","--blog-text-primary":"#F68080","--blog-bg-secondary":"#F68080","--blog-accent":"#F68080","--blog-bg-primary":"#FFAFA4","--logout-btn":"#FF0000","--history-summary":"black","--add-header":"#FFF1EF","--dash-bg-secondary":"#F68080","--dash-text-secondary":"#FFFFFF"}}')},123:function(e){e.exports=JSON.parse('{"themeName":"Dark","themeStyles":{"--bg-primary":"#161C26","--bg-secondary":"#161C26","--bg-border":"#7F91A8","--bg-blend":"linear-gradient(180deg, #050505 0%, #050505 100%)","--dash-blend":"#151515","--avatar-border":"#151515","--text-primary":"white","--text-secondary":"white","--text-light":"#151515","--text-accent":"#7F91A8","--btn-bg":"#F68080","--btn-text":"#151515","--nav-bg":"#050505","--nav-text":"#7F91A8","--blog-text-primary":"white","--blog-bg-secondary":"#101015","--blog-accent":"#7F91A8","--blog-bg-primary":"#050505","--logout-btn":"#7F91A8","--history-summary":"#7F91A8","--add-header":"#7F91A8","--dash-bg-secondary":"#0b0b0b","--dash-text-secondary":"#FFDCDC"}}')},132:function(e){e.exports=JSON.parse('{"translation":{"$":"$","MONTHLY LIMIT":"MONTHLY LIMIT","REMAINING":"REMAINING","Monthly Spending":"Monthly Spending","This is how much you\u2019ve spent on drinks so far":"This is how much you\u2019ve spent on drinks so far","to your max number of drinks this month":"to your max number of drinks this month","drinks this month":"drinks this month","Morning Purchases":"Morning Purchases","Afternoon Purchases":"Afternoon Purchases","# of purchases":"# of purchases","User Settings":"User Settings","Monthly Spending Limit":"Monthly Spending Limit","Max of drinks / month":"Max of drinks / month","Share Profile":"Share Profile","LOGOUT":"LOGOUT","UPDATE":"UPDATE","Add a purchase":"Add a purchase","Location":"Location","Drink Name":"Drink Name","Price":"Price","Date":"Date","Description":"Description","ADD":"ADD","EDIT":"EDIT","Please enter a valid price to add drink":"Please enter a valid price to add drink","No drinks this month":"No drinks this month","Add a drink to start!":"Add a drink to start!","Monthly Total":"Monthly Total","Overall Spending":"Overall Spending","Complete Total":"Complete Total","on":"on","DELETE":"DELETE","EXPLORE":"EXPLORE","PUBLIC":"PUBLIC","FAVES":"FAVES"}}')},150:function(e,t,a){e.exports=a(236)},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},173:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){var n={"./autofill.png":198,"./edit.png":199,"./feed.png":200,"./manage.png":201,"./profiles.png":202,"./publish.png":203,"./rating.png":204,"./save.png":205,"./search.png":206,"./theme.png":207};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=197},198:function(e,t,a){e.exports=a.p+"static/media/autofill.85d9666b.png"},199:function(e,t,a){e.exports=a.p+"static/media/edit.d523bea9.png"},200:function(e,t,a){e.exports=a.p+"static/media/feed.eb218b0b.png"},201:function(e,t,a){e.exports=a.p+"static/media/manage.2da3077e.png"},202:function(e,t,a){e.exports=a.p+"static/media/profiles.93e705b0.png"},203:function(e,t,a){e.exports=a.p+"static/media/publish.81095bde.png"},204:function(e,t,a){e.exports=a.p+"static/media/rating.c15a9421.png"},205:function(e,t,a){e.exports=a.p+"static/media/save.bebf26fa.png"},206:function(e,t,a){e.exports=a.p+"static/media/search.56bf0450.png"},207:function(e,t,a){e.exports=a.p+"static/media/theme.930bbdf7.png"},208:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=a(22),o=a(9),s=a(26),u=a(276);function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var a=parseInt(e/100);return isNaN(a)?"---":a}var n=Number(e/100).toFixed(2);return isNaN(n)?"---":n}var m=a(28),p=a(38),f=(a(166),function(e){var t=e.className,a=e.children,n=Object(p.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:"card ".concat(t)},n),a)}),h=(a(167),function(e){var t=e.className,a=void 0===t?"":t,n=e.children,c=e.open,i=Object(p.a)(e,["className","children","open"]);return r.a.createElement("div",Object.assign({className:"collapse ".concat(c?"open":""," ").concat(a)},i),n)}),b=a(272),v=(a(168),function(e){var t=e.open,a=e.setOpen,c=e.children,i=Object(n.useRef)(null);return r.a.createElement(b.a,{in:t,timeout:100,classNames:"fade-quick"},r.a.createElement("div",{className:"modal-backdrop "+(t?"open":""),onClick:function(e){i.current&&i.current===e.target&&a(!1)},ref:i},c))}),g=(a(169),function(e){var t=e.value,a=e.id,n=e.label,c=e.autoFocus;return r.a.createElement("span",{className:"text-input"+(0===t.length?"":" input--filled")},r.a.createElement("input",Object.assign({},e,{autoComplete:"off",autoFocus:null!==c&&void 0!==c&&c,name:a})),r.a.createElement("label",{htmlFor:a},r.a.createElement("span",null,n)))}),E=a(108),O=a(111),y=a.n(O),w=(a(173),a(8)),k=a.n(w),N=a(13),j=a(20),S=a.n(j),x=a(14),C=a(12),A=a.n(C),D=(a(82),a(83),a(106),a(86)),I=a(275),U=a(266);A.a.initializeApp({apiKey:"AIzaSyBePNJQYVteyh1Ll9fqnXbXc-S8fmJlbTQ",authDomain:"boba-watch-firebase.firebaseapp.com",databaseURL:"https://boba-watch-firebase.firebaseio.com",projectId:"boba-watch-firebase",storageBucket:"boba-watch-firebase.appspot.com",messagingSenderId:"674375234614",appId:"1:674375234614:web:fdaf98c291204b9c",measurementId:"G-C2DYVHCWDR"});var L,F=A.a.analytics(),P=D.a.AuthUI.getInstance()||new D.a.AuthUI(A.a.auth());(L=A.a.firestore()).enablePersistence().catch((function(e){console.error(e)}));var M=function(){A.a.auth().signOut().then((function(){F.logEvent("logout");var e=localStorage.getItem("theme");localStorage.clear(),localStorage.setItem("theme",e),window.location.reload()})).catch(V)},T=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("blogs").doc(t).delete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(t,"/user")).doc("stats").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(t,"/blog")).doc("user").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(N.a)(k.a.mark((function e(t){var a,n,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:1,n=r.length>2&&void 0!==r[2]?r[2]:0,e.abrupt("return",L.collection("users/".concat(t,"/user/profile/liked")).orderBy("liked").startAfter(n).limit(a).get());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"N/A";F.logEvent("exception",{description:e})},W=function(){S.a.fire(x.a.t("Oops..."),x.a.t("Please enter valid numbers"),"error")},H=function(e){Y(e),console.log("Please copy this error and send to ".concat("ryanqyang@gmail.com"),e),S.a.fire(x.a.t("Oops..."),x.a.t("Couldn't delete your drink. Try again later!"),"error")},V=function(e){Y(e),console.log("Please copy this error and send to ".concat("ryanqyang@gmail.com"),e),S.a.fire(x.a.t("Oops..."),x.a.t("Something went wrong..."),"error")},$=function(){S.a.fire(x.a.t("Success!"),x.a.t("Your settings have been updated"),"success")},q=function(){S.a.fire(x.a.t("Deleted!"),x.a.t("Drink has been deleted"),"success")},G=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.fire({title:x.a.t("Edit bio"),input:"textarea",inputPlaceholder:x.a.t("About me..."),inputAttributes:{maxLength:350}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.fire({title:x.a.t("Change location"),input:"text",inputPlaceholder:x.a.t("Where I am now..."),inputAttributes:{maxLength:20}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.fire({title:x.a.t("Are you sure?"),text:x.a.t("Once you delete this you can't get it back!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:x.a.t("Yes, delete it!")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){var t=e.className,a=void 0===t?"":t,n=e.text;return r.a.createElement("div",{className:"clipboard ".concat(a)},r.a.createElement("div",{className:"clipboard-text",id:"copy-me"},n),r.a.createElement(E.CopyToClipboard,{text:n},r.a.createElement("button",{className:"clipboard-icon",onClick:function(){navigator.share?navigator.share({title:"My Boba Watch Profile",text:"Check out my boba spending!",url:n}).catch((function(e){})):S.a.fire(x.a.t("Link Copied!"),x.a.t(""),"success")}},r.a.createElement(y.a,{style:{fontSize:14}}))))},X=(a(186),a(134)),Q=function(e){var t=e.placeholder,a=void 0===t?"How can I help you today?":t,c=e.data,i=void 0===c?[]:c,l=e.keys,s=void 0===l?[]:l,u=e.Result,d=Object(n.useState)(""),m=Object(o.a)(d,2),p=m[0],f=m[1],h=Object(n.useState)([]),b=Object(o.a)(h,2),v=b[0],g=b[1],E=new X.a(i,{includeMatches:!0,distance:100,maxPatternLength:30,minMatchCharLength:1,keys:s});return Object(n.useEffect)((function(){var e=E.search(p);g(e.slice(0,20))}),[p,i,i.length]),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("input",{type:"text",value:p,placeholder:a,onChange:function(e){f(e.target.value)}}),r.a.createElement("div",{className:"results"},v.map((function(e){return r.a.createElement(u,Object.assign({key:e.item.id},e))}))))},Z=a(116),ee=a.n(Z),te=a(113),ae=a.n(te),ne=a(115),re=a.n(ne),ce=a(114),ie=a.n(ce),le=a(117),oe=a.n(le),se=a(17);function ue(){for(var e={td:0,tc:0,ad:0,d:Array(7)},t=0;t<7;t++)e.d[t]=Array(24).fill(0);return e}function de(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=a?1:-1;t.td+=n,t.tc+=parseFloat(e.price)*n,t.ad=parseFloat(t.tc)/parseFloat(t.td);var r=new Date(e.date);t.d[r.getDay()][r.getHours()-1]+=n}var me={getDefaultMetrics:ue,recalculateMetrics:function(e){var t=ue(),a=ue(),n=new Date,r=n.getMonth(),c=n.getFullYear();return e.forEach((function(e){var n=JSON.parse(localStorage.getItem(e)),i=new Date(n.date);i.getMonth()===r&&i.getFullYear()===c&&de(n,t),de(n,a)})),localStorage.setItem("metrics",JSON.stringify(t)),localStorage.setItem("completeMetrics",JSON.stringify(a)),t},updateMetrics:de,addDrink:function(e,t,a){var n=JSON.parse(localStorage.getItem("metrics")),r=JSON.parse(localStorage.getItem("completeMetrics")),c=new Date,i=c.getMonth(),l=c.getFullYear(),o=new Date(e.date);a.length?function e(t,a,n,r,c){if(c<=r)return n.splice(a<new Date(JSON.parse(localStorage.getItem(n[r])).date)?r+1:r,0,t);var i=parseInt((c-r)/2+r),l=new Date(JSON.parse(localStorage.getItem(n[i])).date);return a.getTime()===l.getTime()?n.splice(i+1,0,t):a<l?e(t,a,n,i+1,c):e(t,a,n,r,i-1)}(t,o,a,0,a.length-1):a.push(t),o.getMonth()===i&&o.getFullYear()===l&&de(e,n),de(e,r),localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem("metrics",JSON.stringify(n)),localStorage.setItem("completeMetrics",JSON.stringify(r))},deleteDrink:function(e,t){var a=JSON.parse(localStorage.getItem("metrics")),n=JSON.parse(localStorage.getItem("completeMetrics")),r=JSON.parse(localStorage.getItem(e)),c=new Date,i=c.getMonth(),l=c.getFullYear(),o=new Date(r.date);o.getMonth()===i&&o.getFullYear()===l&&de(r,a,!1),de(r,n,!1);var s=t.indexOf(e);s>-1&&t.splice(s,1),localStorage.removeItem(e),localStorage.setItem("metrics",JSON.stringify(a)),localStorage.setItem("completeMetrics",JSON.stringify(n))},resetMonthly:function(e){var t=ue(),a=new Date,n=a.getMonth(),r=a.getFullYear();return e.forEach((function(e){var a=JSON.parse(localStorage.getItem(e)),c=new Date(a.date);if(c.getMonth()!==n||c.getFullYear()!==r)return localStorage.setItem("metrics",JSON.stringify(t)),t;de(a,t)})),localStorage.setItem("metrics",JSON.stringify(t)),t}},pe=new(a(112).a)("blogposts");pe.version(1).stores({blogposts:"&id, uid, date, likes, location, name, price, fave, edited, published"});var fe=function(e){return pe.blogposts.put(Object(se.a)(Object(se.a)({},e),{},{published:new A.a.firestore.Timestamp(e.published.seconds,e.published.nanoseconds).toDate().toString()}))},he=function(e){return pe.blogposts.delete(e.id)},be=function(e){return new Promise((function(t){pe.blogposts.get(e,(function(e){t(e)}))}))},ve=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){pe.blogposts.toArray((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge={budget:1e4,limit:15,sharing:!1},Ee={ad:0,cad:0,ctc:0,ctd:0,d:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",fn:"Who dis?",tc:0,td:0},Oe="Boba World",ye="Boba Lover",we="Just a boba person in a boba world",ke="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ne={currentUser:{user:void 0,profile:void 0,drinkids:void 0}},je=function(){},Se=function(){!function e(t){B(Ne.currentUser.user.uid,1,t).then((function(t){var a=t.docs[0];void 0!==a&&be(a.id).then((function(t){t||(fe(Object(se.a)({id:a.id},a.data())),e(a))}))}))}(0)},xe=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(t,"/drinks")).orderBy("drink.date","desc").get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e){return(null===e||void 0===e?void 0:e.creationTime)===(null===e||void 0===e?void 0:e.lastSignInTime)?Le():Fe()},Ae=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(Ne.currentUser.user.uid,"/blog")).doc("user").set({name:Ne.currentUser.user.displayName,profile:Ne.currentUser.user.photoURL},{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(e){var t=[];e.forEach((function(e){localStorage.setItem(e.id,JSON.stringify(Object(se.a)({id:e.id},e.data().drink))),t.push(e.id)})),Ne.currentUser.drinkids=t,me.recalculateMetrics(t)},Ie=function(e){var t=null===e||void 0===e?void 0:e.data();void 0===(null===t||void 0===t?void 0:t.budget)&&(t.budget=1e4),void 0===(null===t||void 0===t?void 0:t.limit)&&(t.limit=15),void 0===(null===t||void 0===t?void 0:t.sharing)&&(t.sharing=void 0!==(null===t||void 0===t?void 0:t.public)&&t.public),Ne.currentUser.profile=t},Ue=function(e){var t,a,n=null!==(t=null===e||void 0===e||null===(a=e.data())||void 0===a?void 0:a.data)&&void 0!==t?t:"[]";localStorage.setItem("autofill",n)},Le=function(){var e=Object(N.a)(k.a.mark((function e(){var t,a=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:ge,e.abrupt("return",L.collection("users").doc(Ne.currentUser.user.uid).collection("user").doc("profile").set(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users").doc(Ne.currentUser.user.uid).collection("user").doc("profile").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;L.collection("users").doc(Ne.currentUser.user.uid).collection("user").doc("stats").set(e).then((function(e){t(e)})).catch((function(e){V(e),t(e)}))},Me=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(Ne.currentUser.user.uid,"/drinks")).add(Object(se.a)({created:A.a.firestore.FieldValue.serverTimestamp(),edited:A.a.firestore.FieldValue.serverTimestamp()},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(N.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(Ne.currentUser.user.uid,"/drinks")).doc(a).set(Object(se.a)({edited:A.a.firestore.FieldValue.serverTimestamp()},t)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(Ne.currentUser.user.uid,"/user")).doc("autofill").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(Ne.currentUser.user.uid,"/user")).doc("autofill").set({data:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.collection("users/".concat(Ne.currentUser.user.uid,"/blog")).doc("user").update(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(N.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,a=Object(p.a)(t,["id"]),e.abrupt("return",L.collection("blogs").add(Object(se.a)({uid:Ne.currentUser.user.uid,likes:0,published:A.a.firestore.FieldValue.serverTimestamp(),edited:A.a.firestore.FieldValue.serverTimestamp()},a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We={init:function(e){A.a.auth().onAuthStateChanged((function(t){var a,n;if(!t)return e(t);F.logEvent("login");var r=JSON.parse(localStorage.getItem("user"));if(Ne.currentUser.user={displayName:t.displayName,uid:t.uid,photoURL:t.photoURL,isAnonymous:t.isAnonymous,email:t.email,emailVerified:t.emailVerified,created:null===t||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.creationTime,lastSignedIn:null===t||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.lastSignInTime},null!==r)return Se(),r.user=Ne.currentUser.user,Ne.currentUser=r,e(t);var c=[xe(t.uid),Ce(null===t||void 0===t?void 0:t.metadata),Ae(),Re()];Promise.all(c).then((function(a){var n=Object(o.a)(a,4),r=n[0],c=n[1],i=(n[2],n[3]);De(r),Ie(c),Ue(i),localStorage.setItem("user",JSON.stringify(Ne.currentUser)),e(t)})).catch(V)}))},user:{get:Fe,update:function(e){var t=e.sharing,a=e.budget,n=e.limit,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je,c={sharing:t,budget:a,limit:n};if(Ae(),isNaN(c.budget)||isNaN(c.limit))return W();Le(c).then((function(){$(),r(c)}))},updateStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=JSON.parse(localStorage.getItem("metrics")),a=JSON.parse(localStorage.getItem("completeMetrics"));delete t.d,t.ctd=a.td,t.ctc=a.tc,t.cad=a.ad,t.d=JSON.stringify(a.d),t.fn=Ne.currentUser.user.displayName,Pe(t,e)},getAutofill:Re,setAutofill:Je},get:Ne,drinks:{add:Me,update:Te,delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;L.collection("users/".concat(Ne.currentUser.user.uid,"/drinks")).doc(e).delete().then((function(){q(),t()})).catch((function(e){H(e)}))}},blog:{setProfile:Be,like:function(){var e=Object(N.a)(k.a.mark((function e(t,a,n){var r,c,i,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.edited,r=Object(p.a)(a,["edited"]),c=L.batch(),i=L.collection("users/".concat(Ne.currentUser.user.uid,"/user/profile/liked")).doc(t),l=A.a.firestore.FieldValue.increment(n?1:-1),c.update(L.collection("blogs").doc(t),{likes:l}),n?c.set(i,Object(se.a)({liked:A.a.firestore.FieldValue.serverTimestamp()},r)):c.delete(i),e.abrupt("return",c.commit());case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},publish:Ye},He=(a(187),Object(l.h)((function(e){var t=e.history,a=Object(n.useState)(t.location.pathname),c=Object(o.a)(a,2),i=c[0],l=c[1],u=function(e){return e===i?" selected":""};return Object(n.useEffect)((function(){var e=t.location.pathname;l(e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";F.logEvent("page_view",{page_title:e,page_path:e})}(e)}),[t.location.pathname]),r.a.createElement("nav",null,r.a.createElement(s.b,{to:"/"},r.a.createElement("div",{className:"icon"+u("/")},r.a.createElement(ae.a,null),r.a.createElement("p",{className:"label"},"home"))),r.a.createElement(s.b,{to:"/history"},r.a.createElement("div",{className:"icon"+u("/history")},r.a.createElement(ie.a,null),r.a.createElement("p",{className:"label"},"history"))),r.a.createElement(s.b,{to:"/add"},r.a.createElement("div",{className:"add-icon"+u("/add")},r.a.createElement(re.a,{style:{fontSize:50}}))),r.a.createElement(s.b,{to:"/feed"},r.a.createElement("div",{className:"icon"+u("/feed")},r.a.createElement(ee.a,null),r.a.createElement("p",{className:"label"},"feed"))),r.a.createElement(s.b,{to:"/blog/"+We.get.currentUser.user.uid},r.a.createElement("div",{className:"icon"+u("/blog/"+We.get.currentUser.user.uid)},r.a.createElement(oe.a,null),r.a.createElement("p",{className:"label"},"blog"))))}))),Ve=(a(84),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),$e=["1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 AM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM","12 PM"],qe=function(e){var t=e.data,a=e.width;return r.a.createElement(f,{className:"daily-chart"},r.a.createElement(m.h,{xType:"ordinal",yType:"ordinal",margin:60,width:a,height:1.8*a},r.a.createElement(m.g,{orientation:"top"}),r.a.createElement(m.i,null),r.a.createElement(m.b,{colorType:"literal",style:{stroke:"white",strokeWidth:"0px",rectStyle:{rx:0,ry:0}},data:function(e){var t=[],a=[];e.forEach((function(e){a.push(Math.max.apply(null,e))}));var n=Math.max.apply(null,a);return e.forEach((function(e,a){e.forEach((function(e,r){t.push({x:Ve[a],y:$e[r],color:"rgba(246, 128, 128, ".concat(0===e?.1:e/n,")")})}))})),t}(t)})))},Ge=(a(189),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),ze=function(e){var t=e.width,a=e.data,c=Object(u.a)().t,i=Object(n.useState)([]),l=Object(o.a)(i,2),s=l[0],d=l[1],p=Object(n.useState)([]),h=Object(o.a)(p,2),b=h[0],v=h[1];return Object(n.useEffect)((function(){var e=[],t=[];a.forEach((function(a,n){var r=0,c=0;a.forEach((function(e,t){t>=11?c+=e:r+=e})),e.push({x:Ge[n],y:r}),t.push({x:Ge[n],y:c}),d(e),v(t)}))}),[a,d,v]),r.a.createElement(f,{className:"time-bar-graph--holder"},r.a.createElement(m.h,{width:t-40,height:300,stackBy:"y",xType:"ordinal"},r.a.createElement(m.f,null),r.a.createElement(m.c,null),r.a.createElement(m.g,null),r.a.createElement(m.i,{title:c("# of purchases")}),r.a.createElement(m.e,{color:"#FFACAC",data:s}),r.a.createElement(m.e,{color:"#FFDCDC",data:b})),r.a.createElement(m.a,{style:{textAlign:"center"},orientation:"horizontal",items:[{title:c("Morning Purchases"),color:"#FFACAC",strokeWidth:5},{title:c("Afternoon Purchases"),color:"#FFDCDC",strokeWidth:5}]}))},_e=function(e){var t=e.spent,a=e.budget,n=e.width-45,c={size:0,color:"transparent",children:[{title:"Progress",size:t,color:"#f68080",children:[{title:"Padding",size:0,color:"transparent"}]},{title:"Until Limit",size:a-t,color:"#00000044"}]};return r.a.createElement("div",null,r.a.createElement(m.d,{height:n,width:n,data:c,padAngle:.06,animation:!0,colorType:"literal"}))},Ke=(a(193),function(){var e=Object(u.a)().t,t=Object(n.useState)(JSON.parse(localStorage.getItem("metrics"))),a=Object(o.a)(t,1)[0],c=Object(n.useState)(JSON.parse(localStorage.getItem("completeMetrics"))),i=Object(o.a)(c,1)[0],l=Object(n.useState)(parseInt(a.td/We.get.currentUser.profile.limit*100)),s=Object(o.a)(l,1)[0],m=Object(n.useState)(window.innerWidth-40),p=Object(o.a)(m,2),h=p[0],b=p[1],v=We.get.currentUser.profile.budget,g=function(){b(window.innerWidth-40)};return Object(n.useEffect)((function(){me.resetMonthly(We.get.currentUser.drinkids)}),[]),Object(n.useEffect)((function(){return window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}}),[b]),r.a.createElement("div",{className:"dashboard-page"},r.a.createElement("h4",{className:"bw title"},e("Monthly Spending")),r.a.createElement(f,{id:"chart-holder"},r.a.createElement("div",{className:"description"},e("MONTHLY LIMIT"),": ",e("$"),d(v,v/1e4>1),r.a.createElement("br",null),r.a.createElement("span",null,e("$"),d(a.tc,a.tc/1e4>1)),r.a.createElement("br",null),e("REMAINING"),": ",e("$"),d(v-a.tc)),r.a.createElement(_e,{budget:v,spent:a.tc,width:h})),r.a.createElement(f,{className:"budget"},r.a.createElement("p",null,e("This is how much you\u2019ve spent on drinks so far"),":"),r.a.createElement("h2",{className:"bw"},e("$"),d(i.tc,i.tc/1e4>1))),r.a.createElement(f,{className:"limit",style:{backgroundPositionY:2.7*(100-s)}},r.a.createElement("h3",{className:"bw"},s,"%"),r.a.createElement("p",null,e("to your max number of drinks this month"))),r.a.createElement(f,{className:"total"},r.a.createElement("h2",{className:"bw"},a.td),r.a.createElement("p",null,e("drinks this month"))),r.a.createElement(qe,{data:i.d,width:h}),r.a.createElement(ze,{width:h,data:i.d}))}),Xe=a(31),Qe=a(133),Ze=a(24),et=a(270),tt=function(){var e=Object(N.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.drinks.add(t);case 3:return a=e.sent,e.next=6,a.get();case 6:return n=e.sent,r=Object(se.a)({id:n.id},n.data().drink),e.abrupt("return",nt(r));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",rt(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(N.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.drinks.update(t,a);case 3:return me.deleteDrink(a,We.get.currentUser.drinkids),e.abrupt("return",nt(Object(se.a)({id:a},t.drink),!0));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",rt(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return me.addDrink(e,e.id,We.get.currentUser.drinkids),We.user.updateStats(),localStorage.setItem("user",JSON.stringify(We.get.currentUser)),S.a.fire(x.a.t("Done!"),x.a.t(t?"Drink updated":"Drink added"),"success"),!0},rt=function(e){return S.a.fire(x.a.t("Oops...!"),x.a.t("Something went wrong"),"error"),console.error(e),!1},ct=a(70),it=a.n(ct);function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ot(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var st=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"white"}),ut=function(e){var t=e.svgRef,a=e.title,n=ot(e,["svgRef","title"]);return r.a.createElement("svg",lt({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,st)},dt=r.a.forwardRef((function(e,t){return r.a.createElement(ut,lt({svgRef:t},e))}));a.p;function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ft=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"white"}),ht=function(e){var t=e.svgRef,a=e.title,n=pt(e,["svgRef","title"]);return r.a.createElement("svg",mt({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,ft)},bt=r.a.forwardRef((function(e,t){return r.a.createElement(ht,mt({svgRef:t},e))})),vt=(a.p,a(72)),gt=(a(194),Object(l.h)((function(e){var t,a,c,i,l,s,d=e.pageTitle,m=e.buttonTitle,p=e.editData,h=e.history,b=Object(u.a)().t,v=Object(n.useState)(null!==(t=null===p||void 0===p?void 0:p.name)&&void 0!==t?t:""),E=Object(o.a)(v,2),O=E[0],y=E[1],w=Object(n.useState)(null!==(a=null===p||void 0===p?void 0:p.location)&&void 0!==a?a:""),j=Object(o.a)(w,2),C=j[0],A=j[1],D=Object(n.useState)(null!==(c=null===p||void 0===p?void 0:p.price)&&void 0!==c?c:""),I=Object(o.a)(D,2),U=I[0],L=I[1],F=Object(n.useState)(null!==(i=null===p||void 0===p?void 0:p.date)&&void 0!==i?i:new Date),P=Object(o.a)(F,2),M=P[0],T=P[1],R=Object(n.useState)(null!==(l=null===p||void 0===p?void 0:p.rating)&&void 0!==l?l:0),J=Object(o.a)(R,2),B=J[0],Y=J[1],W=Object(n.useState)(null!==(s=null===p||void 0===p?void 0:p.description)&&void 0!==s?s:""),H=Object(o.a)(W,2),$=H[0],q=H[1],G=Object(n.useState)([]),z=Object(o.a)(G,2),_=z[0],K=z[1],X=Object(n.useState)(!0),Q=Object(o.a)(X,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(!0),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){var e;K(JSON.parse(null!==(e=localStorage.getItem("autofill"))&&void 0!==e?e:"[]"))}),[]),Object(n.useEffect)((function(){var e,t,a,n,r;y(null!==(e=null===p||void 0===p?void 0:p.name)&&void 0!==e?e:""),A(null!==(t=null===p||void 0===p?void 0:p.location)&&void 0!==t?t:""),L(null==(null===p||void 0===p?void 0:p.price)?"":p.price/100),T(null!==(a=null===p||void 0===p?void 0:p.date)&&void 0!==a?a:new Date),Y(null!==(n=null===p||void 0===p?void 0:p.rating)&&void 0!==n?n:0),q(null!==(r=null===p||void 0===p?void 0:p.description)&&void 0!==r?r:"")}),[p]);var ce,ie=function(e){return function(t){t.preventDefault(),t.target.value.length>=80||e(t.target.value)}},le=function(){var e=Object(N.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ee(!1),a={drink:{name:O,location:C,price:parseInt(100*parseFloat(U)),date:new Date(M).toISOString(),description:$,rating:B}},!isNaN(a.drink.price)){e.next=7;break}return S.a.fire(x.a.t("Oops..."),x.a.t("Please enter a valid price to add drink"),"error"),ee(!0),e.abrupt("return");case 7:if(void 0!==(null===p||void 0===p?void 0:p.id)&&null!==(null===p||void 0===p?void 0:p.id)){e.next=12;break}return e.next=10,tt(a);case 10:e.next=14;break;case 12:return e.next=14,at(a,p.id);case 14:y(""),A(""),L(""),T(new Date),Y(0),q(""),re(!0),ee(!0),h.push("/history");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"add-modal"},r.a.createElement("h4",{className:"bw title"},b(null!==d&&void 0!==d?d:"Add a Purchase")),r.a.createElement(f,{className:"add-holder"},r.a.createElement("h5",null,b("WHAT'S THE TEA?")),r.a.createElement("div",{className:"content"},r.a.createElement("label",{className:"autofill-label"},"Autofill with saved entry:"),r.a.createElement(vt.a,{options:_,name:"autofill",onChange:function(e){S.a.fire({showCancelButton:!0,html:"use or remove entry? <br />(click outside to cancel)",cancelButtonText:"\ud83d\uddd1\ufe0f",confirmButtonText:"fill",cancelButtonColor:"#f44",reverseButtons:!0}).then((function(t){if(t.value)y(e.name),A(e.location),L(e.price/100),Y(e.rating),q(e.description);else if("cancel"===t.dismiss){var a=Object(Xe.a)(_);a.splice(a.findIndex((function(t){return t.value===e.value})),1),We.user.setAutofill(a).then((function(){localStorage.setItem("autofill",JSON.stringify(a)),K(a)})).catch(V)}}))},className:"autofill-select"}),r.a.createElement("div",{className:"autofill-divider"},"or add a new drink:"),r.a.createElement(g,{value:C,onChange:ie(A),label:b("Location"),id:"location-input"}),r.a.createElement(g,{value:O,onChange:ie(y),label:b("Drink Name"),id:"name-input"}),r.a.createElement(g,{value:U,onChange:function(e){e.target.value.match(/^-?\d*\.?\d*$/)&&e.target.value.length<8&&L(e.target.value)},label:b("Price"),id:"price-input",type:"text"}),r.a.createElement(Ze.a,{utils:Qe.a},r.a.createElement(et.a,{id:"date-value",className:"add-input",format:"M/d/yyyy h:mm",label:b("Date"),value:M,onChange:function(e){T(e)},inputProps:{maxLength:100}}))),r.a.createElement("div",{className:"rating-holder"},r.a.createElement("div",{className:"rating-select"},r.a.createElement("p",null,"RATING :"),r.a.createElement(it.a,{name:"rating",starCount:5,value:B,renderStarIcon:function(e,t){return e<=t?r.a.createElement(bt,null):r.a.createElement(dt,null)},onStarClick:function(e){Y(e)},onStarHover:function(e){Y(e)}}))),r.a.createElement("div",{className:"content"},r.a.createElement("textarea",{value:$,rows:10,onChange:(ce=q,function(e){e.preventDefault(),e.target.value.length>=300||ce(e.target.value)}),id:"description-input",placeholder:b("How was your drink?")}),r.a.createElement("div",{className:"add-button-holder"},r.a.createElement("button",{disabled:!ne,id:"save-drink--button",onClick:function(e){if(e.preventDefault(),""!==O){if(ne){var t=[].concat(Object(Xe.a)(_),[{name:O,location:C,price:parseInt(100*parseFloat(U)),description:$,rating:B,label:O,value:O+(new Date).toISOString()}]);re(!1),We.user.setAutofill(t).then((function(){K(t),localStorage.setItem("autofill",JSON.stringify(t)),S.a.fire(x.a.t("Saved!"),x.a.t("You can now autofill your next purchase with these drink details."),"success")})).catch((function(e){re(!0),V(e)}))}}else S.a.fire(x.a.t("Can't save drink without name"),x.a.t("Please add a name to save to the autofill list"),"error")},className:"text ".concat(ne?"":"saved")},b(ne?"SAVE":"SAVED")),r.a.createElement("div",null),r.a.createElement("button",{disabled:!Z,id:"add-drink--button",onClick:le,className:"text"},b(null!==m&&void 0!==m?m:"ADD"))))))}))),Et=Object(l.h)((function(e){var t=e.match,a=Object(n.useState)(null),c=Object(o.a)(a,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){var e;(null===t||void 0===t||null===(e=t.params)||void 0===e?void 0:e.drinkid)&&l(JSON.parse(localStorage.getItem(t.params.drinkid)))}),[t]),r.a.createElement(gt,{pageTitle:"Edit a Purchase",buttonTitle:"UPDATE",editData:i})})),Ot=a(124),yt=a.n(Ot),wt=a(125),kt=a.n(wt),Nt=[a(122),a(123)],jt=[{value:0,label:"default"},{value:1,label:"dark"}],St=function(e){localStorage.setItem("theme",e);var t=Nt[e].themeStyles;for(var a in t)document.documentElement.style.setProperty(a,t[a])},xt=function(){var e;return Number(null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:0)},Ct=function(){St(xt())},At=a(90),Dt=a.n(At),It=(a(195),a(91)),Ut=(a(196),It.data.length),Lt=function(e){var t=e.img,n=e.title,c=e.path,i=e.desc;return r.a.createElement("div",{className:"slide"},void 0===t?"":r.a.createElement("img",{alt:"",src:a(197)("./"+t)}),r.a.createElement("h3",null,n),r.a.createElement("span",null,(null!==c&&void 0!==c?c:[]).join(" > ")),r.a.createElement("p",null,i))},Ft=function(e){var t=e.open,a=e.setOpen,c=Object(n.useState)(0),i=Object(o.a)(c,2),l=i[0],s=i[1],d=Object(u.a)().t;return r.a.createElement(v,{open:t,setOpen:a},r.a.createElement("div",{className:"help-content"},r.a.createElement("h2",null,d("What's New?")),r.a.createElement(Dt.a,{slides:It.data.map((function(e){return r.a.createElement(Lt,Object.assign({key:e.title},e))})),value:l,onChange:s,animationSpeed:250}),r.a.createElement(At.Dots,{value:l,number:Ut,onChange:s})))},Pt=(a(208),a(209),function(e){var t,a,c,i=e.open,l=e.setOpen,s=Object(u.a)().t,d=Object(n.useState)((null!==(t=We.get.currentUser.profile.budget)&&void 0!==t?t:1e4)/100),m=Object(o.a)(d,2),p=m[0],f=m[1],h=Object(n.useState)(null!==(a=We.get.currentUser.profile.limit)&&void 0!==a?a:15),b=Object(o.a)(h,2),E=b[0],O=b[1],y=Object(n.useState)(null!==(c=We.get.currentUser.profile.sharing)&&void 0!==c&&c),w=Object(o.a)(y,2),k=w[0],N=w[1],j=Object(n.useState)(!1),S=Object(o.a)(j,2),x=S[0],C=S[1],A=function(e){return function(t){e(t.target.value)}},D=function(){l(!1),f(We.get.currentUser.profile.budget/100),O(We.get.currentUser.profile.limit),N(We.get.currentUser.profile.sharing)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{open:i,setOpen:l},r.a.createElement("div",{className:"user-modal"},r.a.createElement("img",{src:We.get.currentUser.user.photoURL,className:"avatar",alt:"user"}),r.a.createElement("button",{className:"close-button",onClick:D},r.a.createElement(yt.a,null)),r.a.createElement("button",{className:"help-button",onClick:function(){C(!x)}},r.a.createElement(kt.a,null)),r.a.createElement("h1",null,s("User Settings")),r.a.createElement(g,{id:"monthly-spending-input",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",variant:"outlined",margin:"normal",onChange:A(f),value:p,label:s("Monthly Spending Limit")}),r.a.createElement(g,{id:"monthly-drinking-limit",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",className:"input",margin:"dense",variant:"outlined",onChange:A(O),value:E,label:s("Max of drinks / month")}),r.a.createElement("label",{className:"theme-label"},"Theme:"),r.a.createElement(vt.a,{options:jt,defaultValue:jt[xt()],name:"theme",onChange:function(e){var t=e.value;St(t)},className:"theme-select"}),r.a.createElement("div",{className:"button-holder"},r.a.createElement("button",{className:"logout text",onClick:M},s("LOGOUT")),r.a.createElement("button",{className:"update",onClick:function(){var e={budget:100*parseFloat(p),limit:parseInt(E),sharing:k};We.user.update(e,(function(){We.get.currentUser.profile=e,localStorage.setItem("user",JSON.stringify(We.get.currentUser)),D()}))}},s("UPDATE"))))),r.a.createElement(Ft,{open:x,setOpen:C}))}),Mt=a(126),Tt=a.n(Mt),Rt=a(127),Jt=a.n(Rt),Bt=(a(210),function(e){var t=e.name,a=e.location,n=e.description,c=e.date,i=Object(u.a)().t;return r.a.createElement("div",{className:"expanded-drink-description--wrapper"},r.a.createElement("p",{className:"title"},t,r.a.createElement("br",null),r.a.createElement("span",null,"@",a)),r.a.createElement("br",null),r.a.createElement("p",{className:"description"},n),r.a.createElement("br",null),r.a.createElement("p",{className:"date"},r.a.createElement("span",null,i("on"))," ",c))}),Yt=(a(211),a(73)),Wt=Object(l.h)((function(e){var t=e.data,a=e.history,c=e.triggerUpdate,i=Object(u.a)().t,l=Object(n.useState)(!1),s=Object(o.a)(l,2),m=s[0],p=s[1],f=Object(n.useState)(!0),h=Object(o.a)(f,2),b=h[0],v=h[1],g=function(){me.deleteDrink(t.id,We.get.currentUser.drinkids),localStorage.setItem("user",JSON.stringify(We.get.currentUser)),We.user.updateStats(),c(Object(Xe.a)(We.get.currentUser.drinkids))},E=function(){var e=Object(N.a)(k.a.mark((function e(){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.prev=1,e.next=4,L.collection("users/".concat(We.get.currentUser.user.uid,"/blog")).doc("user").get();case 4:if(n=e.sent,void 0===(n=null===(a=n.data())||void 0===a?void 0:a.restrictedUntil)||!Object(Yt.a)(new Date(n),new Date)){e.next=9;break}return v(!0),e.abrupt("return",(r=new Date(n).toDateString(),void S.a.fire(x.a.t("Oh no!"),x.a.t("You can't publish a new post until "+r+". If the time restriction is greater than 1 minute, you have likely been temporarily banned from posting."),"error")));case 9:return e.next=11,We.publish(t);case 11:S.a.fire(x.a.t("Success!"),x.a.t("Drink published on your blog!"),"success"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),v(!0),V(e.t0);case 18:case"end":return e.stop()}var r}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),O=new Date(t.date).toDateString();return r.a.createElement("div",{className:"drink-panel"},r.a.createElement("div",{className:"info",onClick:function(){p(!m)}},r.a.createElement("p",{className:"place"},t.location),r.a.createElement("p",{className:"price"},i("$"),d(t.price)),r.a.createElement("div",{className:"expand-icon"},m?r.a.createElement(Tt.a,null):r.a.createElement(Jt.a,null)),r.a.createElement("p",{className:"name"},t.name),r.a.createElement("p",{className:"time"},O.substr(4))),r.a.createElement("div",{className:"collapsed-info"+(m?" expanded":"")},r.a.createElement(Bt,Object.assign({},t,{date:O})),r.a.createElement("div",{className:"options"},r.a.createElement("button",{className:"text",onClick:E,disabled:!b},i("PUBLISH")),r.a.createElement("button",{className:"text",onClick:function(){a.push("/edit/"+t.id)}},i("EDIT")),r.a.createElement("button",{className:"text",onClick:function(){We.drinks.delete(t.id,g)}},i("DELETE")))))})),Ht=(a(212),function(e){var t=e.click;return r.a.createElement("div",{className:"thaman-color"},r.a.createElement("div",{className:"history-load-more",onClick:t},"\u2022 \u2022 \u2022"))}),Vt=function(e){var t=e.label,a=Object(u.a)().t;return r.a.createElement("div",{className:"thaman-color none-label"},r.a.createElement("h3",{className:"bw none-label"},a(t)))},$t=function(){var e=Object(u.a)().t,t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),m=s[0],p=s[1],f=Object(n.useState)({complete:5,recent:7}),h=Object(o.a)(f,2),b=h[0],v=h[1],g=Object(n.useState)([]),E=Object(o.a)(g,2),O=E[0],y=E[1],w=Object(n.useState)(We.get.currentUser.drinkids),k=Object(o.a)(w,2),N=k[0],j=k[1],S=Number(JSON.parse(localStorage.getItem("metrics")).tc),x=Number(JSON.parse(localStorage.getItem("completeMetrics")).tc);Object(n.useEffect)((function(){var e=[],t=[],a=[],n=new Date,c=n.getMonth(),l=n.getFullYear(),o=b.complete,s=b.recent;N.forEach((function(n){var i=JSON.parse(localStorage.getItem(n));a.push(i);var u=new Date(i.date),d=u.getMonth()===c&&u.getFullYear()===l;d&&s>0?(e.push(r.a.createElement(Wt,{triggerUpdate:j,key:i.id,data:i})),s--):!d&&o>0&&(t.push(r.a.createElement(Wt,{triggerUpdate:j,key:i.id,data:i})),o--)})),0===e.length&&(e.push(r.a.createElement(Vt,{key:"@ryqndev/empty",label:"no drinks this month ...yet"})),0===t.length&&t.push(r.a.createElement(Vt,{key:"@ryqndev/empty",label:"Add a drink to start!"}))),s<=0&&e.push(r.a.createElement(Ht,{key:"@ryqndev/load",click:function(){v(Object(se.a)(Object(se.a)({},b),{},{recent:b.recent+10}))}})),o<=0&&t.push(r.a.createElement(Ht,{key:"@ryqndev/load",click:function(){v(Object(se.a)(Object(se.a)({},b),{},{complete:b.complete+10}))}})),i([].concat(e)),p([].concat(t)),y(a)}),[N.length,N,b,b.recent,b.complete]);return r.a.createElement("div",{className:"history-page"},r.a.createElement("h3",{className:"bw"},e("Drink History")),r.a.createElement(Q,{placeholder:e("Search your history..."),data:O,keys:["description","location","name","price"],Result:function(e){var t=e.item;e.matches;return r.a.createElement(Wt,{triggerUpdate:j,data:t})}}),r.a.createElement("h3",{className:"bw"},e("Monthly Spending")),r.a.createElement("div",{className:"history-spending"},c),r.a.createElement("h3",{className:"bw history-total"},r.a.createElement("span",null,e("Monthly Total"),":")," ",e("$"),d(S)),r.a.createElement("h3",{className:"bw"},e("Overall Spending")),r.a.createElement("div",{className:"history-spending"},m),r.a.createElement("h3",{className:"bw history-total"},r.a.createElement("span",null,e("Complete Total"),":")," ",e("$"),d(x)))},qt=(a(213),{fontFamily:"Poppins",fontWeight:700,color:"white",fontSize:44,marginBottom:20}),Gt=function(){return Object(n.useEffect)((function(){P.start("#auth-container",{signInOptions:[A.a.auth.GoogleAuthProvider.PROVIDER_ID,A.a.auth.FacebookAuthProvider.PROVIDER_ID]})})),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-logo"}),r.a.createElement("h1",{style:qt},"boba watch"),r.a.createElement("div",{id:"auth-container"}))};function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Kt=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",stroke:"#F68080"}),Xt=function(e){var t=e.svgRef,a=e.title,n=_t(e,["svgRef","title"]);return r.a.createElement("svg",zt({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,Kt)},Qt=r.a.forwardRef((function(e,t){return r.a.createElement(Xt,zt({svgRef:t},e))}));a.p;function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ea(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ta=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7589 3.55723C10.6752 3.35482 10.4781 3.22276 10.2599 3.22276H7.35361L5.88318 0.274799C5.70012 -0.0915996 5.10018 -0.0915996 4.91712 0.274799L3.44615 3.22276H0.539864C0.321703 3.22276 0.124603 3.35482 0.0409023 3.55723C-0.0422579 3.7591 0.00364222 3.99236 0.158083 4.14661L2.63345 6.62751L1.64093 10.1102C1.57883 10.3283 1.65875 10.5621 1.84181 10.6958C2.02487 10.83 2.27165 10.8349 2.45957 10.7088L5.39988 8.74417L8.34019 10.7088C8.43145 10.7694 8.53567 10.7997 8.63989 10.7997C8.75167 10.7997 8.86345 10.765 8.95849 10.6958C9.14101 10.5621 9.22147 10.3283 9.15937 10.1102L8.16631 6.62751L10.6417 4.14661C10.7961 3.99236 10.8426 3.7591 10.7589 3.55723Z",fill:"#F68080"}),aa=function(e){var t=e.svgRef,a=e.title,n=ea(e,["svgRef","title"]);return r.a.createElement("svg",Zt({viewBox:"0 0 11 11",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,ta)},na=r.a.forwardRef((function(e,t){return r.a.createElement(aa,Zt({svgRef:t},e))})),ra=(a.p,a(129)),ca=a.n(ra),ia=a(128),la=a.n(ia),oa=a(71),sa=a.n(oa),ua=new sa.a,da=function(e){e.match,e.location;var t,a=e.children,c=(e.staticContext,e.expandable),i=void 0===c||c,l=e.person,s=e.isLiked,m=void 0!==s&&s,h=e.setExpand,b=Object(p.a)(e,["match","location","children","staticContext","expandable","person","isLiked","setExpand"]),v=Object(u.a)().t,g=Object(n.useState)(m),E=Object(o.a)(g,2),O=E[0],y=E[1],w=Object(n.useState)(null!==(t=null===b||void 0===b?void 0:b.likes)&&void 0!==t?t:0),k=Object(o.a)(w,2),N=k[0],j=k[1];return Object(n.useEffect)((function(){m||be(b.id).then((function(e){e&&y(!0)}))}),[m,b.id]),r.a.createElement(f,{className:"feed-item"},r.a.createElement("div",{className:"header"},r.a.createElement("span",null,ua.clean(b.name)),r.a.createElement("p",{className:"favorite-amount"},m?"":N>999?(N/100>>0)+"k":N<0?0:N),r.a.createElement("div",{className:"favorite",onClick:function(){We.blog.like(b.id,b,!O).then((function(){j(N+(O?-1:1)),O?he(b):fe(b),y(!O)})).catch((function(e){he(b),y(!1)}))}},O?r.a.createElement(la.a,null):r.a.createElement(ca.a,null))),r.a.createElement("div",{className:"item-content"},r.a.createElement("p",{className:"location"},ua.clean(b.place)),r.a.createElement("p",{className:"price"},v("$"),d(b.price)),null!==b.rating&&void 0!==b.rating&&r.a.createElement("div",{className:"ratings-holder"},r.a.createElement(it.a,{name:"rating",starCount:5,value:b.rating,renderStarIcon:function(e,t){return e<=t?r.a.createElement(na,null):r.a.createElement(Qt,null)}})),r.a.createElement("p",{className:"date"},new Date(b.date).toDateString()),r.a.createElement("p",{className:"description"},ua.clean(i?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return e.length>t?e.substr(e,t-4)+"...":e}(b.description):b.description)),i&&r.a.createElement("div",{className:"expand-wrapper"},r.a.createElement("button",{onClick:function(){h(Object(se.a)({show:!0,person:l},b))}},"view full post")),a))},ma=da,pa=Object(l.h)((function(e){var t,a,c=e.uid,i=e.history,l=Object(p.a)(e,["uid","history"]),s=Object(n.useState)(null),u=Object(o.a)(s,2),d=u[0],m=u[1];Object(n.useEffect)((function(){null===d&&Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(c).then((function(e){m(e.data())})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))()}),[c,d]);return r.a.createElement("div",{className:"feed-avatar"},r.a.createElement("div",{className:"user",onClick:function(){i.push("/blog/"+c)}},r.a.createElement("img",{src:null!==(t=null===d||void 0===d?void 0:d.profile)&&void 0!==t?t:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",alt:" "}),r.a.createElement("h2",null,ua.clean(null!==(a=null===d||void 0===d?void 0:d.name)&&void 0!==a?a:"Boba Bro"))),r.a.createElement(da,Object.assign({},l,{person:d,uid:c})))})),fa=a(273),ha=(a(105),function(e){var t=e.displayCount,a=e.setDisplayCount,c=e.expand,i=Object(n.useState)([]),l=Object(o.a)(i,2),s=l[0],u=l[1],d=Object(n.useState)("published"),m=Object(o.a)(d,2),p=m[0],f=m[1],h=Object(n.useState)("all"),v=Object(o.a)(h,2),g=v[0],E=v[1];return Object(n.useEffect)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"published",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",n=arguments.length>3?arguments[3]:void 0,r=new Date;switch(a){case"week":r=Object(I.a)(r,1);break;case"month":r=Object(U.a)(r,1);break;case"all":default:r=new Date(0)}return r=A.a.firestore.Timestamp.fromDate(r),"published"===t?L.collection("blogs").orderBy("published","desc").where("published",">=",r).limit(e).onSnapshot(n):L.collection("blogs").orderBy("published").where("published",">=",r).orderBy(t,"desc").limit(e).onSnapshot(n)}(t,p,g,(function(e){u(e.docs.map((function(e){return Object(se.a)({id:e.id},e.data())})))}))}),[t,p,g]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"info-card"},r.a.createElement("h1",null,"EXPLORE"),"Check out what other users around the world are drinking right now or publish your own.",r.a.createElement("div",{className:"filter-split"},r.a.createElement("div",{className:"filter-border"},"currently showing:"),r.a.createElement("div",{className:"new-popular--toggle toggle"},r.a.createElement("div",{className:"left ".concat("published"===p&&"selected"),onClick:function(){f("published")}},"new"),r.a.createElement("div",{className:"right ".concat("likes"===p&&"selected"),onClick:function(){f("likes")}},"top")),r.a.createElement("div",{className:"time-length--toggle toggle"},r.a.createElement("div",{className:"left ".concat("week"===g&&"selected"),onClick:function(){E("week")}},"week"),r.a.createElement("div",{className:"month"===g?"selected":"",onClick:function(){E("month")}},"month"),r.a.createElement("div",{className:"right ".concat("all"===g&&"selected"),onClick:function(){E("all")}},"all")))),r.a.createElement(fa.a,null,s.map((function(e,t){var a;return r.a.createElement(b.a,{timeout:250+50*t,classNames:"fade-left",key:e.id},r.a.createElement(pa,Object.assign({key:e.id,place:e.location,isLiked:null!==(a=null===e||void 0===e?void 0:e.fave)&&void 0!==a&&a,setExpand:c},e)))}))),s.length>=t&&r.a.createElement("div",{className:"show-more",onClick:function(){a((function(e){return e+8}))}},"Show more"))}),ba=function(e){var t=e.expand,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){var e=[];ve().then((function(t){e=e.concat(t),l(e)}))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"info-card"},r.a.createElement("h1",null,"FAVES"),"Look back at some of your favorite posts! Everytime you like a post, they'll show up here until you unlike them."),r.a.createElement(fa.a,null,i.map((function(e,a){return r.a.createElement(b.a,{mountOnEnter:!0,unmountOnExit:!0,timeout:350+50*a,classNames:"fade-left",key:e.id},r.a.createElement(pa,Object.assign({key:e.id,place:e.location,isLiked:!0,setExpand:t},e)))}))))},va=(a(226),function(e){var t=e.ownerUID,a=e.currentUID,c=e.initialDisplayCount,i=void 0===c?2:c,l=Object(n.useState)(null),s=Object(o.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(i),p=Object(o.a)(m,2),f=p[0],h=p[1];Object(n.useEffect)((function(){d(null);var e=!0,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2?arguments[2]:void 0;return L.collection("blogs").where("uid","==",e).orderBy("date","desc").limit(t).onSnapshot(a)}(t,f,(function(t){e&&d(t.docs.map((function(e){return Object(se.a)({id:e.id},e.data())})))}),f);return function(){e=!1,a()}}),[t,f]);var v=function(e){_().then((function(t){t.value&&T(e).then(function(){var t=Object(N.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.a.fire(x.a.t("Deleted!"),x.a.t("Your post has been deleted."),"success"),d(u.filter((function(t){return t.id!==e})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(V)}))};return r.a.createElement("div",{className:"blog-reviews--wrapper"},null===u?r.a.createElement("h3",{key:"@ryqndev/loading"},"Loading..."):0===(null===u||void 0===u?void 0:u.length)&&r.a.createElement("h3",{key:"@ryqndev/empty"},"No Published Reviews"),r.a.createElement(fa.a,null,function(e){return e?e.map((function(e,n){return r.a.createElement(b.a,{mountOnEnter:!0,unmountOnExit:!0,timeout:350+50*n,classNames:"fade-left",key:e.id},r.a.createElement(ma,Object.assign({place:e.location,expandable:!1},e),t===a&&r.a.createElement("div",{className:"item-controls"},r.a.createElement("button",{onClick:function(){v(e.id)}},"DELETE"))))})):[]}(u)),u&&u.length>=f?r.a.createElement("div",{key:"@ryqndev/show",className:"more",onClick:function(){h(f+5)}},"Click to show more"):r.a.createElement("div",{key:"@ryqndev/end",className:"end"},"No more posts to show."))}),ga=(a(227),Object(l.h)((function(e){var t=e.show,a=e.person,c=e.name,i=e.place,l=e.description,s=e.date,u=e.uid,d=e.id,m=e.history,p=Object(n.useState)(!0),f=Object(o.a)(p,2),h=f[0],b=f[1],v=function(){var e=Object(N.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return b(!1),e.next=5,S.a.fire({input:"textarea",inputPlaceholder:"Reason for report...",inputAttributes:{"aria-label":"Reason for report...",maxlength:300},showCancelButton:!0});case 5:t=e.sent,(n=t.value)&&L.collection("reports").doc(d).set({[We.get.currentUser.user.uid]:n,post:{desc:l,name:c,person:a,date:s,uid:u}},{merge:!0}).then((function(){S.a.fire("Report received!","Sorry you had to see that.... Thanks for reporting this to us so we can take a closer look at and take appropriate action","success"),b(!0)})).catch(V),b(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t&&r.a.createElement("div",{className:"expanded-feed-item--wrapper"},r.a.createElement("div",{className:"user"},r.a.createElement("img",{src:a.profile,alt:" ",onClick:function(){m.push("/blog/"+u)}}),r.a.createElement("h2",null,a.name)),r.a.createElement("div",{className:"content"},r.a.createElement(Bt,{name:c,location:i,description:l,date:new Date(s).toDateString()}),r.a.createElement("div",{className:"more-options-display"},r.a.createElement("button",{className:"share",onClick:function(){navigator.share({title:a.name+"'s profile",url:"https://share.boba.watch/#/"+u})}},"SHARE"),r.a.createElement("button",{className:"report",onClick:v},"REPORT")),r.a.createElement("h2",{className:"review"},r.a.createElement("span",null,"\u2605")," OTHER REVIEWS ",r.a.createElement("span",null,"\u2605")),r.a.createElement(va,{ownerUID:u,currentUID:We.get.currentUser.user.uid,initialDisplayCount:1})))}))),Ea=Object(l.h)((function(e){var t=e.location,a=Object(u.a)().t,c=Object(n.useState)({show:!1}),i=Object(o.a)(c,2),d=i[0],m=i[1],p=Object(n.useState)(10),f=Object(o.a)(p,2),h=f[0],b=f[1];return r.a.createElement("div",{className:"feed-page"},r.a.createElement("div",{className:"feed-header"},r.a.createElement("div",{className:"icon"}),a("EXPLORE"),r.a.createElement(s.b,{className:"/feed"===t.pathname?"selected":"",to:"/feed"},a("PUBLIC")),r.a.createElement(s.b,{className:"/feed/fave"===t.pathname?"selected":"",to:"/feed/fave"},a("FAVES"))),r.a.createElement("div",{className:"content"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,strict:!0,path:"/feed"},r.a.createElement(ha,{expand:m,displayCount:h,setDisplayCount:b})),r.a.createElement(l.b,{exact:!0,strict:!0,path:"/feed/fave"},r.a.createElement(ba,{expand:m,displayCount:10}))),r.a.createElement("div",{className:"feed-end"},"No more posts to show")),r.a.createElement(v,{open:d.show,setOpen:function(e){m({show:e})}},r.a.createElement(ga,d)))})),Oa=a(130),ya=a.n(Oa),wa=function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem("metrics"))),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){c({}),Object(N.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=c,t.next=4,R(e);case 4:t.t1=t.sent.data(),(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),c(Ee);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[e]),r},ka=a(269),Na=function(e){var t=e.translate,a=void 0!==t&&t,n=e.children,c=Object(u.a)().t;return r.a.createElement(ka.a,null,r.a.createElement(b.a,{key:n,classNames:"fade-quick",timeout:100},r.a.createElement("span",null,a?c(n):n)))},ja=(a(231),function(e){var t,a,n=e.totalDrinksPurchased,c=e.averageDrinkCost,i=e.totalSpent,l=Object(u.a)().t;return r.a.createElement("div",{className:"blog-stats--wrapper"},r.a.createElement("label",null,"DRINKS PURCHASED")," ",r.a.createElement("p",{className:"value"},r.a.createElement(Na,null,null!==n&&void 0!==n?n:"---")),r.a.createElement("label",null,"DRINK AVERAGE")," ",r.a.createElement("p",{className:"value"},r.a.createElement(Na,null,l("$"),null!==(t=d(c))&&void 0!==t?t:"---")),r.a.createElement("label",null,"TOTAL SPENT")," ",r.a.createElement("p",{className:"value"},r.a.createElement(Na,null,l("$"),null!==(a=d(i))&&void 0!==a?a:"---")))}),Sa=a(131),xa=a.n(Sa),Ca=a(92),Aa=a.n(Ca),Da=(a(232),new sa.a),Ia=function(){var e=Object(l.g)().userid,t=wa(e),a=Object(u.a)().t,c=Object(n.useState)("---"),i=Object(o.a)(c,2),s=i[0],d=i[1],m=Object(n.useState)(we),p=Object(o.a)(m,2),f=p[0],b=p[1],v=Object(n.useState)(We.get.currentUser.user.photoURL),g=Object(o.a)(v,2),E=g[0],O=g[1],y=Object(n.useState)(We.get.currentUser.user.displayName),w=Object(o.a)(y,2),j=w[0],C=w[1],A=Object(n.useState)(!1),D=Object(o.a)(A,2),I=D[0],U=D[1],L=Object(n.useState)(We.get.currentUser.profile.sharing),F=Object(o.a)(L,2),P=F[0],M=F[1];Object(n.useEffect)((function(){if(O(Aa.a),C("Loading..."),U(e===We.get.currentUser.user.uid),void 0!==e){var t=!0;return Object(N.a)(k.a.mark((function a(){var n,r,c,i,l;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J(e);case 3:if(l=(l=a.sent).data(),t){a.next=7;break}return a.abrupt("return");case 7:b(Da.clean(null!==(n=l.bio)&&void 0!==n?n:we)),C(null!==(r=l.name)&&void 0!==r?r:ye),O(null!==(c=l.profile)&&void 0!==c?c:ke),d(Da.clean(null!==(i=l.location)&&void 0!==i?i:Oe)),a.next=21;break;case 13:if(a.prev=13,a.t0=a.catch(0),t){a.next=17;break}return a.abrupt("return");case 17:b("This person does not exist. This could either be an error, a bug, or more likely, the user has privated their profile."),C("Who dis?"),O(Aa.a),d("Not in Boba World :(");case 21:case"end":return a.stop()}}),a,null,[[0,13]])})))(),function(){t=!1}}}),[e]);var T=function(){var e=Object(N.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,z();case 4:t=e.sent,(a=t.value)&&We.blog.setProfile({location:a}).then((function(){d(a),S.a.fire(x.a.t("Done!"),x.a.t("Your public location has been changed."),"success")})).catch(V);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(N.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G();case 4:t=e.sent,(a=t.value)&&We.blog.setProfile({bio:a}).then((function(){b(a),S.a.fire(x.a.t("Done!"),x.a.t("Your bio has been updated."),"success")})).catch(V);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"blog-page"},r.a.createElement("div",{className:"blog-header"}," ",r.a.createElement("div",{className:"icon"}),"PUBLIC PROFILE PREVIEW"),r.a.createElement("div",{className:"user"},r.a.createElement("img",{src:E,alt:" "}),r.a.createElement("h2",null,r.a.createElement(Na,{defaultKey:"Loading..."},j))),r.a.createElement("div",{className:"profile"},r.a.createElement(xa.a,{className:"icon",onClick:T})," ",r.a.createElement(Na,null,s),r.a.createElement("p",{onClick:R},r.a.createElement(Na,null,f)),I&&r.a.createElement("div",{className:"user-share "},r.a.createElement("div",{className:"user-share-profile"},a("make profile public"),":",r.a.createElement(ya.a,{defaultChecked:P,onClick:function(){!function(e){var t=We.get.currentUser.profile;We.user.update(Object(se.a)(Object(se.a)({},t),{},{sharing:!t.sharing}),(function(){t.sharing=!t.sharing,e(t.sharing)}))}(M)},label:a("make profile public")}),r.a.createElement(h,{className:"user-share-toggle-grid",open:P},r.a.createElement(K,{text:"https://share.boba.watch/#/".concat(We.get.currentUser.user.uid)}))))),r.a.createElement(ja,{totalDrinksPurchased:t.ctd,averageDrinkCost:t.cad,totalSpent:t.ctc}),r.a.createElement("h2",{className:"review"},r.a.createElement("span",null,"\u2605")," REVIEWS ",r.a.createElement("span",null,"\u2605")),r.a.createElement("div",{className:"reviews-holder"},r.a.createElement(va,{ownerUID:e,currentUID:We.get.currentUser.user.uid})))},Ua=Object(n.createContext)(),La=function(e){var t=e.path,a=e.children;return r.a.createElement(l.b,{exact:!0,path:t},(function(e){var t=e.match;return r.a.createElement(b.a,{unmountOnExit:!0,mountOnEnter:!0,in:null!=t,timeout:100,classNames:"fade-quick"},r.a.createElement("div",{className:"page with-user"},a))}))},Fa=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(s.a,{basename:""},r.a.createElement(La,{path:"/"},r.a.createElement(Ke,null),r.a.createElement(Pa,{setUser:c})),r.a.createElement(La,{path:"/history"},r.a.createElement($t,null),r.a.createElement(Pa,{setUser:c})),r.a.createElement(La,{path:"/add"},r.a.createElement(gt,null),r.a.createElement(Pa,{setUser:c})),r.a.createElement(La,{path:"/edit/:drinkid"},r.a.createElement(Et,null),r.a.createElement(Pa,{setUser:c})),r.a.createElement(l.b,{strict:!0,path:"/feed"},r.a.createElement("div",{className:"page"},r.a.createElement(Ea,null))),r.a.createElement(l.b,{exact:!0,path:"/blog/:userid"},r.a.createElement("div",{className:"page"},r.a.createElement(Ia,null))),r.a.createElement(Pt,{open:a,setOpen:c}),r.a.createElement(He,null))},Pa=function(e){var t=e.setUser;return r.a.createElement("img",{src:We.get.currentUser.user.photoURL,alt:"user settings",className:"avatar-button",onClick:t.bind(null,!0)})},Ma=Object(l.h)((function(e){var t=e.history,a=Object(n.useState)(),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){Ct(),We.init((function(e){s(e),t.push(e?"/app":"/login")})),console.log("v2.0.6")}),[t]),r.a.createElement(Ua.Provider,{value:[i]},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"}),r.a.createElement(l.b,{path:"/login"},r.a.createElement(Gt,null)),r.a.createElement(l.b,{path:"/app"},r.a.createElement(Fa,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.isUpdateAvailable=new Promise((function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then((function(t){t.onupdatefound=function(){var a=t.installing;a.onstatechange=function(){switch(a.state){case"installed":navigator.serviceWorker.controller?e(!0):e(!1)}}}})).catch((function(e){return console.error("[SW ERROR]",e)}))}));a(233),a(234),a(235);var Ta=a(135),Ra=a(62),Ja={en:a(132)};x.a.use(Ta.a).use(Ra.e).init({resources:Ja,detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});x.a;try{i.a.render(r.a.createElement(l.a,{basename:"",initialEntries:["/","/login","/app"],initialIndex:0},r.a.createElement(Ma,null)),document.getElementById("root"))}catch(Ba){M()}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e){e.exports=JSON.parse('{"data":[{"img":"theme.png","title":"Dark Mode","path":["user","theme","[SELECT dark]"],"desc":"You can now search through your history of drinks!. The search feature will be able to match description, location, name, and price. (date search funcitonality currently in the works!)"},{"img":"search.png","title":"Search","path":["history","Search..."],"desc":"You can now search through your history of drinks!. The search feature will be able to match description, location, name, and price. (date search funcitonality currently in the works!)"},{"img":"edit.png","title":"Edit","path":["history","[any drink]","EDIT"],"desc":"You can now edit a drink entry without having to delete and create a new one. Just click the edit button after selecting a drink entry."},{"img":"publish.png","title":"Publish","path":["history","[any drink]","PUBLISH"],"desc":"Start your own blog by publishing your drink entries for the world to see. Note: privating your profile will only keep your profile hidden and people may still be able to see your posts on their feed."},{"img":"rating.png","title":"Rating","path":["add","RATING"],"desc":"You can now rate your drinks with a 1-5 star rating system!"},{"img":"save.png","title":"Save","path":["add","[fill drink detail]","SAVE"],"desc":"Find yourself adding the same drinks over and over again? Now, you can fill out the add page and click \'SAVE\' to save drinks to your autofill list."},{"img":"autofill.png","title":"Autofill","path":["add","Autofill with saved entry","[SELECT]"],"desc":"After saving drinks to your autofilled list, you can quickly fill out the form by selecting it from the dropdown menu. Your autofill list will save the following entries: [location, drink name, price, rating, description]"},{"img":"feed.png","title":"Feed","path":["feed"],"desc":"All drinks and posts that anyone choose to publish will be displayed through the global feed. You can \'like\' posts that you find interesting and they will be saved in your \'faves\' tab unless deleted by the creator"},{"img":"profiles.png","title":"Profiles","path":["feed","[click on user\'s avatar]"],"desc":"You can view any person\'s profile by clicking on their avatar. "},{"img":"manage.png","title":"Manage your Profile","path":["blog","[location icon or bio]"],"desc":"You can edit your profile location or bio anytime by just clicking on them. Here, you can also view and manage your public posts."},{"title":"Moderation","desc":"We reserve the right to remove you from the platform. Please exercise common sense when posting things publicly. If you are found to be posting material we deem inappropriate or irrelevant, you will be banned from posting."}]}')},92:function(e,t,a){e.exports=a.p+"static/media/logo-shadow.0824830a.svg"}},[[150,1,2]]]);
//# sourceMappingURL=main.b5a7f600.chunk.js.map