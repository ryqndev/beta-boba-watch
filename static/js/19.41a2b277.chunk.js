(this["webpackJsonpboba-watch"]=this["webpackJsonpboba-watch"]||[]).push([[19],{396:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var c=a(9),n=a(8),i=a(1),l=a(279),s=a(356),o=a(20),d=a.n(o),r=a(65),u=a(294),b=a(494),j=a(359),m=a(39),h=a(333),v=(a(396),a(2)),O=function(){var e,t,a,o=Object(l.a)().t,O=Object(j.a)(),f=O.disabled,x=O.form,p=O.id,g=O.setForm,N=O.editForm,C=O.handleChange,D=O.submit,w=Object(j.b)(),A=w.autofill,E=w.add,T=w.remove,k=Object(i.useState)([]),y=Object(n.a)(k,2),B=y[0],S=y[1];Object(i.useEffect)((function(){S(A.map((function(e){var t,a;return Object(c.a)({label:(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"")+"@"+(null!==(a=null===e||void 0===e?void 0:e.location)&&void 0!==a?a:"")},e)})))}),[A]);return Object(v.jsx)("div",{className:"page with-user",children:Object(v.jsxs)("form",{className:"add-modal",onSubmit:D,children:[Object(v.jsx)("h4",{className:"bw title",children:o("".concat(p?"EDIT":"ADD"," A PURCHASE"))}),Object(v.jsxs)(m.a,{className:"add-holder",children:[Object(v.jsx)("h5",{children:o("WHAT'S THE TEA?")}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("label",{className:"autofill-label",children:"Autofill with saved entry:"}),Object(v.jsx)(r.a,{options:B,name:"autofill",onChange:function(e){d.a.fire({showCancelButton:!0,html:"use or remove entry? <br />(click outside to cancel)",cancelButtonText:"remove",confirmButtonText:"autofill",cancelButtonColor:"#f44",reverseButtons:!0}).then((function(t){t.value?g((function(t){return Object(c.a)(Object(c.a)(Object(c.a)({},t),e),{},{price:(null===e||void 0===e?void 0:e.price)?e.price/100:t.price})})):"cancel"===t.dismiss&&T(e.value)}))},className:"autofill-select"}),Object(v.jsx)("div",{className:"autofill-divider",children:"or add a new drink:"}),Object(v.jsxs)("div",{className:"holder",children:[Object(v.jsx)(m.c,{className:"tag",address:null===x||void 0===x?void 0:x.address}),Object(v.jsx)(h.e,{form:x,onChange:N,setForm:g})]}),Object(v.jsx)(m.i,{value:null!==(e=x.name)&&void 0!==e?e:"",onChange:C("name",150),label:"Drink Name"}),Object(v.jsx)(m.i,{value:null!==(t=x.price)&&void 0!==t?t:0,onChange:C("price",(function(e){return e.match(/^-?\d*\.?\d*$/)&&e.length<10})),label:"Price",type:"text"}),Object(v.jsx)(u.a,{utils:s.a,children:Object(v.jsx)(b.a,{label:"Date",value:x.date,onChange:function(e){return N("date",e,30)},inputProps:{maxLength:100}})})]}),Object(v.jsx)(m.h,{rating:x.rating,setRating:function(e){return N("rating",e)}}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)(h.d,{image:x.image,setImage:function(e){return N("image",e)}}),Object(v.jsx)(h.c,{description:null!==(a=x.description)&&void 0!==a?a:"",setDescription:function(e){return N("description",e,2500)}}),Object(v.jsxs)("div",{className:"add-button-holder",children:[Object(v.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var t=Object(c.a)(Object(c.a)({},x),{},{price:100*x.price});delete t.id,delete t.date,delete t.edited,delete t.created,E(t)},className:"text save",children:o("SAVE")}),Object(v.jsx)("div",{}),Object(v.jsx)("button",{type:"submit",disabled:f,className:"text",children:o(p?"EDIT":"ADD")})]})]})]})]})})},f=Object(i.memo)(O);t.default=f}}]);
//# sourceMappingURL=19.41a2b277.chunk.js.map