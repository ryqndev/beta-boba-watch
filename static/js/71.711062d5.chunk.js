"use strict";(self.webpackChunkboba_watch=self.webpackChunkboba_watch||[]).push([[71],{2071:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var o=t(1413),r=t(885),a=t(5987),i=t(2791),l=t(4666),c=t(8559),u=["children","className","id","placeholder","style","whenCreated"];function s(){return s=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},s.apply(this,arguments)}function d(n){var e=n.children,t=n.className,o=n.id,d=n.placeholder,f=n.style,p=n.whenCreated,v=(0,a.Z)(n,u),m=(0,i.useRef)(null),h=function(n,e){var t=(0,i.useState)(null),o=(0,r.Z)(t,2),a=o[0],l=o[1];return(0,i.useEffect)((function(){if(null!==n.current&&null===a){var t=new c.Map(n.current,e);null!=e.center&&null!=e.zoom?t.setView(e.center,e.zoom):null!=e.bounds&&t.fitBounds(e.bounds,e.boundsOptions),null!=e.whenReady&&t.whenReady(e.whenReady),l(t)}}),[n,a,e]),a}(m,v),y=(0,i.useRef)(!1);(0,i.useEffect)((function(){null!=h&&!1===y.current&&null!=p&&(y.current=!0,p(h))}),[h,p]);var g=(0,i.useState)({className:t,id:o,style:f}),x=(0,r.Z)(g,1)[0],Z=(0,i.useMemo)((function(){return h?{__version:l.cV,map:h}:null}),[h]),b=Z?i.createElement(l.UO,{value:Z},e):null!==d&&void 0!==d?d:null;return i.createElement("div",s({},x,{ref:m}),b)}var f=t(203),p=t(1003);var v=["url"],m=(0,f.Lf)((function(n,e){var t=n.url,o=(0,a.Z)(n,v);return{instance:new c.TileLayer(t,(0,p.q)(o,e)),context:e}}),(function(n,e,t){var o=e.opacity,r=e.zIndex;null!=o&&o!==t.opacity&&n.setOpacity(o),null!=r&&r!==t.zIndex&&n.setZIndex(r)})),h=t(8182),y=t(6433),g=t(9268),x="Map_container__b72Db",Z=t(184),b=["className","children","center","theme","hasCenterButton"],j=[40.4637,-3.7492],C=function(n){var e=n.className,t=n.children,l=void 0===t?function(){}:t,c=n.center,u=n.theme,s=n.hasCenterButton,f=void 0===s||s,p=(0,a.Z)(n,b),v=(0,i.useState)(null),C=(0,r.Z)(v,2),_=(C[0],C[1]);return(0,Z.jsx)(y.Zb,{className:(0,h.Z)(e),children:(0,Z.jsxs)(d,(0,o.Z)((0,o.Z)({className:x,center:null!==c&&void 0!==c?c:j,minZoom:2.5,attributionControl:!1},p),{},{children:[c&&(0,Z.jsx)(g.SJ,{center:c}),f&&(0,Z.jsx)(g.ul,{setPosition:_}),l,"dark"===u&&(0,Z.jsx)(m,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),"light"===u&&(0,Z.jsx)(m,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"})]}))})},_=(0,i.memo)(C)},9268:function(n,e,t){t.d(e,{SJ:function(){return v},ul:function(){return p},df:function(){return C}});var o=t(8182),r=t(2791),a=t(1768),i=t(500),l=t(5026),c=t(2333),u="UserLocationButton_button__mgCvr",s="UserLocationButton_center__59pZY",d=t(184),f=function(n){var e=n.setPosition,t=(0,l.Z)(),f=(0,a.Sx)(),p=(0,r.useCallback)((function(){if(console.log(null===t||void 0===t?void 0:t.lat,null===t||void 0===t?void 0:t.lng),!(null!==t&&void 0!==t&&t.lat||null!==t&&void 0!==t&&t.lng))return null;e([t.lat,t.lng]),f.flyTo([t.lat,t.lng],13,{animate:!0,duration:1})}),[t,f,e]);return(0,r.useEffect)(p,[p]),(0,d.jsxs)(d.Fragment,{children:[(null===t||void 0===t?void 0:t.lat)&&(null===t||void 0===t?void 0:t.lng)&&(0,d.jsx)(i.c,{center:[t.lat,t.lng],radius:5,fill:!0,color:"#B64040",fillColor:"#B64040",fillOpacity:"1"}),(0,d.jsx)("button",{className:(0,o.Z)(u,s),onClick:p,children:(0,d.jsx)(c.Z,{})})]})},p=(0,r.memo)(f),v=function(n){var e=n.center,t=(0,a.Sx)();return(0,r.useEffect)((function(){t.flyTo(e,13,{animate:!0,duration:.5})}),[e,t]),(0,d.jsx)("div",{})},m=t(2840),h=t(5987),y=t(885),g=["location","id","address","date"],x=function(n){var e=(0,r.useState)([]),t=(0,y.Z)(e,2),o=t[0],a=t[1];return(0,r.useEffect)((function(){a(Object.values(n.reduce((function(n,e){var t=e.location,o=e.id,r=e.address,a=e.date;(0,h.Z)(e,g);if(null===r||void 0===r||!r.lat||null===r||void 0===r||!r.lng)return n;var i=Number(r.lat).toFixed(6),l=Number(r.lng).toFixed(6),c="".concat(i,",").concat(l).concat(t);return isNaN(i)||isNaN(l)||(n.hasOwnProperty(c)?n[c].drinks.push({id:o,date:a}):n[c]={coordinates:[i,l],location:t,address:r,drinks:[{id:o,date:a}]}),n}),{})))}),[n]),{locations:o}},Z=t(1951),b="VisitedLocations_container__kuIJ6",j=function(n){var e=n.drinks,t=x(e).locations;return(0,d.jsx)(d.Fragment,{children:t.map((function(n){var e=n.coordinates,t=n.drinks,o=n.location;return(0,d.jsx)(i.c,{center:e,radius:10,fill:!0,weight:1,color:"#F68080",fillColor:"#F68080",fillOpacity:"0.5",children:(0,d.jsx)(m.G,{children:(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)("h2",{children:o}),(0,d.jsxs)("p",{children:["Visited ",(0,d.jsx)("span",{children:t.length})," times"]}),(0,d.jsx)("p",{children:"Recent visits:"}),t.slice(0,5).map((function(n){var e=n.date;return(0,d.jsx)("div",{children:(0,Z.Z)(new Date(e),"MMM d, yyyy h:mm a")},e)}))]})})},JSON.stringify(e)+o)}))})},C=(0,r.memo)(j)},5026:function(n,e,t){var o=t(1413),r=t(885),a=t(2791);e.Z=function(){var n=(0,a.useState)({}),e=(0,r.Z)(n,2),t=e[0],i=e[1],l=(0,a.useState)(null),c=(0,r.Z)(l,2),u=c[0],s=c[1],d=function(n){s(n.message)},f=function(n){var e=n.coords,t=n.timestamp;i({accuracy:e.accuracy,alt:e.altitude,altitudeAccuracy:e.altitudeAccuracy,heading:e.heading,lat:e.latitude,lng:e.longitude,timestamp:t})};return(0,a.useEffect)((function(){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(f,d,{}):s("Geolocation is not supported")}),[]),(0,o.Z)((0,o.Z)({},t),{},{error:u})}},2333:function(n,e,t){var o=t(5318),r=t(862);e.Z=void 0;var a=r(t(2791)),i=(0,o(t(4894)).default)(a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V2c0-.55-.45-1-1-1s-1 .45-1 1v1.06C6.83 3.52 3.52 6.83 3.06 11H2c-.55 0-1 .45-1 1s.45 1 1 1h1.06c.46 4.17 3.77 7.48 7.94 7.94V22c0 .55.45 1 1 1s1-.45 1-1v-1.06c4.17-.46 7.48-3.77 7.94-7.94H22c.55 0 1-.45 1-1s-.45-1-1-1h-1.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"MyLocationRounded");e.Z=i},2840:function(n,e,t){t.d(e,{G:function(){return i}});var o=t(203),r=t(8559),a=t(2791),i=(0,o.SO)((function(n,e){return{instance:new r.Popup(n,e.overlayContainer),context:e}}),(function(n,e,t,o){var r=t.onClose,i=t.onOpen,l=t.position;(0,a.useEffect)((function(){var t=n.instance;function a(n){n.popup===t&&(t.update(),o(!0),null==i||i())}function c(n){n.popup===t&&(o(!1),null==r||r())}return e.map.on({popupopen:a,popupclose:c}),null==e.overlayContainer?(null!=l&&t.setLatLng(l),t.openOn(e.map)):e.overlayContainer.bindPopup(t),function(){e.map.off({popupopen:a,popupclose:c}),e.map.removeLayer(t)}}),[n,e,o,r,i,l])}))},1768:function(n,e,t){t.d(e,{Sx:function(){return r}});var o=t(4666);t(2791);function r(){return(0,o.mE)().map}}}]);
//# sourceMappingURL=71.711062d5.chunk.js.map